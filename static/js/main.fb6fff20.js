/*! For license information please see main.fb6fff20.js.LICENSE.txt */
(()=>{var e={857:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var g=1,m=1,v=0,y=0,b=0,_="";function w(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:g,column:m,length:s,return:""}}function x(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return b=y>0?u(_,--y):0,m--,10===b&&(m=1,g--),b}function E(){return b=y<v?u(_,y++):0,m++,10===b&&(m=1,g++),b}function S(){return u(_,y)}function C(){return y}function M(e,t){return d(_,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return g=m=1,v=h(_=e),y=0,[]}function P(e){return _="",e}function k(e){return a(M(y-1,L(91===e?e+2:40===e?e+1:e)))}function I(e){for(;(b=S())&&b<33;)E();return R(e)>2||R(b)>3?"":" "}function O(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return M(e,C()+(t<6&&32==S()&&32==E()))}function L(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&L(b);break;case 40:41===e&&L(e);break;case 92:E()}return y}function N(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==S()););return"/*"+M(t,y-1)+"*"+i(47===e?e:E())}function F(e){for(;!R(S());)E();return M(e,y)}var D="-ms-",B="-moz-",z="-webkit-",j="comm",U="rule",G="decl",H="@keyframes";function V(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case G:return e.return=e.return||e.value;case j:return"";case H:return e.return=e.value+"{"+V(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=V(e.children,r))?e.return=e.value+"{"+n+"}":""}function X(e){return P(q("",null,null,null,[""],e=T(e),0,[0],e))}function q(e,t,n,r,o,s,a,d,p){for(var g=0,m=0,v=a,y=0,b=0,_=0,w=1,x=1,M=1,R=0,T="",P=o,L=s,D=r,B=T;x;)switch(_=R,R=E()){case 40:if(108!=_&&58==u(B,v-1)){-1!=c(B+=l(k(R),"&","&\f"),"&\f")&&(M=-1);break}case 34:case 39:case 91:B+=k(R);break;case 9:case 10:case 13:case 32:B+=I(_);break;case 92:B+=O(C()-1,7);continue;case 47:switch(S()){case 42:case 47:f(Y(N(E(),C()),t,n),p);break;default:B+="/"}break;case 123*w:d[g++]=h(B)*M;case 125*w:case 59:case 0:switch(R){case 0:case 125:x=0;case 59+m:-1==M&&(B=l(B,/\f/g,"")),b>0&&h(B)-v&&f(b>32?Z(B+";",r,n,v-1):Z(l(B," ","")+";",r,n,v-2),p);break;case 59:B+=";";default:if(f(D=K(B,t,n,g,m,o,d,T,P=[],L=[],v),s),123===R)if(0===m)q(B,t,D,D,P,s,v,d,L);else switch(99===y&&110===u(B,3)?100:y){case 100:case 108:case 109:case 115:q(e,D,D,r&&f(K(e,D,D,0,0,o,d,T,o,P=[],v),L),o,L,v,d,r?P:L);break;default:q(B,D,D,D,[""],L,0,d,L)}}g=m=b=0,w=M=1,T=B="",v=a;break;case 58:v=1+h(B),b=_;default:if(w<1)if(123==R)--w;else if(125==R&&0==w++&&125==A())continue;switch(B+=i(R),R*w){case 38:M=m>0?1:(B+="\f",-1);break;case 44:d[g++]=(h(B)-1)*M,M=1;break;case 64:45===S()&&(B+=k(E())),y=S(),m=v=h(T=B+=F(C())),R++;break;case 45:45===_&&2==h(B)&&(w=0)}}return s}function K(e,t,n,r,i,s,c,u,h,f,g){for(var m=i-1,v=0===i?s:[""],y=p(v),b=0,_=0,x=0;b<r;++b)for(var A=0,E=d(e,m+1,m=o(_=c[b])),S=e;A<y;++A)(S=a(_>0?v[A]+" "+E:l(E,/&\f/g,v[A])))&&(h[x++]=S);return w(e,t,n,0===i?U:u,h,f,g)}function Y(e,t,n){return w(e,t,n,j,i(b),d(e,2,-2),0)}function Z(e,t,n,r){return w(e,t,n,G,d(e,0,r),d(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,o=0;r=o,o=S(),38===r&&12===o&&(t[n]=1),!R(o);)E();return M(e,y)},$=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=Q(y-1,t,n);break;case 2:e[n]+=k(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=E());return e}(T(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var o=[],i=$(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+B+e+D+e+e;case 6828:case 4268:return z+e+D+e+e;case 6165:return z+e+D+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return z+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+D+l(e,"shrink","negative")+e;case 5292:return z+e+D+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+D+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+B+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case G:e.return=ne(e.value,e.length);break;case H:return V([x(e,{value:l(e.value,"@","@"+z)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return V([x(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||re;var i,s,a={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[W,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(o,d));s=function(e,t,n,r){c=n,V(X(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return f.sheet.hydrate(l),f}},7923:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},2899:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>c,i:()=>i,w:()=>l});var r=n(9950),o=n(857),i=(n(1192),n(6477),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(s);return e(t,o,n)}))};i||(l=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,o.A)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},8283:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(2899),o=n(9950),i=n(1783),s=n(6477),a=n(1192),l=(n(857),n(3876),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var p=!0===t.compat,f=t.insert("",{name:u,styles:d},t.sheet,p);return p?null:o.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:f},c.nonce=t.sheet.nonce,c))}var g=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),g.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=g.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},1192:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(7923),i=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.A)((function(e){return a(e)?e:e.replace(i,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=d(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":l(s)&&(r+=c(i)+":"+u(i,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(i){case"animation":case"animationName":r+=c(i)+":"+a+";";break;default:r+=i+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(i)+":"+u(i,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=h,i=n(e);return h=o,d(e,t,i)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var f=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";h=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=d(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=d(n,t,e[s]),r&&(o+=i[s]);p.lastIndex=0;for(var a,l="";null!==(a=p.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:h}}},6477:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(9950),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},1783:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},9532:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},6319:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},939:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},158:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined")},7999:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},2098:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},9526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8943)},7775:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var r=n(8168),o=n(8587),i=n(3999),s=n(6455),a=n(8076),l=n(505),c=n(2860);var u=n(9269);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,o):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}function A(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(t),A=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),E=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),S=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),M=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(t);function R(e){return(0,u.eM)(e,w.text.primary)>=n?w.text.primary:_.text.primary}const T=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",s,a),x(t,"dark",l,a),t.contrastText||(t.contrastText=R(t.main)),t},P={dark:w,light:_};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:T({color:c,name:"primary"}),secondary:T({color:A,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:E,name:"error"}),warning:T({color:M,name:"warning"}),info:T({color:S,name:"info"}),success:T({color:C,name:"success"}),grey:h,contrastThreshold:n,getContrastText:R,augmentColor:T,tonalOffset:a},P[t]),l)}const E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const S={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function M(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=C,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,g=(0,o.A)(n,E);const m=a/14,v=f||(e=>"".concat(e/h*m,"rem")),y=(e,t,n,o,s)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:v(t),lineHeight:n},i===C?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,S),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,S),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),g,{clone:!1})}function R(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const T=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],k={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},I={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function N(e){const t=(0,r.A)({},k,e.easing),n=(0,r.A)({},I,e.duration);return(0,r.A)({getAutoHeightDuration:L,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,o.A)(r,P);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:O(i)," ").concat(s," ").concat("string"===typeof a?a:O(a)))).join(",")}},e,{easing:t,duration:n})}const F={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},D=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,o.A)(e,D);if(e.vars)throw new Error((0,i.A)(18));const p=A(n),f=(0,c.A)(e);let g=(0,s.A)(f,{mixins:(m=f.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[m.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[m.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:T.slice(),typography:M(p,d),transitions:N(u),zIndex:(0,r.A)({},F)});var m,v;g=(0,s.A)(g,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),_=1;_<y;_++)b[_-1]=arguments[_];return g=b.reduce(((e,t)=>(0,s.A)(e,t)),g),g.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),g.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},g}const z=B},195:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7775).A)()},7550:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},9608:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1960);const o=e=>(0,r.A)(e)&&"classes"!==e},1960:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},9254:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(7295),o=n(195),i=n(7550),s=n(9608);const a=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},664:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2880),o=n(195),i=n(7550);function s(e){let{props:t,name:n}=e;return(0,r.A)({props:t,name:n,defaultTheme:o.A,themeId:i.A})}},1676:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3081).A},3235:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(9950),i=n(8587),s=n(2004),a=n(4061),l=n(1676),c=n(664),u=n(9254),d=n(863),h=n(8483);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(4414);const g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.A)(n.color))],t["fontSize".concat((0,l.A)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(g=(t.vars||t).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0}[n.color]}})),v=o.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:_=!1,titleAccess:w,viewBox:x="0 0 24 24"}=n,A=(0,i.A)(n,g),E=o.isValidElement(u)&&"svg"===u.type,S=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:x,hasSvgAsChild:E}),C={};_||(C.viewBox=x);const M=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&"color".concat((0,l.A)(t)),"fontSize".concat((0,l.A)(n))]};return(0,a.A)(o,p,r)})(S);return(0,f.jsxs)(m,(0,r.A)({as:v,className:(0,s.A)(M.root,d),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},C,A,E&&u.props,{ownerState:S,children:[E?u.props.children:u,w?(0,f.jsx)("title",{children:w}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,o){return(0,f.jsx)(y,(0,r.A)({"data-testid":"".concat(t,"Icon"),ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},1209:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2243).A},8943:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>g.A,unsupportedProp:()=>m,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>_.A});var r=n(1681),o=n(1676);const i=n(7603).A;var s=n(3235),a=n(1209);const l=function(e,t){return()=>null};var c=n(96),u=n(7402),d=n(827);n(8168);const h=function(e,t){return()=>null};const p=n(5679).A;var f=n(9044),g=n(1014);const m=function(e,t,n,r,o){return null};var v=n(8733),y=n(1976),b=n(1506),_=n(4106);const w={configure:e=>{r.A.configure(e)}}},96:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},7402:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3511).A},827:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(8727).A},8733:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(9543).A},9044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4131).A},1976:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2877).A},1506:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4093).A},1014:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(8767).A},4106:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9950),o=n(1865);let i=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&s&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},3158:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(9950);var r=n(8283),o=n(4414);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>A.A,StyledEngineProvider:()=>x,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>E,internal_processStyles:()=>S,keyframes:()=>y.i7});var r=n(8168),o=n(9950),i=n(7923),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,i.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2899),c=n(1783),u=n(1192),d=n(6477),h=a,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},g=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var i,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,s=n.target);var h=g(t,n,a),p=h||f(d),v=!p("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var _=y.length,w=1;w<_;w++)b.push(y[w],y[0][w])}var x=(0,l.w)((function(e,t,n){var r=v&&e.as||d,i="",a=[],g=e;if(null==e.theme){for(var y in g={},e)g[y]=e[y];g.theme=o.useContext(l.T)}"string"===typeof e.className?i=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var _=(0,u.J)(b.concat(a),t.registered,g);i+=t.key+"-"+_.name,void 0!==s&&(i+=" "+s);var w=v&&void 0===h?f(r):p,x={};for(var A in e)v&&"as"===A||w(A)&&(x[A]=e[A]);return x.className=i,x.ref=n,o.createElement(o.Fragment,null,o.createElement(m,{cache:t,serialized:_,isStringTag:"string"===typeof r}),o.createElement(r,x))}));return x.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=d,x.__emotion_styles=b,x.__emotion_forwardProp=h,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:g(x,o,!0)})).apply(void 0,b)},x}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(8283),b=n(857),_=n(4414);let w;function x(e){const{injectFirst:t,children:n}=e;return t&&w?(0,_.jsx)(l.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,b.A)({key:"css",prepend:!0}));var A=n(3158);function E(e,t){return v(e,t)}const S=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},9269:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=g;var o=r(n(9606)),i=r(n(5268));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function g(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):g(e,t)}},7295:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:g,skipSx:_,overridesResolver:w=y(m(p))}=c,x=(0,i.default)(c,h),A=void 0!==g?g:p&&"Root"!==p&&"root"!==p||!1,E=_||!1;let S=f;"Root"===p||"root"===p?S=r:p?S=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(S=void 0);const C=(0,s.default)(e,(0,o.default)({shouldForwardProp:S,label:undefined},x)),M=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,R=function(r){let i=M(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(M):[];d&&w&&c.push((e=>{const r=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=b(i,(0,o.default)({},e,{theme:r}))})),w(e,s)})),d&&!A&&c.push((e=>{var r;const i=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),E||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=C(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return C.withConfig&&(R.withConfig=C.withConfig),R}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(116)),a=n(9717),l=(r(n(7719)),r(n(5645)),r(n(9904))),c=r(n(8807));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const g=(0,l.default)(),m=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const s="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,i.default)(s,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return s}},8286:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(6455);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(o[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},86:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},3628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100).concat(n,")")}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},2860:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(6455),s=n(3628);const a={borderRadius:4};var l=n(7937);var c=n(505),u=n(8076),d=n(86);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,g=(0,o.A)(e,h),m=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},g);y.applyStyles=d.A;for(var b=arguments.length,_=new Array(b>1?b-1:0),w=1;w<b;w++)_[w-1]=arguments[w];return y=_.reduce(((e,t)=>(0,i.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==g?void 0:g.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},9904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(2860),o=n(3628),i=n(86)},6206:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6455);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},7937:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>g,Lc:()=>y,Ms:()=>b});var r=n(8286),o=n(2703),i=n(6206);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function g(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=g(t,n),e)),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>m(e,t,r,n))).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function _(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,_.propTypes={},_.filterProps=h},2703:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(3081),o=n(8286);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},8076:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(7937),o=n(2703),i=n(6206);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=n(8286);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),g=c("borderColor"),m=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),_=c("outline",l),w=c("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};x.propTypes={},x.filterProps=["borderRadius"];s(u,d,h,p,f,g,m,v,y,b,x,_,w);const A=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};A.propTypes={},A.filterProps=["gap"];const E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};E.propTypes={},E.filterProps=["columnGap"];const S=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};S.propTypes={},S.filterProps=["rowGap"];s(A,E,S,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function C(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:C}));function M(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const R=(0,o.Ay)({prop:"width",transform:M}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:M(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const P=(0,o.Ay)({prop:"minWidth",transform:M}),k=(0,o.Ay)({prop:"height",transform:M}),I=(0,o.Ay)({prop:"maxHeight",transform:M}),O=(0,o.Ay)({prop:"minHeight",transform:M}),L=((0,o.Ay)({prop:"size",cssProperty:"width",transform:M}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:M}),s(R,T,P,k,I,O,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x},color:{themeKey:"palette",transform:C},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C},backgroundColor:{themeKey:"palette",transform:C},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:A},rowGap:{style:S},columnGap:{style:E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:M},maxWidth:{style:T},minWidth:{transform:M},height:{transform:M},maxHeight:{transform:M},minHeight:{transform:M},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},237:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(6455),s=n(8076);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},8807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(505),o=n(237),i=n(8076)},505:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(3081),o=n(6206),i=n(2703),s=n(8286),a=n(8076);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,s.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,s.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},7148:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2860),o=n(357);const i=(0,r.A)();const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,o.A)(e)}},2880:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7661);var o=n(7148);function i(e){let{props:t,name:n,defaultTheme:i,themeId:s}=e,a=(0,o.A)(i);s&&(a=a[s]||a);const l=function(e){const{theme:t,name:n,props:o}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.A)(t.components[n].defaultProps,o):o}({theme:a,name:n,props:t});return l}},357:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(2899);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5329:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(9950)),o=n(116);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},1681:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},3081:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3999);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(3081)},8935:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},5268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8935)},4061:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},7603:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},2243:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},6455:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>o});var r=n(8168);function o(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(!o(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(o(t[r])&&r in e&&o(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=o(t[r])?i(t[r]):t[r]:a[r]=t[r])})),a}},9717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(6455)},3999:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},9606:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(3999)},8483:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,li:()=>o});var r=n(1681);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?"".concat(n,"-").concat(i):"".concat(r.A.generate(e),"-").concat(t)}},863:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8483);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},5645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(6429);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},3511:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},8727:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3511);function o(e){return(0,r.A)(e).defaultView||window}},7661:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[i]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[i][e]=o(s[e],a[e])}))):n[i]=a:n[i]=s}else void 0===n[i]&&(n[i]=e[i])})),n}},5679:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},9543:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);function o(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},4131:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},2877:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(4131);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},4093:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(5679);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},8767:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var o=n(9950);let i=0;const s=(r||(r=n.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n("mui-".concat(i)))}),[t]),r}(e)}},6457:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950);const o={};function i(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}},3695:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950);const o=[];function i(e){r.useEffect(e,o)}},1865:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,E:()=>i});var r=n(6457),o=n(3695);class i{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new i}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function s(){const e=(0,r.A)(i.create).current;return(0,o.A)(e.disposeEffect),e}},1232:e=>{"use strict";function t(e,t,r){r=r||2;var i,s,a,l,d,h,f,g=t&&t.length,m=g?t[0]*r:e.length,v=n(e,0,m,r,!0),y=[];if(!v||v.next===v.prev)return y;if(g&&(v=function(e,t,r,o){var i,s,a,l=[];for(i=0,s=t.length;i<s;i++)(a=n(e,t[i]*o,i<s-1?t[i+1]*o:e.length,o,!1))===a.next&&(a.steiner=!0),l.push(p(a));for(l.sort(c),i=0;i<l.length;i++)r=u(l[i],r);return r}(e,t,v,r)),e.length>80*r){i=a=e[0],s=l=e[1];for(var b=r;b<m;b+=r)(d=e[b])<i&&(i=d),(h=e[b+1])<s&&(s=h),d>a&&(a=d),h>l&&(l=h);f=0!==(f=Math.max(a-i,l-s))?32767/f:0}return o(v,y,r,i,s,f,0),y}function n(e,t,n,r,o){var i,s;if(o===C(e,t,n,r)>0)for(i=t;i<n;i+=r)s=A(i,e[i],e[i+1],s);else for(i=n-r;i>=t;i-=r)s=A(i,e[i],e[i+1],s);return s&&v(s,s.next)&&(E(s),s=s.next),s}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function o(e,t,n,c,u,d,p){if(e){!p&&d&&function(e,t,n,r){var o=e;do{0===o.z&&(o.z=h(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,s,a,l,c=1;do{for(n=e,e=null,i=null,s=0;n;){for(s++,r=n,a=0,t=0;t<c&&(a++,r=r.nextZ);t++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(o=n,n=n.nextZ,a--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(s>1)}(o)}(e,c,u,d);for(var f,g,m=e;e.prev!==e.next;)if(f=e.prev,g=e.next,d?s(e,c,u,d):i(e))t.push(f.i/n|0),t.push(e.i/n|0),t.push(g.i/n|0),E(e),e=g.next,m=g.next;else if((e=g)===m){p?1===p?o(e=a(r(e),t,n),t,n,c,u,d,2):2===p&&l(e,t,n,c,u,d):o(r(e),t,n,c,u,d,1);break}}}function i(e){var t=e.prev,n=e,r=e.next;if(m(t,n,r)>=0)return!1;for(var o=t.x,i=n.x,s=r.x,a=t.y,l=n.y,c=r.y,u=o<i?o<s?o:s:i<s?i:s,d=a<l?a<c?a:c:l<c?l:c,h=o>i?o>s?o:s:i>s?i:s,p=a>l?a>c?a:c:l>c?l:c,g=r.next;g!==t;){if(g.x>=u&&g.x<=h&&g.y>=d&&g.y<=p&&f(o,a,i,l,s,c,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function s(e,t,n,r){var o=e.prev,i=e,s=e.next;if(m(o,i,s)>=0)return!1;for(var a=o.x,l=i.x,c=s.x,u=o.y,d=i.y,p=s.y,g=a<l?a<c?a:c:l<c?l:c,v=u<d?u<p?u:p:d<p?d:p,y=a>l?a>c?a:c:l>c?l:c,b=u>d?u>p?u:p:d>p?d:p,_=h(g,v,t,n,r),w=h(y,b,t,n,r),x=e.prevZ,A=e.nextZ;x&&x.z>=_&&A&&A.z<=w;){if(x.x>=g&&x.x<=y&&x.y>=v&&x.y<=b&&x!==o&&x!==s&&f(a,u,l,d,c,p,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,A.x>=g&&A.x<=y&&A.y>=v&&A.y<=b&&A!==o&&A!==s&&f(a,u,l,d,c,p,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;x&&x.z>=_;){if(x.x>=g&&x.x<=y&&x.y>=v&&x.y<=b&&x!==o&&x!==s&&f(a,u,l,d,c,p,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;A&&A.z<=w;){if(A.x>=g&&A.x<=y&&A.y>=v&&A.y<=b&&A!==o&&A!==s&&f(a,u,l,d,c,p,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function a(e,t,n){var o=e;do{var i=o.prev,s=o.next.next;!v(i,s)&&y(i,o,o.next,s)&&w(i,s)&&w(s,i)&&(t.push(i.i/n|0),t.push(o.i/n|0),t.push(s.i/n|0),E(o),E(o.next),o=e=s),o=o.next}while(o!==e);return r(o)}function l(e,t,n,i,s,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&g(l,c)){var u=x(l,c);return l=r(l,l.next),u=r(u,u.next),o(l,t,n,i,s,a,0),void o(u,t,n,i,s,a,0)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function u(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,s=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=o&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===o))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,p=1/0;r=n;do{o>=r.x&&r.x>=u&&o!==r.x&&f(i<h?o:s,i,u,h,i<h?s:o,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(o-r.x),w(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&d(n,r)))&&(n=r,p=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var o=x(n,e);return r(o,o.next),r(n,n.next)}function d(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function h(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function f(e,t,n,r,o,i,s,a){return(o-s)*(t-a)>=(e-s)*(i-a)&&(e-s)*(r-a)>=(n-s)*(t-a)&&(n-s)*(i-a)>=(o-s)*(r-a)}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!==n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||v(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var o=_(m(e,t,n)),i=_(m(e,t,r)),s=_(m(n,r,e)),a=_(m(n,r,t));return o!==i&&s!==a||(!(0!==o||!b(e,n,t))||(!(0!==i||!b(e,r,t))||(!(0!==s||!b(n,e,r))||!(0!==a||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function w(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function x(e,t){var n=new S(e.i,e.x,e.y),r=new S(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function A(e,t,n,r){var o=new S(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,t,n,r){for(var o=0,i=t,s=n-r;i<n;i+=r)o+=(e[s]-e[i])*(e[i+1]+e[s+1]),s=i;return o}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,s=Math.abs(C(e,0,i,n));if(o)for(var a=0,l=t.length;a<l;a++){var c=t[a]*n,u=a<l-1?t[a+1]*n:e.length;s-=Math.abs(C(e,c,u,n))}var d=0;for(a=0;a<r.length;a+=3){var h=r[a]*n,p=r[a+1]*n,f=r[a+2]*n;d+=Math.abs((e[h]-e[f])*(e[p+1]-e[h+1])-(e[h]-e[p])*(e[f+1]-e[h+1]))}return 0===s&&0===d?0:Math.abs((d-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var s=0;s<t;s++)n.vertices.push(e[o][i][s]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}},2254:(e,t,n)=>{var r;!function(o,i,s,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=i.createElement("div"),d="function",h=Math.round,p=Math.abs,f=Date.now;function g(e,t,n){return setTimeout(x(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===a)&&(e[r[o]]=t[r[o]]),o++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&l(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function A(e,t){return typeof e==d?e.apply(t&&t[0]||a,t):e}function E(e,t){return e===a?t:e}function S(e,t,n){v(T(t),(function(t){e.addEventListener(t,n,!1)}))}function C(e,t,n){v(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function M(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function R(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var s=t?e[i][t]:e[i];P(o,s)<0&&r.push(e[i]),o[i]=s,i++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function O(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<c.length;){if((r=(n=c[i])?n+o:t)in e)return r;i++}return a}var L=1;function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var F="ontouchstart"in o,D=O(o,"PointerEvent")!==a,B=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",j="mouse",U=25,G=1,H=4,V=8,W=1,X=2,q=4,K=8,Y=16,Z=X|q,Q=K|Y,$=Z|Q,J=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){A(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&G&&r-o===0,s=t&(H|V)&&r-o===0;n.isFirst=!!i,n.isFinal=!!s,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=re(t));o>1&&!n.firstMultiple?n.firstMultiple=re(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,s=n.firstMultiple,l=s?s.center:i.center,c=t.center=oe(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=le(l,c),t.distance=ae(l,c),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==G&&i.eventType!==H||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=se(t.deltaX,t.deltaY);var u=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=p(u.x)>p(u.y)?u.x:u.y,t.scale=s?(d=s.pointers,h=r,ae(h[0],h[1],ee)/ae(d[0],d[1],ee)):1,t.rotation=s?function(e,t){return le(t[1],t[0],ee)+le(e[1],e[0],ee)}(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp;if(t.eventType!=V&&(l>U||s.velocity===a)){var c=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,d=ie(l,c,u);r=d.x,o=d.y,n=p(d.x)>p(d.y)?d.x:d.y,i=se(c,u),e.lastInterval=t}else n=s.velocity,r=s.velocityX,o=s.velocityY,i=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var d,h;var g=e.element;M(t.srcEvent.target,g)&&(g=t.srcEvent.target);t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function re(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:oe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function oe(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:h(n/t),y:h(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function se(e,t){return e===t?W:p(e)>=p(t)?e<0?X:q:t<0?K:Y}function ae(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function le(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)}};var ce={mousedown:G,mousemove:2,mouseup:H},ue="mousedown",de="mousemove mouseup";function he(){this.evEl=ue,this.evWin=de,this.pressed=!1,te.apply(this,arguments)}w(he,te,{handler:function(e){var t=ce[e.type];t&G&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=H),this.pressed&&(t&H&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:j,srcEvent:e}))}});var pe={pointerdown:G,pointermove:2,pointerup:H,pointercancel:V,pointerout:V},fe={2:z,3:"pen",4:j,5:"kinect"},ge="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=ge,this.evWin=me,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(ge="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),w(ve,te,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=pe[r],i=fe[e.pointerType]||e.pointerType,s=i==z,a=P(t,e.pointerId,"pointerId");o&G&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):o&(H|V)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(a,1))}});var ye={touchstart:G,touchmove:2,touchend:H,touchcancel:V};function be(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function _e(e,t){var n=k(e.touches),r=k(e.changedTouches);return t&(H|V)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}w(be,te,{handler:function(e){var t=ye[e.type];if(t===G&&(this.started=!0),this.started){var n=_e.call(this,e,t);t&(H|V)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}}});var we={touchstart:G,touchmove:2,touchend:H,touchcancel:V},xe="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=xe,this.targetIds={},te.apply(this,arguments)}function Ee(e,t){var n=k(e.touches),r=this.targetIds;if(t&(2|G)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,s=k(e.changedTouches),a=[],l=this.target;if(i=n.filter((function(e){return M(e.target,l)})),t===G)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<s.length;)r[s[o].identifier]&&a.push(s[o]),t&(H|V)&&delete r[s[o].identifier],o++;return a.length?[I(i.concat(a),"identifier",!0),a]:void 0}w(Ae,te,{handler:function(e){var t=we[e.type],n=Ee.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}});var Se=2500;function Ce(){te.apply(this,arguments);var e=x(this.handler,this);this.touch=new Ae(this.manager,e),this.mouse=new he(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Me(e,t){e&G?(this.primaryTouch=t.changedPointers[0].identifier,Re.call(this,t)):e&(H|V)&&Re.call(this,t)}function Re(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Se)}}function Te(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),s=Math.abs(n-o.y);if(i<=25&&s<=25)return!0}return!1}w(Ce,te,{handler:function(e,t,n){var r=n.pointerType==z,o=n.pointerType==j;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Me.call(this,t,n);else if(o&&Te.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Pe=O(u.style,"touchAction"),ke=Pe!==a,Ie="compute",Oe="auto",Le="manipulation",Ne="none",Fe="pan-x",De="pan-y",Be=function(){if(!ke)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();function ze(e,t){this.manager=e,this.set(t)}ze.prototype={set:function(e){e==Ie&&(e=this.compute()),ke&&this.manager.element.style&&Be[e]&&(this.manager.element.style[Pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){A(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(R(e,Ne))return Ne;var t=R(e,Fe),n=R(e,De);if(t&&n)return Ne;if(t||n)return t?Fe:De;if(R(e,Le))return Le;return Oe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=R(r,Ne)&&!Be[Ne],i=R(r,De)&&!Be[De],s=R(r,Fe)&&!Be[Fe];if(o){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!s||!i)return o||i&&n&Z||s&&n&Q?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var je=1,Ue=32;function Ge(e){this.options=l({},this.defaults,e||{}),this.id=L++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=je,this.simultaneous={},this.requireFail=[]}function He(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ve(e){return e==Y?"down":e==K?"up":e==X?"left":e==q?"right":""}function We(e,t){var n=t.manager;return n?n.get(e):e}function Xe(){Ge.apply(this,arguments)}function qe(){Xe.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){Xe.apply(this,arguments)}function Ye(){Ge.apply(this,arguments),this._timer=null,this._input=null}function Ze(){Xe.apply(this,arguments)}function Qe(){Xe.apply(this,arguments)}function $e(){Ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Je(e,t){return(t=t||{}).recognizers=E(t.recognizers,Je.defaults.preset),new et(e,t)}Ge.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=We(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=We(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=We(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=We(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+He(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+He(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ue},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Ue|je)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!A(this.options.enable,[this,t]))return this.reset(),void(this.state=Ue);56&this.state&&(this.state=je),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Xe,Ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,o=this.attrTest(e);return r&&(n&V||!o)?16|t:r||o?n&H?8|t:2&t?4|t:2:Ue}}),w(qe,Xe,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var e=this.options.direction,t=[];return e&Z&&t.push(De),e&Q&&t.push(Fe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,s=e.deltaY;return o&t.direction||(t.direction&Z?(o=0===i?W:i<0?X:q,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===s?W:s<0?K:Y,n=s!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return Xe.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(Ke,Xe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Ye,Ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(H|V)&&!o)this.reset();else if(e.eventType&G)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&H)return 8;return Ue},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&H?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Ze,Xe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Qe,Xe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|Q,pointers:1},getTouchAction:function(){return qe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Z|Q)?t=e.overallVelocity:n&Z?t=e.overallVelocityX:n&Q&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&H},emit:function(e){var t=Ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w($e,Ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Le]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&G&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=H)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ue},failTimeout:function(){return this._timer=g((function(){this.state=Ue}),this.options.interval,this),Ue},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Je.VERSION="2.0.7",Je.defaults={domEvents:!1,touchAction:Ie,enable:!0,inputTarget:null,inputClass:null,preset:[[Ze,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Qe,{direction:Z}],[qe,{direction:Z},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[Ye]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function et(e,t){var n;this.options=l({},Je.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(D?ve:B?Ae:F?Ce:he))(n,ne),this.touchAction=new ze(this,this.options.touchAction),tt(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,(function(o,i){n=O(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}et.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&8&o.state)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&14&n.state&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(T(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Je,{INPUT_START:G,INPUT_MOVE:2,INPUT_END:H,INPUT_CANCEL:V,STATE_POSSIBLE:je,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ue,DIRECTION_NONE:W,DIRECTION_LEFT:X,DIRECTION_RIGHT:q,DIRECTION_UP:K,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:Q,DIRECTION_ALL:$,Manager:et,Input:te,TouchAction:ze,TouchInput:Ae,MouseInput:he,PointerEventInput:ve,TouchMouseInput:Ce,SingleTouchInput:be,Recognizer:Ge,AttrRecognizer:Xe,Tap:$e,Pan:qe,Swipe:Qe,Pinch:Ke,Rotate:Ze,Press:Ye,on:S,off:C,each:v,merge:_,extend:b,assign:l,inherit:w,bindFn:x,prefixed:O}),("undefined"!==typeof o?o:"undefined"!==typeof self?self:{}).Hammer=Je,(r=function(){return Je}.call(t,n,t,e))===a||(e.exports=r)}(window,document)},3876:(e,t,n)=>{"use strict";var r=n(630),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var v=s[m];if(!i[v]&&(!r||!r[v])&&(!g||!g[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},2138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case o:return t}}}function x(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||w(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===v)},t.typeOf=w},630:(e,t,n)=>{"use strict";e.exports=n(2138)},3488:(e,t,n)=>{"use strict";var r=n(3959);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},1942:(e,t,n)=>{e.exports=n(3488)()},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8345:(e,t,n)=>{"use strict";var r=n(9950),o=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var F,D=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function j(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ae=null,Ee=null;function Se(e){if(e=_o(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ae?Ee?Ee.push(e):Ee=[e]:Ae=e}function Me(){if(Ae){var e=Ae,t=Ee;if(Ee=Ae=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Re(e,t){return e(t)}function Te(){}var Pe=!1;function ke(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Re(e,t,n)}finally{Pe=!1,(null!==Ae||null!==Ee)&&(Te(),Me())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Oe=!1}function Ne(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,De=null,Be=!1,ze=null,je={onError:function(e){Fe=!0,De=e}};function Ue(e,t,n,r,o,i,s,a,l){Fe=!1,De=null,Ne.apply(je,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ge(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ve(o),e;if(s===r)return Ve(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Qe=o.unstable_now,$e=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,At,Et,St,Ct=!1,Mt=[],Rt=null,Tt=null,Pt=null,kt=new Map,It=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=_o(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_o(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function jt(){Ct=!1,null!==Rt&&Bt(Rt)&&(Rt=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Pt&&Bt(Pt)&&(Pt=null),kt.forEach(zt),It.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function Gt(e){function t(t){return Ut(t,e)}if(0<Mt.length){Ut(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Ut(Rt,e),null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),kt.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Ht=_.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Xt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function qt(e,t,n,r){if(Vt){var o=Yt(e,t,n,r);if(null===o)Vr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Rt=Ft(Rt,e,t,n,r,o),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return kt.set(i,Ft(kt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,It.set(i,Ft(It.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=_o(o);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=bo(e=we(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),gn=on(D({},pn,{dataTransfer:0})),mn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Sn(){return En}var Cn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=on(Cn),Rn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(kn),On=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Nn,Dn=u&&(!Ln||Nn&&8<Nn&&11>=Nn),Bn=String.fromCharCode(32),zn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Xr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,qn=null;function Kn(e){Br(e,0)}function Yn(e){if(q(wo(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(u){var $n;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),qn=Xn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Wn(t,qn,e,we(e)),ke(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Xr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},Er={};function Sr(e){if(Ar[e])return Ar[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ar[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Sr("animationend"),Mr=Sr("animationiteration"),Rr=Sr("animationstart"),Tr=Sr("transitionend"),Pr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<kr.length;Or++){var Lr=kr[Or];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Rr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var u=De;Fe=!1,De=null,Be||(Be=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,a,c),i=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var o=Wt;break;case 4:o=Xt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}ke((function(){var r=i,o=we(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Mr:case Rr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Ie(f,h))&&u.push(Wr(f,g,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[go])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:wo(l),p=null==c?a:wo(c),(a=new u(g,f+"leave",l,n,o)).target=d,a.relatedTarget=p,g=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=qr(p))f++;for(p=0,g=h;g;g=qr(g))p++;for(;0<f-p;)u=qr(u),f--;for(;0<p-f;)h=qr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Vn(a))if(Qn)m=sr;else{m=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ir);switch(m&&(m=m(e,r))?Wn(s,m,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wo(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(s,n,o)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):($t="value"in(Qt=o)?Qt.value:Qt.textContent,Gn=!0)),0<(v=Xr(r,b)).length&&(b=new _n(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),Jt=$t=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Br(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ie(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ie(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Ie(n,i))&&s.unshift(Wr(n,l,a)):o||null!=(l=Ie(n,i))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Gt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function _o(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[fo]||null}var Ao=[],Eo=-1;function So(e){return{current:e}}function Co(e){0>Eo||(e.current=Ao[Eo],Ao[Eo]=null,Eo--)}function Mo(e,t){Eo++,Ao[Eo]=e.current,e.current=t}var Ro={},To=So(Ro),Po=So(!1),ko=Ro;function Io(e,t){var n=e.type.contextTypes;if(!n)return Ro;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){Co(Po),Co(To)}function No(e,t,n){if(To.current!==Ro)throw Error(i(168));Mo(To,t),Mo(Po,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,ko=To.current,Mo(To,e),Mo(Po,Po.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fo(e,t,ko),r.__reactInternalMemoizedMergedChildContext=e,Co(Po),Co(To),Mo(To,e)):Co(Po),Mo(Po,n)}var zo=null,jo=!1,Uo=!1;function Go(e){null===zo?zo=[e]:zo.push(e)}function Ho(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,jo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),qe(Je,Ho),o}finally{bt=t,Uo=!1}}return null}var Vo=[],Wo=0,Xo=null,qo=0,Ko=[],Yo=0,Zo=null,Qo=1,$o="";function Jo(e,t){Vo[Wo++]=qo,Vo[Wo++]=Xo,Xo=e,qo=t}function ei(e,t,n){Ko[Yo++]=Qo,Ko[Yo++]=$o,Ko[Yo++]=Zo,Zo=e;var r=Qo;e=$o;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Qo=1<<32-st(t)+o|n<<o|r,$o=i+e}else Qo=1<<i|n<<o|r,$o=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Xo;)Xo=Vo[--Wo],Vo[Wo]=null,qo=Vo[--Wo],Vo[Wo]=null;for(;e===Zo;)Zo=Ko[--Yo],Ko[Yo]=null,$o=Ko[--Yo],Ko[Yo]=null,Qo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zo?{id:Qo,overflow:$o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function gi(e){null===si?si=[e]:si.push(e)}var mi=_.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=So(null),bi=null,_i=null,wi=null;function xi(){wi=_i=bi=null}function Ai(e){var t=yi.current;Co(yi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){bi=e,wi=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===bi)throw Error(i(308));_i=e,bi.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Mi=null;function Ri(e){null===Mi?Mi=[e]:Mi.push(e)}function Ti(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ki=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pi(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var o=e.updateQueue;ki=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:ki=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function zi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var ji=(new r.Component).refs;function Ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Gi={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ni(e,i,o))&&(rc(t,e,o,r),Fi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ni(e,i,o))&&(rc(t,e,o,r),Fi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Li(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ni(e,o,r))&&(rc(t,e,r,n),Fi(t,e,r))}};function Hi(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function Vi(e,t,n){var r=!1,o=Ro,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(o=Oo(t)?ko:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Io(e,o):Ro),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function Xi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ji,Ii(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ci(i):(i=Oo(t)?ko:To.current,o.context=Io(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Gi.enqueueReplaceState(o,o.state,null),Bi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;t===ji&&(t=o.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yi(e){return(0,e._init)(e._payload)}function Zi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&Yi(i)===t.type)?((r=o(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null;case I:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||N(n))return null!==o?null:d(e,t,n,r,null);Ki(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,o,null);Ki(t,r)}return null}function g(o,i,a,l){for(var c=null,u=null,d=i,g=i=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(o,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===a.length)return n(o,d),ii&&Jo(o,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(o,a[g],l))&&(i=s(d,i,g),null===u?c=d:u.sibling=d,u=d);return ii&&Jo(o,g),c}for(d=r(o,d);g<a.length;g++)null!==(m=f(d,o,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=s(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),ii&&Jo(o,g),c}function m(o,a,l,c){var u=N(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(o,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(o,g),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(o,g),ii&&Jo(o,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return ii&&Jo(o,m),u}for(g=r(o,g);!y.done;m++,y=l.next())null!==(y=f(g,o,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(o,e)})),ii&&Jo(o,m),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===A){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Yi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=qi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===A?((i=Fc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Nc(s.type,s.key,s.props,null,r.mode,l)).ref=qi(r,i,s),l.return=r,r=l)}return a(r);case x:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(s,r.mode,l)).return=r,r=i}return a(r);case I:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return g(r,i,s,l);if(N(s))return m(r,i,s,l);Ki(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Bc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var Qi=Zi(!0),$i=Zi(!1),Ji={},es=So(Ji),ts=So(Ji),ns=So(Ji);function rs(e){if(e===Ji)throw Error(i(174));return e}function os(e,t){switch(Mo(ns,t),Mo(ts,e),Mo(es,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(es),Mo(es,t)}function is(){Co(es),Co(ts),Co(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Mo(ts,e),Mo(es,n))}function as(e){ts.current===e&&(Co(es),Co(ts))}var ls=So(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=_.ReactCurrentDispatcher,ps=_.ReactCurrentBatchConfig,fs=0,gs=null,ms=null,vs=null,ys=!1,bs=!1,_s=0,ws=0;function xs(){throw Error(i(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,o,s){if(fs=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,o),bs){s=0;do{if(bs=!1,_s=0,25<=s)throw Error(i(301));s+=1,vs=ms=null,t.updateQueue=null,hs.current=ca,e=n(r,o)}while(bs)}if(hs.current=sa,t=null!==ms&&null!==ms.next,fs=0,vs=ms=gs=null,ys=!1,t)throw Error(i(300));return e}function Ss(){var e=0!==_s;return _s=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function Ms(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ms=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function Rs(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=Ms(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ms,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((fs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,gs.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,gs.lanes|=s,Dl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Ms(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Is(e,t){var n=gs,r=Ms(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,_a=!0),r=r.queue,Vs(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,zs(9,Ls.bind(null,n,r,o,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&fs)||Os(n,t,o)}return o}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,Fs(t)&&Ds(e)}function Ns(e,t,n){return n((function(){Fs(t)&&Ds(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ds(e){var t=Pi(e,1);null!==t&&rc(t,e,1,-1)}function Bs(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return Ms().memoizedState}function Us(e,t,n,r){var o=Cs();gs.flags|=e,o.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Gs(e,t,n,r){var o=Ms();r=void 0===r?null:r;var i=void 0;if(null!==ms){var s=ms.memoizedState;if(i=s.destroy,null!==r&&As(r,s.deps))return void(o.memoizedState=zs(t,n,i,r))}gs.flags|=e,o.memoizedState=zs(1|t,n,i,r)}function Hs(e,t){return Us(8390656,8,e,t)}function Vs(e,t){return Gs(2048,8,e,t)}function Ws(e,t){return Gs(4,2,e,t)}function Xs(e,t){return Gs(4,4,e,t)}function qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Gs(4,4,qs.bind(null,t,e),n)}function Ys(){}function Zs(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&As(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&As(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Dl|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{bt=n,ps.transition=r}}function ea(){return Ms().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))oa(t,n);else if(null!==(n=Ti(e,t,n,r))){rc(n,e,r,tc()),ia(n,t,r)}}function na(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))oa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ti(e,t,o,r))&&(rc(n,e,r,o=tc()),ia(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function oa(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ia(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Ci,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},aa={readContext:Ci,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Bs,useDebugValue:Ys,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Js.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,o=Cs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&fs)||Os(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Hs(Ns.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Pl.identifierPrefix;if(ii){var n=$o;t=":"+t+"R"+(n=(Qo&~(1<<32-st(Qo)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ci,useCallback:Zs,useContext:Ci,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Xs,useMemo:Qs,useReducer:Ts,useRef:js,useState:function(){return Ts(Rs)},useDebugValue:Ys,useDeferredValue:function(e){return $s(Ms(),ms.memoizedState,e)},useTransition:function(){return[Ts(Rs)[0],Ms().memoizedState]},useMutableSource:ks,useSyncExternalStore:Is,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ci,useCallback:Zs,useContext:Ci,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Xs,useMemo:Qs,useReducer:Ps,useRef:js,useState:function(){return Ps(Rs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Ms();return null===ms?t.memoizedState=e:$s(t,ms.memoizedState,e)},useTransition:function(){return[Ps(Rs)[0],Ms().memoizedState]},useMutableSource:ks,useSyncExternalStore:Is,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Xl=r),ha(0,t)},n}function ga(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ha(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Ni(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ba=_.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?$i(t,null,n,r):Qi(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var i=t.ref;return Si(t,o),r=Es(e,t,n,r,i,o),n=Ss(),null===e||_a?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Aa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ea(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(_a=!0)}}return Ma(e,t,n,r,o)}function Sa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mo(Ll,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mo(Ll,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Mo(Ll,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Mo(Ll,Ol),Ol|=r;return wa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,o){var i=Oo(n)?ko:To.current;return i=Io(t,i),Si(t,o),n=Es(e,t,n,r,i,o),r=Ss(),null===e||_a?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ra(e,t,n,r,o){if(Oo(n)){var i=!0;Do(t)}else i=!1;if(Si(t,o),null===t.stateNode)Va(e,t),Vi(t,n,r),Xi(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Io(t,c=Oo(n)?ko:To.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Wi(t,s,r,c),ki=!1;var h=t.memoizedState;s.state=h,Bi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Po.current||ki?("function"===typeof u&&(Ui(t,n,u,r),l=t.memoizedState),(a=ki||Hi(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vi(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ci(l):l=Io(t,l=Oo(n)?ko:To.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Wi(t,s,r,l),ki=!1,h=t.memoizedState,s.state=h,Bi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||Po.current||ki?("function"===typeof p&&(Ui(t,n,p,r),f=t.memoizedState),(c=ki||Hi(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Bo(t,n,!1),Wa(e,t,i);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Qi(t,e.child,null,i),t.child=Qi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),os(e,t.containerInfo)}function ka(e,t,n,r,o){return fi(),gi(o),t.flags|=256,wa(e,t,n,r),t.child}var Ia,Oa,La,Na,Fa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,o=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Mo(ls,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,o,0,null),e=Fc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Fa,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=da(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(s=Fc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Qi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Fa,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,ja(e,t,a,r=da(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Pi(e,o),rc(r,e,o,-1))}return mc(),ja(e,t,a,r=da(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Qo,Ko[Yo++]=$o,Ko[Yo++]=Zo,Qo=e.id,$o=e.overflow,Zo=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Fc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,o}return e=(a=e.child).sibling,o=Lc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function za(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&gi(r),Qi(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Ga(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ha(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mo(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ga(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===cs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ga(t,!0,n,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Oo(t.type)&&Lo(),qa(t),null;case 3:return r=t.stateNode,is(),Co(Po),Co(To),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(ac(si),si=null))),Oa(e,t),qa(t),null;case 5:as(t);var o=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=rs(es.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Nr.length;o++)zr(Nr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":X(r),J(r,s,!0);break;case"textarea":X(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Nr.length;o++)zr(Nr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Z(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=rs(ns.current),rs(es.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qa(t),null;case 13:if(Co(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==si&&(ac(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return is(),Oa(e,t),null===e&&Gr(t.stateNode.containerInfo),qa(t),null;case 10:return Ai(t.type._context),qa(t),null;case 19:if(Co(ls),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Xa(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Xa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mo(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Hl&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return qa(t),null}else 2*Qe()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=ls.current,Mo(ls,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ya(e,t){switch(ni(t),t.tag){case 1:return Oo(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Co(Po),Co(To),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Co(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ls),null;case 4:return is(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},La=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rs(es.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Na=function(e,t,n,r){n!==r&&(t.flags|=4)};var Za=!1,Qa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[mo],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Qa||el(n,t);case 6:var r=dl,o=hl;dl=null,pl(e,t,n),hl=o,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Gt(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=r,hl=o;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&tl(n,t,s),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Qa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,pl(e,t,n),Qa=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));fl(s,a,o),dl=null,hl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Sc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(m){Sc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":$(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(m){Sc(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(m){Sc(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Gl=Qe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||d,ml(t,e),Qa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Ja=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(i(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Za;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Za;var c=Qa;if(Za=s,(Qa=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Al(o):null!==l?(l.return=s,Ja=l):Al(o);for(;null!==i;)Ja=i,_l(i,t,n),i=i.sibling;Ja=o,Za=a,Qa=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(i(163))}Qa||512&t.flags&&il(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Al(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Sc(t,o,l)}}var i=t.return;try{il(t)}catch(l){Sc(t,i,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var El,Sl=Math.ceil,Cl=_.ReactCurrentDispatcher,Ml=_.ReactCurrentOwner,Rl=_.ReactCurrentBatchConfig,Tl=0,Pl=null,kl=null,Il=0,Ol=0,Ll=So(0),Nl=0,Fl=null,Dl=0,Bl=0,zl=0,jl=null,Ul=null,Gl=0,Hl=1/0,Vl=null,Wl=!1,Xl=null,ql=null,Kl=!1,Yl=null,Zl=0,Ql=0,$l=null,Jl=-1,ec=0;function tc(){return 0!==(6&Tl)?Qe():-1!==Jl?Jl:Jl=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==mi.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Bl|=n),4===Nl&&lc(e,Il)),oc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Qe()+500,jo&&Ho()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Pl?Il:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){jo=!0,Go(e)}(cc.bind(null,e)):Go(cc.bind(null,e)),so((function(){0===(6&Tl)&&Ho()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,ec=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var o=Tl;Tl|=2;var s=gc();for(Pl===e&&Il===t||(Vl=null,Hl=Qe()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}xi(),Cl.current=s,Tl=o,null!==kl?t=0:(Pl=null,Il=0,t=Nl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t)throw n=Fl,pc(e,0),lc(e,r),oc(e,Qe()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=vc(e,r))&&(0!==(s=ft(e))&&(r=s,t=sc(e,s))),1===t))throw n=Fl,pc(e,0),lc(e,r),oc(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Ul,Vl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Gl+500-Qe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Ul,Vl),t);break}xc(e,Ul,Vl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Ul,Vl),r);break}xc(e,Ul,Vl);break;default:throw Error(i(329))}}}return oc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~zl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(i(327));Ac();var t=ht(e,0);if(0===(1&t))return oc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Fl,pc(e,0),lc(e,t),oc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Vl),oc(e,Qe()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Qe()+500,jo&&Ho())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&Ac();var t=Tl;Tl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Tl=t))&&Ho()}}function hc(){Ol=Ll.current,Co(Ll)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==kl)for(n=kl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:is(),Co(Po),Co(To),ds();break;case 5:as(r);break;case 4:is();break;case 13:case 19:Co(ls);break;case 10:Ai(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,kl=e=Lc(e.current,null),Il=Ol=t,Nl=0,Fl=null,zl=Bl=Dl=0,Ul=jl=null,null!==Mi){for(t=0;t<Mi.length;t++)if(null!==(r=(n=Mi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Mi=null}return e}function fc(e,t){for(;;){var n=kl;try{if(xi(),hs.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ys=!1}if(fs=0,vs=ms=gs=null,bs=!1,_s=0,Ml.current=null,null===n||null===n.return){Nl=1,Fl=t,kl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=va(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),gi(ua(c,l));break e}}s=c=ua(c,l),4!==Nl&&(Nl=2),null===jl?jl=[s]:jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Di(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Di(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(_){t=_,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=sa,null===e?sa:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Bl)||lc(Pl,Il)}function vc(e,t){var n=Tl;Tl|=2;var r=gc();for(Pl===e&&Il===t||(Vl=null,pc(e,t));;)try{yc();break}catch(o){fc(e,o)}if(xi(),Tl=n,Cl.current=r,null!==kl)throw Error(i(261));return Pl=null,Il=0,Nl}function yc(){for(;null!==kl;)_c(kl)}function bc(){for(;null!==kl&&!Ye();)_c(kl)}function _c(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):kl=t,Ml.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ol)))return void(kl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return Nl=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xc(e,t,n){var r=bt,o=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{Ac()}while(null!==Yl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Pl&&(kl=Pl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return Ac(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Rl.transition,Rl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Ml.current=null,function(e,t){if(eo=Vt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vi(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=nl,nl=!1}(e,n),vl(n,e),fr(to),Vt=!!eo,to=eo=null,e.current=n,bl(n,e,o),Ze(),Tl=l,bt=a,Rl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Zl=o),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Xl,Xl=null,e;0!==(1&Zl)&&0!==e.tag&&Ac(),s=e.pendingLanes,0!==(1&s)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Ho()}(e,t,n,r)}finally{Rl.transition=o,bt=r}return null}function Ac(){if(null!==Yl){var e=_t(Zl),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Zl=0,0!==(6&Tl))throw Error(i(331));var o=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(sl(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var _=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Ja=_;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(x){Sc(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Ec(e,t,n){e=Ni(e,t=fa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),oc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ni(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Il&n)===n&&(4===Nl||3===Nl&&(130023424&Il)===Il&&500>Qe()-Gl?pc(e,0):zl|=n),oc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Pi(e,t))&&(vt(e,t,n),oc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Mc(e,n)}function Pc(e,t){return qe(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new kc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Fc(n.children,o,s,t);case E:a=8,o|=8;break;case S:return(e=Ic(12,n,t,2|o)).elementType=S,e.lanes=s,e;case T:return(e=Ic(13,n,t,o)).elementType=T,e.lanes=s,e;case P:return(e=Ic(19,n,t,o)).elementType=P,e.lanes=s,e;case O:return Dc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case M:a=9;break e;case R:a=11;break e;case k:a=14;break e;case I:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ic(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Fc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,i,s,a,l){return e=new jc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ic(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(i),e}function Gc(e){if(!e)return Ro;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Fo(e,n,t)}return t}function Hc(e,t,n,r,o,i,s,a,l){return(e=Uc(n,r,!0,e,0,i,0,a,l)).context=Gc(null),n=e.current,(i=Li(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,Ni(n,i,o),e.current.lanes=o,vt(e,o,r),oc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=tc(),s=nc(o);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ni(o,t,s))&&(rc(e,o,s,i),Fi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fi();break;case 5:ss(t);break;case 1:Oo(t.type)&&Do(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Mo(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mo(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Mo(ls,1&ls.current),null!==(e=Wa(e,t,n))?e.sibling:null);Mo(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Mo(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Wa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,ii&&0!==(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var o=Io(t,To.current);Si(t,n),o=Es(null,t,r,e,o,n);var s=Ss();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ii(t),o.updater=Gi,t.stateNode=o,o._reactInternals=t,Xi(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===k)return 14}return 2}(r),e=vi(r,e),o){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ma(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ra(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(Pa(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Oi(e,t),Bi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ka(e,t,r,n,o=ua(Error(i(423)),t));break e}if(r!==o){t=ka(e,t,r,n,o=ua(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=$i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ba(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Mo(yi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Po.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Li(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Si(t,n),r=r(o=Ci(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),Aa(e,t,r,o=vi(r.type,o),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),Va(e,t),t.tag=1,Oo(r)?(e=!0,Do(t)):e=!1,Si(t,n),Vi(t,r,o),Xi(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Sa(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}Vc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[go]=s.current,Gr(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[go]=l.current,Gr(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,l,n,r)})),l}(n,t,e,o,r);return Wc(s)}Zc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Zc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[go]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Qe()),0===(6&Tl)&&(Hl=Qe()+500,Ho()))}break;case 13:dc((function(){var t=Pi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),qc(e,1)}},xt=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)rc(t,e,134217728,tc());qc(e,134217728)}},At=function(e){if(13===e.tag){var t=nc(e),n=Pi(e,t);if(null!==n)rc(n,e,t,tc());qc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));q(r),$(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[_o,wo,xo,Ce,Me,uc]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[go]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,s,a),e[go]=t.current,Gr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1352:(e,t,n)=>{"use strict";var r=n(7119);t.H=r.createRoot,r.hydrateRoot},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},8577:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case f:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},6429:(e,t,n)=>{"use strict";e.exports=n(8577)},2654:(e,t,n)=>{"use strict";var r=n(9950),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,g(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:A.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+R(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(M,"$&/")+"/"),T(s,t,o,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+R(a=e[c],c);l+=T(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,o,u=i+R(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=A.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,_(e),!g)if(null!==r(c))g=!0,O(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(C),C=-1),f=!0;var i=p;try{for(_(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),_(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,E=!1,S=null,C=-1,M=5,R=-1;function T(){return!(t.unstable_now()-R<M)}function P(){if(null!==S){var e=t.unstable_now();R=e;var n=!0;try{n=S(!0,e)}finally{n?A():(E=!1,S=null)}}else E=!1}if("function"===typeof b)A=function(){b(P)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,I=k.port2;k.port1.onmessage=P,A=function(){I.postMessage(null)}}else A=function(){v(P,0)};function O(e){S=e,E||(E=!0,A())}function L(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(y(C),C=-1):m=!0,L(w,i-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,O(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{A:()=>r})},2004:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(8168),t=n(9950),r=n(664),o=n(3158),i=n(7148),s=n(4414);const a=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const a=(0,i.A)(r),l="function"===typeof t?t(n&&a[n]||a):t;return(0,s.jsx)(o.A,{styles:l})};var l=n(195),c=n(7550);const u=function(t){return(0,s.jsx)(a,(0,e.A)({},t,{defaultTheme:l.A,themeId:c.A}))},d=(t,n)=>(0,e.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},n&&!t.vars&&{colorScheme:t.palette.mode}),h=t=>(0,e.A)({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}});const p=function(n){const o=(0,r.A)({props:n,name:"MuiCssBaseline"}),{children:i,enableColorScheme:a=!1}=o;return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(u,{styles:t=>function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;const o={};n&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach((e=>{let[n,r]=e;var i;o[t.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=r.palette)?void 0:i.mode}}));let i=(0,e.A)({html:d(t,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:(0,e.A)({margin:0},h(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},o);const s=null==(r=t.components)||null==(r=r.MuiCssBaseline)?void 0:r.styleOverrides;return s&&(i=[i,s]),i}(t,a)}),i]})};var f=n(8587);const g=t.createContext(null);function m(){return t.useContext(g)}const v="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const y=function(n){const{children:r,theme:o}=n,i=m(),a=t.useMemo((()=>{const t=null===i?o:function(t,n){if("function"===typeof n)return n(t);return(0,e.A)({},t,n)}(i,o);return null!=t&&(t[v]=null!==i),t}),[o,i]);return(0,s.jsx)(g.Provider,{value:a,children:r})};var b=n(2899),_=n(357);const w=["value"],x=t.createContext();const A=()=>{const e=t.useContext(x);return null!=e&&e},E=function(t){let{value:n}=t,r=(0,f.A)(t,w);return(0,s.jsx)(x.Provider,(0,e.A)({value:null==n||n},r))},S={};function C(n,r,o){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((()=>{const t=n&&r[n]||r;if("function"===typeof o){const s=o(t),a=n?(0,e.A)({},r,{[n]:s}):s;return i?()=>a:a}return n?(0,e.A)({},r,{[n]:o}):(0,e.A)({},r,o)}),[n,r,o,i])}const M=function(e){const{children:t,theme:n,themeId:r}=e,o=(0,_.A)(S),i=m()||S,a=C(r,o,n),l=C(r,i,n,!0),c="rtl"===a.direction;return(0,s.jsx)(y,{theme:l,children:(0,s.jsx)(b.T.Provider,{value:a,children:(0,s.jsx)(E,{value:c,children:t})})})},R=["theme"];function T(t){let{theme:n}=t,r=(0,f.A)(t,R);const o=n[c.A];return(0,s.jsx)(M,(0,e.A)({},r,{themeId:o?c.A:void 0,theme:o||n}))}const P={fontFamily:'"Roboto Mono", sans-serif',fontSize:12,fontWeightLight:100,fontWeightRegular:500,fontWeightMedium:700,h1:{fontWeight:700,fontSize:45,letterSpacing:"-1px"},h2:{fontWeight:800,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:700,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}};var k=n(7775);const I=(0,k.A)({typography:P,palette:{mode:"dark"}});var O=n(2004),L=n(4061),N=n(9254),F=n(9269);const D=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var B=n(863),z=n(8483);function j(e){return(0,z.Ay)("MuiPaper",e)}(0,B.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const U=["className","component","elevation","square","variant"],G=(0,N.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((t=>{let{theme:n,ownerState:r}=t;var o;return(0,e.A)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,e.A)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,F.X4)("#fff",D(r.elevation)),", ").concat((0,F.X4)("#fff",D(r.elevation)),")")},n.vars&&{backgroundImage:null==(o=n.vars.overlays)?void 0:o[r.elevation]}))})),H=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiPaper"}),{className:i,component:a="div",elevation:l=1,square:c=!1,variant:u="elevation"}=o,d=(0,f.A)(o,U),h=(0,e.A)({},o,{component:a,elevation:l,square:c,variant:u}),p=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,L.A)(i,j,o)})(h);return(0,s.jsx)(G,(0,e.A)({as:a,ownerState:h,className:(0,O.A)(p.root,i),ref:n},d))})),V=H;function W(e){return(0,z.Ay)("MuiCard",e)}(0,B.A)("MuiCard",["root"]);const X=["className","raised"],q=(0,N.Ay)(V,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),K=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiCard"}),{className:i,raised:a=!1}=o,l=(0,f.A)(o,X),c=(0,e.A)({},o,{raised:a}),u=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"]},W,t)})(c);return(0,s.jsx)(q,(0,e.A)({className:(0,O.A)(u.root,i),elevation:a?8:void 0,ref:n,ownerState:c},l))})),Y=K;function Z(e){return(0,z.Ay)("MuiCardContent",e)}(0,B.A)("MuiCardContent",["root"]);const Q=["className","component"],$=(0,N.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),J=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiCardContent"}),{className:i,component:a="div"}=o,l=(0,f.A)(o,Q),c=(0,e.A)({},o,{component:a}),u=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"]},Z,t)})(c);return(0,s.jsx)($,(0,e.A)({as:a,className:(0,O.A)(u.root,i),ownerState:c,ref:n},l))})),ee=J;var te=n(237),ne=n(1676);function re(e){return(0,z.Ay)("MuiTypography",e)}(0,B.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const oe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ie=(0,N.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,ne.A)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({margin:0},"inherit"===r.variant&&{font:"inherit"},"inherit"!==r.variant&&n.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),se={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},le=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiTypography"}),i=(e=>ae[e]||e)(o.color),a=(0,te.A)((0,e.A)({},o,{color:i})),{align:l="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:p=!1,variant:g="body1",variantMapping:m=se}=a,v=(0,f.A)(a,oe),y=(0,e.A)({},a,{align:l,color:i,className:c,component:u,gutterBottom:d,noWrap:h,paragraph:p,variant:g,variantMapping:m}),b=u||(p?"p":m[g]||se[g])||"span",_=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,"inherit"!==e.align&&"align".concat((0,ne.A)(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,L.A)(a,re,s)})(y);return(0,s.jsx)(ie,(0,e.A)({as:b,ref:n,ownerState:y,className:(0,O.A)(_.root,c)},v))})),ce=le;var ue=n(116),de=n(505);const he=["className","component"];var pe=n(1681);const fe=(0,B.A)("MuiBox",["root"]),ge=(0,k.A)(),me=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:r,defaultTheme:o,defaultClassName:a="MuiBox-root",generateClassName:l}=n,c=(0,ue.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(de.A),u=t.forwardRef((function(t,n){const u=(0,i.A)(o),d=(0,te.A)(t),{className:h,component:p="div"}=d,g=(0,f.A)(d,he);return(0,s.jsx)(c,(0,e.A)({as:p,ref:n,className:(0,O.A)(h,l?l(a):a),theme:r&&u[r]||u},g))}));return u}({themeId:c.A,defaultTheme:ge,defaultClassName:fe.root,generateClassName:pe.A.generate}),ve=me;var ye=n(4093);function be(e){return"string"===typeof e}function _e(t,n,r){return void 0===t||be(t)?n:(0,e.A)({},n,{ownerState:(0,e.A)({},n.ownerState,r)})}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function xe(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function Ae(t){const{getSlotProps:n,additionalProps:r,externalSlotProps:o,externalForwardedProps:i,className:s}=t;if(!n){const t=(0,O.A)(null==r?void 0:r.className,s,null==i?void 0:i.className,null==o?void 0:o.className),n=(0,e.A)({},null==r?void 0:r.style,null==i?void 0:i.style,null==o?void 0:o.style),a=(0,e.A)({},r,i,o);return t.length>0&&(a.className=t),Object.keys(n).length>0&&(a.style=n),{props:a,internalRef:void 0}}const a=we((0,e.A)({},i,o)),l=xe(o),c=xe(i),u=n(a),d=(0,O.A)(null==u?void 0:u.className,null==r?void 0:r.className,s,null==i?void 0:i.className,null==o?void 0:o.className),h=(0,e.A)({},null==u?void 0:u.style,null==r?void 0:r.style,null==i?void 0:i.style,null==o?void 0:o.style),p=(0,e.A)({},u,r,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}}function Ee(e,t,n){return"function"===typeof e?e(t,n):e}const Se=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ce(t){var n;const{elementType:r,externalSlotProps:o,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=(0,f.A)(t,Se),l=s?{}:Ee(o,i),{props:c,internalRef:u}=Ae((0,e.A)({},a,{externalSlotProps:l})),d=(0,ye.A)(u,null==l?void 0:l.ref,null==(n=t.additionalProps)?void 0:n.ref);return _e(r,(0,e.A)({},c,{ref:d}),i)}var Me=n(3511),Re=n(2877),Te=n(7603),Pe=n(8727);function ke(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ie(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Oe(e){return parseInt((0,Pe.A)(e).getComputedStyle(e).paddingRight,10)||0}function Le(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ie(e,o)}))}function Ne(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Fe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Me.A)(e);return t.body===e?(0,Pe.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=ke((0,Me.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Oe(r)+e,"px");const t=(0,Me.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Oe(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,Me.A)(r).body;else{const t=r.parentElement,n=(0,Pe.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const De=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ie(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Le(t,e.mount,e.modalRef,r,!0);const o=Ne(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Ne(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Fe(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Ne(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ie(e.modalRef,t),Le(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ie(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Be(n){const{container:r,disableEscapeKeyDown:o=!1,disableScrollLock:i=!1,manager:s=De,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=n,f=t.useRef({}),g=t.useRef(null),m=t.useRef(null),v=(0,ye.A)(m,p),[y,b]=t.useState(!h),_=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==n["aria-hidden"]&&!1!==n["aria-hidden"]||(w=!1);const x=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),A=()=>{s.mount(x(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},E=(0,Re.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(r)||(0,Me.A)(g.current).body;s.add(x(),e),m.current&&A()})),S=t.useCallback((()=>s.isTopModal(x())),[s]),C=(0,Re.A)((e=>{g.current=e,e&&(h&&S()?A():m.current&&Ie(m.current,w))})),M=t.useCallback((()=>{s.remove(x(),w)}),[w,s]);t.useEffect((()=>()=>{M()}),[M]),t.useEffect((()=>{h?E():_&&a||M()}),[h,M,_,a,E]);const R=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(o||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=we(n);delete r.onTransitionEnter,delete r.onTransitionExited;const o=(0,e.A)({},r,t);return(0,e.A)({role:"presentation"},o,{onKeyDown:R(o),ref:v})},getBackdropProps:function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,e.A)({"aria-hidden":!0},t,{onClick:T(t),open:h})},getTransitionProps:()=>({onEnter:(0,Te.A)((()=>{b(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:(0,Te.A)((()=>{b(!0),c&&c(),a&&M()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:C,isTopModal:S,exited:y,hasTransition:_}}const ze=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function je(e){const t=[],n=[];return Array.from(e.querySelectorAll(ze)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Ue(){return!0}function Ge(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:a=je,isEnabled:l=Ue,open:c}=e,u=t.useRef(!1),d=t.useRef(null),h=t.useRef(null),p=t.useRef(null),f=t.useRef(null),g=t.useRef(!1),m=t.useRef(null),v=(0,ye.A)(n.ref,m),y=t.useRef(null);t.useEffect((()=>{c&&m.current&&(g.current=!r)}),[r,c]),t.useEffect((()=>{if(!c||!m.current)return;const e=(0,Me.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),g.current&&m.current.focus()),()=>{i||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}}),[c]),t.useEffect((()=>{if(!c||!m.current)return;const e=(0,Me.A)(m.current),t=t=>{y.current=t,!o&&l()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(u.current=!0,h.current&&h.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!l()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==d.current&&e.activeElement!==h.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!g.current)return;let n=[];if(e.activeElement!==d.current&&e.activeElement!==h.current||(n=a(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=y.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,o,i,l,c,a]);const b=e=>{null===p.current&&(p.current=e.relatedTarget),g.current=!0};return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)("div",{tabIndex:c?0:-1,onFocus:b,ref:d,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:v,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),g.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,s.jsx)("div",{tabIndex:c?0:-1,onFocus:b,ref:h,"data-testid":"sentinelEnd"})]})}var He=n(7119),Ve=n(4131),We=n(5679);const Xe=t.forwardRef((function(e,n){const{children:r,container:o,disablePortal:i=!1}=e,[a,l]=t.useState(null),c=(0,ye.A)(t.isValidElement(r)?r.ref:null,n);if((0,Ve.A)((()=>{i||l(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,i]),(0,Ve.A)((()=>{if(a&&!i)return(0,We.A)(n,a),()=>{(0,We.A)(n,null)}}),[n,a,i]),i){if(t.isValidElement(r)){const e={ref:c};return t.cloneElement(r,e)}return(0,s.jsx)(t.Fragment,{children:r})}return(0,s.jsx)(t.Fragment,{children:a?He.createPortal(r,a):a})}));function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qe(e,t)}const Ye=!1,Ze=t.createContext(null);var Qe="unmounted",$e="exited",Je="entering",et="entered",tt="exiting",nt=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=$e,r.appearStatus=Je):o=et:o=t.unmountOnExit||t.mountOnEnter?Qe:$e,r.state={status:o},r.nextCallback=null,r}Ke(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Qe?{status:$e}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Je&&n!==et&&(t=Je):n!==Je&&n!==et||(t=tt)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Je){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:He.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$e&&this.setState({status:Qe})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[He.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Ye?this.safeSetState({status:et},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:Je},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:et},(function(){t.props.onEntered(i,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:He.findDOMNode(this);t&&!Ye?(this.props.onExit(r),this.safeSetState({status:tt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:$e},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:$e},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:He.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Qe)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,f.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ze.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},n}(t.Component);function rt(){}nt.contextType=Ze,nt.propTypes={},nt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rt,onEntering:rt,onEntered:rt,onExit:rt,onExiting:rt,onExited:rt},nt.UNMOUNTED=Qe,nt.EXITED=$e,nt.ENTERING=Je,nt.ENTERED=et,nt.EXITING=tt;const ot=nt;function it(){const e=(0,i.A)(l.A);return e[c.A]||e}const st=e=>e.scrollTop;function at(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}var lt=n(1506);const ct=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ut={entering:{opacity:1},entered:{opacity:1}},dt=t.forwardRef((function(n,r){const o=it(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:g,onExit:m,onExited:v,onExiting:y,style:b,timeout:_=i,TransitionComponent:w=ot}=n,x=(0,f.A)(n,ct),A=t.useRef(null),E=(0,lt.A)(A,c.ref,r),S=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},C=S(g),M=S(((e,t)=>{st(e);const n=at({style:b,timeout:_,easing:u},{mode:"enter"});e.style.webkitTransition=o.transitions.create("opacity",n),e.style.transition=o.transitions.create("opacity",n),h&&h(e,t)})),R=S(p),T=S(y),P=S((e=>{const t=at({style:b,timeout:_,easing:u},{mode:"exit"});e.style.webkitTransition=o.transitions.create("opacity",t),e.style.transition=o.transitions.create("opacity",t),m&&m(e)})),k=S(v);return(0,s.jsx)(w,(0,e.A)({appear:l,in:d,nodeRef:A,onEnter:M,onEntered:R,onEntering:C,onExit:P,onExited:k,onExiting:T,addEndListener:e=>{a&&a(A.current,e)},timeout:_},x,{children:(n,r)=>t.cloneElement(c,(0,e.A)({style:(0,e.A)({opacity:0,visibility:"exited"!==n||d?void 0:"hidden"},ut[n],b,c.props.style),ref:E},r))}))})),ht=dt;function pt(e){return(0,z.Ay)("MuiBackdrop",e)}(0,B.A)("MuiBackdrop",["root","invisible"]);const ft=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],gt=(0,N.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((t=>{let{ownerState:n}=t;return(0,e.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})})),mt=t.forwardRef((function(t,n){var o,i,a;const l=(0,r.A)({props:t,name:"MuiBackdrop"}),{children:c,className:u,component:d="div",components:h={},componentsProps:p={},invisible:g=!1,open:m,slotProps:v={},slots:y={},TransitionComponent:b=ht,transitionDuration:_}=l,w=(0,f.A)(l,ft),x=(0,e.A)({},l,{component:d,invisible:g}),A=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,L.A)(r,pt,t)})(x),E=null!=(o=v.root)?o:p.root;return(0,s.jsx)(b,(0,e.A)({in:m,timeout:_},w,{children:(0,s.jsx)(gt,(0,e.A)({"aria-hidden":!0},E,{as:null!=(i=null!=(a=y.root)?a:h.Root)?i:d,className:(0,O.A)(A.root,u,null==E?void 0:E.className),ownerState:(0,e.A)({},x,null==E?void 0:E.ownerState),classes:A,ref:n,children:c}))}))})),vt=mt;function yt(e){return(0,z.Ay)("MuiModal",e)}(0,B.A)("MuiModal",["root","hidden","backdrop"]);const bt=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],_t=(0,N.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})})),wt=(0,N.Ay)(vt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),xt=t.forwardRef((function(n,o){var i,a,l,c,u,d;const h=(0,r.A)({name:"MuiModal",props:n}),{BackdropComponent:p=wt,BackdropProps:g,className:m,closeAfterTransition:v=!1,children:y,container:b,component:_,components:w={},componentsProps:x={},disableAutoFocus:A=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:S=!1,disablePortal:C=!1,disableRestoreFocus:M=!1,disableScrollLock:R=!1,hideBackdrop:T=!1,keepMounted:P=!1,onBackdropClick:k,open:I,slotProps:N,slots:F}=h,D=(0,f.A)(h,bt),B=(0,e.A)({},h,{closeAfterTransition:v,disableAutoFocus:A,disableEnforceFocus:E,disableEscapeKeyDown:S,disablePortal:C,disableRestoreFocus:M,disableScrollLock:R,hideBackdrop:T,keepMounted:P}),{getRootProps:z,getBackdropProps:j,getTransitionProps:U,portalRef:G,isTopModal:H,exited:V,hasTransition:W}=Be((0,e.A)({},B,{rootRef:o})),X=(0,e.A)({},B,{exited:V}),q=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,L.A)(o,yt,r)})(X),K={};if(void 0===y.props.tabIndex&&(K.tabIndex="-1"),W){const{onEnter:e,onExited:t}=U();K.onEnter=e,K.onExited=t}const Y=null!=(i=null!=(a=null==F?void 0:F.root)?a:w.Root)?i:_t,Z=null!=(l=null!=(c=null==F?void 0:F.backdrop)?c:w.Backdrop)?l:p,Q=null!=(u=null==N?void 0:N.root)?u:x.root,$=null!=(d=null==N?void 0:N.backdrop)?d:x.backdrop,J=Ce({elementType:Y,externalSlotProps:Q,externalForwardedProps:D,getSlotProps:z,additionalProps:{ref:o,as:_},ownerState:X,className:(0,O.A)(m,null==Q?void 0:Q.className,null==q?void 0:q.root,!X.open&&X.exited&&(null==q?void 0:q.hidden))}),ee=Ce({elementType:Z,externalSlotProps:$,additionalProps:g,getSlotProps:t=>j((0,e.A)({},t,{onClick:e=>{k&&k(e),null!=t&&t.onClick&&t.onClick(e)}})),className:(0,O.A)(null==$?void 0:$.className,null==g?void 0:g.className,null==q?void 0:q.backdrop),ownerState:X});return P||I||W&&!V?(0,s.jsx)(Xe,{ref:G,container:b,disablePortal:C,children:(0,s.jsxs)(Y,(0,e.A)({},J,{children:[!T&&p?(0,s.jsx)(Z,(0,e.A)({},ee)):null,(0,s.jsx)(Ge,{disableEnforceFocus:E,disableAutoFocus:A,disableRestoreFocus:M,isEnabled:H,open:I,children:t.cloneElement(y,K)})]}))}):null})),At=xt;var Et=n(1209),St=n(827);const Ct=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Mt(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=(0,St.A)(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=i.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+a-r.left:i.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:i.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Rt=t.forwardRef((function(n,r){const o=it(),i={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:p=i,in:g,onEnter:m,onEntered:v,onEntering:y,onExit:b,onExited:_,onExiting:w,style:x,timeout:A=a,TransitionComponent:E=ot}=n,S=(0,f.A)(n,Ct),C=t.useRef(null),M=(0,lt.A)(u.ref,C,r),R=e=>t=>{e&&(void 0===t?e(C.current):e(C.current,t))},T=R(((e,t)=>{Mt(h,e,d),st(e),m&&m(e,t)})),P=R(((t,n)=>{const r=at({timeout:A,style:x,easing:p},{mode:"enter"});t.style.webkitTransition=o.transitions.create("-webkit-transform",(0,e.A)({},r)),t.style.transition=o.transitions.create("transform",(0,e.A)({},r)),t.style.webkitTransform="none",t.style.transform="none",y&&y(t,n)})),k=R(v),I=R(w),O=R((e=>{const t=at({timeout:A,style:x,easing:p},{mode:"exit"});e.style.webkitTransition=o.transitions.create("-webkit-transform",t),e.style.transition=o.transitions.create("transform",t),Mt(h,e,d),b&&b(e)})),L=R((e=>{e.style.webkitTransition="",e.style.transition="",_&&_(e)})),N=t.useCallback((()=>{C.current&&Mt(h,C.current,d)}),[h,d]);return t.useEffect((()=>{if(g||"down"===h||"right"===h)return;const e=(0,Et.A)((()=>{C.current&&Mt(h,C.current,d)})),t=(0,St.A)(C.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,g,d]),t.useEffect((()=>{g||N()}),[g,N]),(0,s.jsx)(E,(0,e.A)({nodeRef:C,onEnter:T,onEntered:k,onEntering:P,onExit:O,onExited:L,onExiting:I,addEndListener:e=>{l&&l(C.current,e)},appear:c,in:g,timeout:A},S,{children:(n,r)=>t.cloneElement(u,(0,e.A)({ref:M,style:(0,e.A)({visibility:"exited"!==n||g?void 0:"hidden"},x,u.props.style)},r))}))})),Tt=Rt;var Pt=n(9608);function kt(e){return(0,z.Ay)("MuiDrawer",e)}(0,B.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const It=["BackdropProps"],Ot=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Lt=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Nt=(0,N.Ay)(At,{name:"MuiDrawer",slot:"Root",overridesResolver:Lt})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),Ft=(0,N.Ay)("div",{shouldForwardProp:Pt.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Lt})({flex:"0 0 auto"}),Dt=(0,N.Ay)(V,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat((0,ne.A)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,ne.A)(n.anchor))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===r.anchor&&{left:0},"top"===r.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===r.anchor&&{right:0},"bottom"===r.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===r.anchor&&"temporary"!==r.variant&&{borderRight:"1px solid ".concat((n.vars||n).palette.divider)},"top"===r.anchor&&"temporary"!==r.variant&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider)},"right"===r.anchor&&"temporary"!==r.variant&&{borderLeft:"1px solid ".concat((n.vars||n).palette.divider)},"bottom"===r.anchor&&"temporary"!==r.variant&&{borderTop:"1px solid ".concat((n.vars||n).palette.divider)})})),Bt={left:"right",right:"left",top:"down",bottom:"up"};const zt=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiDrawer"}),a=it(),l=A(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:d,children:h,className:p,elevation:g=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:v}={},onClose:y,open:b=!1,PaperProps:_={},SlideProps:w,TransitionComponent:x=Tt,transitionDuration:E=c,variant:S="temporary"}=i,C=(0,f.A)(i.ModalProps,It),M=(0,f.A)(i,Ot),R=t.useRef(!1);t.useEffect((()=>{R.current=!0}),[]);const T=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Bt[t]:t}({direction:l?"rtl":"ltr"},u),P=u,k=(0,e.A)({},i,{anchor:P,elevation:g,open:b,variant:S},M),I=(e=>{const{classes:t,anchor:n,variant:r}=e,o={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,ne.A)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,ne.A)(n))]};return(0,L.A)(o,kt,t)})(k),N=(0,s.jsx)(Dt,(0,e.A)({elevation:"temporary"===S?g:0,square:!0},_,{className:(0,O.A)(I.paper,_.className),ownerState:k,children:h}));if("permanent"===S)return(0,s.jsx)(Ft,(0,e.A)({className:(0,O.A)(I.root,I.docked,p),ownerState:k,ref:o},M,{children:N}));const F=(0,s.jsx)(x,(0,e.A)({in:b,direction:Bt[T],timeout:E,appear:R.current},w,{children:N}));return"persistent"===S?(0,s.jsx)(Ft,(0,e.A)({className:(0,O.A)(I.root,I.docked,p),ownerState:k,ref:o},M,{children:F})):(0,s.jsx)(Nt,(0,e.A)({BackdropProps:(0,e.A)({},d,v,{transitionDuration:E}),className:(0,O.A)(I.root,I.modal,p),open:b,ownerState:k,onClose:y,hideBackdrop:m,ref:o},M,C,{children:F}))})),jt=zt,Ut=20,Gt=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)-10,Ht=5;function Vt(e){let{children:n,direction:r,width:o}=e;const[i,a]=(0,t.useState)(o||Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)/2),l=e=>{document.addEventListener("mouseup",c,!0),document.addEventListener("mousemove",u,!0),e.preventDefault()},c=e=>{document.removeEventListener("mouseup",c,!0),document.removeEventListener("mousemove",u,!0),e.preventDefault()},u=(0,t.useCallback)((e=>{let t=null;"right"===r?t=document.body.offsetLeft+document.body.offsetWidth-e.clientX+20:"left"===r||void 0===r?t=document.body.offsetLeft+e.clientX+20:"bottom"===r&&(t=document.documentElement.scrollHeight-e.clientY),t>Ht&&t<Gt&&a(t),t>document.documentElement.scrollHeight-Ut&&a(document.documentElement.scrollHeight-Ut-10)}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ve,{onMouseDown:e=>l(e),sx:{padding:Ut+"px 0 0",position:"fixed",width:()=>"right"===r||"left"===r||void 0===r?"".concat(Ut,"px"):"bottom"===r?"100vw":void 0,height:"bottom"===r?"".concat(Ut,"px"):"100vh",left:"left"===r?i+"px":void 0,right:"right"===r?i+"px":void 0,bottom:"bottom"===r?i+"px":void 0,zIndex:"bottom"===r?9999:100,cursor:"move",backgroundColor:"rgba(0,0,0,0.8)"}}),("right"===r||"left"===r||void 0===r)&&(0,s.jsx)(ve,{onMouseDown:e=>l(e),onTouchStart:e=>l(e),onClick:e=>a(i<30?Gt/2:15),sx:{position:"fixed",top:"45%",width:Ut+5,height:"10vh",left:"left"===r?i+"px":void 0,right:"right"===r?i+"px":void 0,zIndex:1e3,borderRadius:"30px",cursor:"move"},children:(0,s.jsx)(ve,{sx:{transform:"rotate(90deg)",position:"absolute",top:"40%",left:"40%"},children:"..."})}),(0,s.jsx)(jt,{anchor:r,open:!0,variant:"persistent",ModalProps:{keepMounted:!0},PaperProps:"bottom"===r?{style:{height:i,zIndex:9999}}:{style:{width:i,zIndex:100}},children:(0,s.jsx)(V,{children:n})})]})}const Wt=t.createContext({});function Xt(e){return(0,z.Ay)("MuiList",e)}(0,B.A)("MuiList",["root","padding","dense","subheader"]);const qt=["children","className","component","dense","disablePadding","subheader"],Kt=(0,N.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((t=>{let{ownerState:n}=t;return(0,e.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})})),Yt=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiList"}),{children:a,className:l,component:c="ul",dense:u=!1,disablePadding:d=!1,subheader:h}=i,p=(0,f.A)(i,qt),g=t.useMemo((()=>({dense:u})),[u]),m=(0,e.A)({},i,{component:c,dense:u,disablePadding:d}),v=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,L.A)(i,Xt,t)})(m);return(0,s.jsx)(Wt.Provider,{value:g,children:(0,s.jsxs)(Kt,(0,e.A)({as:c,className:(0,O.A)(v.root,l),ref:o,ownerState:m},p,{children:[h,a]}))})})),Zt=Yt;var Qt=n(1976),$t=n(4106);function Jt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function en(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function tn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function nn(e,n,r){var o=en(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(n,o);return Object.keys(i).forEach((function(s){var a=i[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in o,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(i[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:tn(a,"exit",e),enter:tn(a,"enter",e)})):i[s]=(0,t.cloneElement)(a,{in:!1}):i[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:tn(a,"exit",e),enter:tn(a,"enter",e)})}})),i}var rn=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},on=function(n){function r(e,t){var r,o=(r=n.call(this,e,t)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Ke(r,n);var o=r.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,n){var r,o,i=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,o=s,en(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:tn(e,"appear",r),enter:tn(e,"enter",r),exit:tn(e,"exit",r)})}))):nn(e,i,s),firstRender:!1}},o.handleExited=function(t,n){var r=en(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(n),this.mounted&&this.setState((function(n){var r=(0,e.A)({},n.children);return delete r[t.key],{children:r}})))},o.render=function(){var e=this.props,n=e.component,r=e.childFactory,o=(0,f.A)(e,["component","childFactory"]),i=this.state.contextValue,s=rn(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?t.createElement(Ze.Provider,{value:i},s):t.createElement(Ze.Provider,{value:i},t.createElement(n,o,s))},r}(t.Component);on.propTypes={},on.defaultProps={component:"div",childFactory:function(e){return e}};const sn=on;var an=n(8283),ln=n(1865);const cn=function(e){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:a,rippleSize:l,in:c,onExited:u,timeout:d}=e,[h,p]=t.useState(!1),f=(0,O.A)(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),g={width:l,height:l,top:-l/2+a,left:-l/2+i},m=(0,O.A)(r.child,h&&r.childLeaving,o&&r.childPulsate);return c||h||p(!0),t.useEffect((()=>{if(!c&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,c,d]),(0,s.jsx)("span",{className:f,style:g,children:(0,s.jsx)("span",{className:m})})};const un=(0,B.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var dn,hn,pn,fn;const gn=["center","classes","className"];let mn,vn,yn,bn;const _n=(0,an.i7)(mn||(mn=dn||(dn=Jt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),wn=(0,an.i7)(vn||(vn=hn||(hn=Jt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),xn=(0,an.i7)(yn||(yn=pn||(pn=Jt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),An=(0,N.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),En=(0,N.Ay)(cn,{name:"MuiTouchRipple",slot:"Ripple"})(bn||(bn=fn||(fn=Jt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),un.rippleVisible,_n,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),un.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),un.child,un.childLeaving,wn,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),un.childPulsate,xn,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Sn=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:c}=i,u=(0,f.A)(i,gn),[d,h]=t.useState([]),p=t.useRef(0),g=t.useRef(null);t.useEffect((()=>{g.current&&(g.current(),g.current=null)}),[d]);const m=t.useRef(!1),v=(0,ln.A)(),y=t.useRef(null),b=t.useRef(null),_=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:i}=e;h((e=>[...e,(0,s.jsx)(En,{classes:{ripple:(0,O.A)(l.ripple,un.ripple),rippleVisible:(0,O.A)(l.rippleVisible,un.rippleVisible),ripplePulsate:(0,O.A)(l.ripplePulsate,un.ripplePulsate),child:(0,O.A)(l.child,un.child),childLeaving:(0,O.A)(l.childLeaving,un.childLeaving),childPulsate:(0,O.A)(l.childPulsate,un.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},p.current)])),p.current+=1,g.current=i}),[l]),w=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=a||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const s=i?null:b.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===y.current&&(y.current=()=>{_({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},v.start(80,(()=>{y.current&&(y.current(),y.current=null)}))):_({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[a,_,v]),x=t.useCallback((()=>{w({},{pulsate:!0})}),[w]),A=t.useCallback(((e,t)=>{if(v.clear(),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void v.start(0,(()=>{A(e,t)}));y.current=null,h((e=>e.length>0?e.slice(1):e)),g.current=t}),[v]);return t.useImperativeHandle(o,(()=>({pulsate:x,start:w,stop:A})),[x,w,A]),(0,s.jsx)(An,(0,e.A)({className:(0,O.A)(un.root,l.root,c),ref:b},u,{children:(0,s.jsx)(sn,{component:null,exit:!0,children:d})}))})),Cn=Sn;function Mn(e){return(0,z.Ay)("MuiButtonBase",e)}const Rn=(0,B.A)("MuiButtonBase",["root","disabled","focusVisible"]),Tn=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Pn=(0,N.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Rn.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kn=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiButtonBase"}),{action:a,centerRipple:l=!1,children:c,className:u,component:d="button",disabled:h=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:m=!1,LinkComponent:v="a",onBlur:y,onClick:b,onContextMenu:_,onDragLeave:w,onFocus:x,onFocusVisible:A,onKeyDown:E,onKeyUp:S,onMouseDown:C,onMouseLeave:M,onMouseUp:R,onTouchEnd:T,onTouchMove:P,onTouchStart:k,tabIndex:I=0,TouchRippleProps:N,touchRippleRef:F,type:D}=i,B=(0,f.A)(i,Tn),z=t.useRef(null),j=t.useRef(null),U=(0,lt.A)(j,F),{isFocusVisibleRef:G,onFocus:H,onBlur:V,ref:W}=(0,$t.A)(),[X,q]=t.useState(!1);h&&X&&q(!1),t.useImperativeHandle(a,(()=>({focusVisible:()=>{q(!0),z.current.focus()}})),[]);const[K,Y]=t.useState(!1);t.useEffect((()=>{Y(!0)}),[]);const Z=K&&!p&&!h;function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,Qt.A)((r=>{t&&t(r);return!n&&j.current&&j.current[e](r),!0}))}t.useEffect((()=>{X&&m&&!p&&K&&j.current.pulsate()}),[p,m,X,K]);const $=Q("start",C),J=Q("stop",_),ee=Q("stop",w),te=Q("stop",R),ne=Q("stop",(e=>{X&&e.preventDefault(),M&&M(e)})),re=Q("start",k),oe=Q("stop",T),ie=Q("stop",P),se=Q("stop",(e=>{V(e),!1===G.current&&q(!1),y&&y(e)}),!1),ae=(0,Qt.A)((e=>{z.current||(z.current=e.currentTarget),H(e),!0===G.current&&(q(!0),A&&A(e)),x&&x(e)})),le=()=>{const e=z.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ce=t.useRef(!1),ue=(0,Qt.A)((e=>{m&&!ce.current&&X&&j.current&&" "===e.key&&(ce.current=!0,j.current.stop(e,(()=>{j.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!h&&(e.preventDefault(),b&&b(e))})),de=(0,Qt.A)((e=>{m&&" "===e.key&&j.current&&X&&!e.defaultPrevented&&(ce.current=!1,j.current.stop(e,(()=>{j.current.pulsate(e)}))),S&&S(e),b&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&b(e)}));let he=d;"button"===he&&(B.href||B.to)&&(he=v);const pe={};"button"===he?(pe.type=void 0===D?"button":D,pe.disabled=h):(B.href||B.to||(pe.role="button"),h&&(pe["aria-disabled"]=h));const fe=(0,lt.A)(o,W,z);const ge=(0,e.A)({},i,{centerRipple:l,component:d,disabled:h,disableRipple:p,disableTouchRipple:g,focusRipple:m,tabIndex:I,focusVisible:X}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,L.A)(i,Mn,o);return n&&r&&(s.root+=" ".concat(r)),s})(ge);return(0,s.jsxs)(Pn,(0,e.A)({as:he,className:(0,O.A)(me.root,u),ownerState:ge,onBlur:se,onClick:b,onContextMenu:J,onFocus:ae,onKeyDown:ue,onKeyUp:de,onMouseDown:$,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:oe,onTouchMove:ie,onTouchStart:re,ref:fe,tabIndex:h?-1:I,type:D},pe,B,{children:[c,Z?(0,s.jsx)(Cn,(0,e.A)({ref:U,center:l},N)):null]}))})),In=kn;var On=n(96),Ln=n(9044);function Nn(e){return(0,z.Ay)("MuiListItem",e)}const Fn=(0,B.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Dn=(0,B.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Bn(e){return(0,z.Ay)("MuiListItemSecondaryAction",e)}(0,B.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const zn=["className"],jn=(0,N.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((t=>{let{ownerState:n}=t;return(0,e.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},n.disableGutters&&{right:0})})),Un=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiListItemSecondaryAction"}),{className:a}=i,l=(0,f.A)(i,zn),c=t.useContext(Wt),u=(0,e.A)({},i,{disableGutters:c.disableGutters}),d=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,L.A)(r,Bn,n)})(u);return(0,s.jsx)(jn,(0,e.A)({className:(0,O.A)(d.root,a),ownerState:u,ref:o},l))}));Un.muiName="ListItemSecondaryAction";const Gn=Un,Hn=["className"],Vn=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Wn=(0,N.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,e.A)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&{["& > .".concat(Dn.root)]:{paddingRight:48}},{["&.".concat(Fn.focusVisible)]:{backgroundColor:(n.vars||n).palette.action.focus},["&.".concat(Fn.selected)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity),["&.".concat(Fn.focusVisible)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},["&.".concat(Fn.disabled)]:{opacity:(n.vars||n).palette.action.disabledOpacity}},"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Fn.selected,":hover")]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity)}}},r.hasSecondaryAction&&{paddingRight:48})})),Xn=(0,N.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),qn=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiListItem"}),{alignItems:a="center",autoFocus:l=!1,button:c=!1,children:u,className:d,component:h,components:p={},componentsProps:g={},ContainerComponent:m="li",ContainerProps:{className:v}={},dense:y=!1,disabled:b=!1,disableGutters:_=!1,disablePadding:w=!1,divider:x=!1,focusVisibleClassName:A,secondaryAction:E,selected:S=!1,slotProps:C={},slots:M={}}=i,R=(0,f.A)(i.ContainerProps,Hn),T=(0,f.A)(i,Vn),P=t.useContext(Wt),k=t.useMemo((()=>({dense:y||P.dense||!1,alignItems:a,disableGutters:_})),[a,P.dense,y,_]),I=t.useRef(null);(0,Ln.A)((()=>{l&&I.current&&I.current.focus()}),[l]);const N=t.Children.toArray(u),F=N.length&&(0,On.A)(N[N.length-1],["ListItemSecondaryAction"]),D=(0,e.A)({},i,{alignItems:a,autoFocus:l,button:c,dense:k.dense,disabled:b,disableGutters:_,disablePadding:w,divider:x,hasSecondaryAction:F,selected:S}),B=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,L.A)(d,Nn,r)})(D),z=(0,lt.A)(I,o),j=M.root||p.Root||Wn,U=C.root||g.root||{},G=(0,e.A)({className:(0,O.A)(B.root,U.className,d),disabled:b},T);let H=h||"li";return c&&(G.component=h||"div",G.focusVisibleClassName=(0,O.A)(Fn.focusVisible,A),H=In),F?(H=G.component||h?H:"div","li"===m&&("li"===H?H="div":"li"===G.component&&(G.component="div")),(0,s.jsx)(Wt.Provider,{value:k,children:(0,s.jsxs)(Xn,(0,e.A)({as:m,className:(0,O.A)(B.container,v),ref:z,ownerState:D},R,{children:[(0,s.jsx)(j,(0,e.A)({},U,!be(j)&&{as:H,ownerState:(0,e.A)({},D,U.ownerState)},G,{children:N})),N.pop()]}))})):(0,s.jsx)(Wt.Provider,{value:k,children:(0,s.jsxs)(j,(0,e.A)({},U,{as:H,ref:z},!be(j)&&{ownerState:(0,e.A)({},D,U.ownerState)},G,{children:[N,E&&(0,s.jsx)(Gn,{children:E})]}))})})),Kn=qn;var Yn=n(8767),Zn=n(6455),Qn=n(3999),$n=n(2243);const Jn=["onChange","maxRows","minRows","style","value"];function er(e){return parseInt(e,10)||0}const tr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const nr=t.forwardRef((function(n,r){const{onChange:o,maxRows:i,minRows:a=1,style:l,value:c}=n,u=(0,f.A)(n,Jn),{current:d}=t.useRef(null!=c),h=t.useRef(null),p=(0,ye.A)(r,h),g=t.useRef(null),m=t.useCallback((()=>{const e=h.current,t=(0,Pe.A)(e).getComputedStyle(e);if("0px"===t.width)return{outerHeightStyle:0,overflowing:!1};const r=g.current;r.style.width=t.width,r.value=e.value||n.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=t.boxSizing,s=er(t.paddingBottom)+er(t.paddingTop),l=er(t.borderBottomWidth)+er(t.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let d=c;a&&(d=Math.max(Number(a)*u,d)),i&&(d=Math.min(Number(i)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===o?s+l:0),overflowing:Math.abs(d-c)<=1}}),[i,a,n.placeholder]),v=t.useCallback((()=>{const e=m();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=h.current;n.style.height="".concat(e.outerHeightStyle,"px"),n.style.overflow=e.overflowing?"hidden":""}),[m]);(0,Ve.A)((()=>{const e=()=>{v()};let t;const n=(0,$n.A)(e),r=h.current,o=(0,Pe.A)(r);let i;return o.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",n),i&&i.disconnect()}}),[m,v]),(0,Ve.A)((()=>{v()}));return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)("textarea",(0,e.A)({value:c,onChange:e=>{d||v(),o&&o(e)},ref:p,rows:a,style:l},u)),(0,s.jsx)("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:g,tabIndex:-1,style:(0,e.A)({},tr,l,{paddingTop:0,paddingBottom:0})})]})}));function rr(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const or=t.createContext(void 0);function ir(){return t.useContext(or)}function sr(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ar(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(sr(e.value)&&""!==e.value||t&&sr(e.defaultValue)&&""!==e.defaultValue)}function lr(e){return(0,z.Ay)("MuiInputBase",e)}const cr=(0,B.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ur=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],dr=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,ne.A)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},hr=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},pr=(0,N.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:dr})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(cr.disabled)]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},r.multiline&&(0,e.A)({padding:"4px 0 5px"},"small"===r.size&&{paddingTop:1}),r.fullWidth&&{width:"100%"})})),fr=(0,N.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hr})((t=>{let{theme:n,ownerState:r}=t;const o="light"===n.palette.mode,i=(0,e.A)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),s={opacity:"0 !important"},a=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return(0,e.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(cr.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(cr.disabled)]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),gr=(0,s.jsx)(u,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mr=t.forwardRef((function(n,o){var i;const a=(0,r.A)({props:n,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:c,autoFocus:u,className:d,components:h={},componentsProps:p={},defaultValue:g,disabled:m,disableInjectingGlobalStyles:v,endAdornment:y,fullWidth:b=!1,id:_,inputComponent:w="input",inputProps:x={},inputRef:A,maxRows:E,minRows:S,multiline:C=!1,name:M,onBlur:R,onChange:T,onClick:P,onFocus:k,onKeyDown:I,onKeyUp:N,placeholder:F,readOnly:D,renderSuffix:B,rows:z,slotProps:j={},slots:U={},startAdornment:G,type:H="text",value:V}=a,W=(0,f.A)(a,ur),X=null!=x.value?x.value:V,{current:q}=t.useRef(null!=X),K=t.useRef(),Y=t.useCallback((e=>{0}),[]),Z=(0,lt.A)(K,A,x.ref,Y),[Q,$]=t.useState(!1),J=ir();const ee=rr({props:a,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ee.focused=J?J.focused:Q,t.useEffect((()=>{!J&&m&&Q&&($(!1),R&&R())}),[J,m,Q,R]);const te=J&&J.onFilled,re=J&&J.onEmpty,oe=t.useCallback((e=>{ar(e)?te&&te():re&&re()}),[te,re]);(0,Ln.A)((()=>{q&&oe({value:X})}),[X,oe,q]);t.useEffect((()=>{oe(K.current)}),[]);let ie=w,se=x;C&&"input"===ie&&(se=z?(0,e.A)({type:void 0,minRows:z,maxRows:z},se):(0,e.A)({type:void 0,maxRows:E,minRows:S},se),ie=nr);t.useEffect((()=>{J&&J.setAdornedStart(Boolean(G))}),[J,G]);const ae=(0,e.A)({},a,{color:ee.color||"primary",disabled:ee.disabled,endAdornment:y,error:ee.error,focused:ee.focused,formControl:J,fullWidth:b,hiddenLabel:ee.hiddenLabel,multiline:C,size:ee.size,startAdornment:G,type:H}),le=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,g={root:["root","color".concat((0,ne.A)(n)),r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,ne.A)(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,L.A)(g,lr,t)})(ae),ce=U.root||h.Root||pr,ue=j.root||p.root||{},de=U.input||h.Input||fr;return se=(0,e.A)({},se,null!=(i=j.input)?i:p.input),(0,s.jsxs)(t.Fragment,{children:[!v&&gr,(0,s.jsxs)(ce,(0,e.A)({},ue,!be(ce)&&{ownerState:(0,e.A)({},ae,ue.ownerState)},{ref:o,onClick:e=>{K.current&&e.currentTarget===e.target&&K.current.focus(),P&&P(e)}},W,{className:(0,O.A)(le.root,ue.className,d,D&&"MuiInputBase-readOnly"),children:[G,(0,s.jsx)(or.Provider,{value:null,children:(0,s.jsx)(de,(0,e.A)({ownerState:ae,"aria-invalid":ee.error,"aria-describedby":l,autoComplete:c,autoFocus:u,defaultValue:g,disabled:ee.disabled,id:_,onAnimationStart:e=>{oe("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:M,placeholder:F,readOnly:D,required:ee.required,rows:z,value:X,onKeyDown:I,onKeyUp:N,type:H},se,!be(de)&&{as:ie,ownerState:(0,e.A)({},ae,se.ownerState)},{ref:Z,className:(0,O.A)(le.input,se.className,D&&"MuiInputBase-readOnly"),onBlur:e=>{R&&R(e),x.onBlur&&x.onBlur(e),J&&J.onBlur?J.onBlur(e):$(!1)},onChange:function(e){if(!q){const t=e.target||K.current;if(null==t)throw new Error((0,Qn.A)(1));oe({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];x.onChange&&x.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{ee.disabled?e.stopPropagation():(k&&k(e),x.onFocus&&x.onFocus(e),J&&J.onFocus?J.onFocus(e):$(!0))}}))}),y,B?B((0,e.A)({},ee,{startAdornment:G})):null]}))]})})),vr=mr;function yr(e){return(0,z.Ay)("MuiInput",e)}const br=(0,e.A)({},cr,(0,B.A)("MuiInput",["root","underline","input"])),_r=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],wr=(0,N.Ay)(pr,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...dr(e,t),!n.disableUnderline&&t.underline]}})((t=>{let{theme:n,ownerState:r}=t;let o="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(o="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,e.A)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(br.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(br.error)]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(br.disabled,", .").concat(br.error,"):before")]:{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(o)}},["&.".concat(br.disabled,":before")]:{borderBottomStyle:"dotted"}})})),xr=(0,N.Ay)(fr,{name:"MuiInput",slot:"Input",overridesResolver:hr})({}),Ar=t.forwardRef((function(t,n){var o,i,a,l;const c=(0,r.A)({props:t,name:"MuiInput"}),{disableUnderline:u,components:d={},componentsProps:h,fullWidth:p=!1,inputComponent:g="input",multiline:m=!1,slotProps:v,slots:y={},type:b="text"}=c,_=(0,f.A)(c,_r),w=(t=>{const{classes:n,disableUnderline:r}=t,o={root:["root",!r&&"underline"],input:["input"]},i=(0,L.A)(o,yr,n);return(0,e.A)({},n,i)})(c),x={root:{ownerState:{disableUnderline:u}}},A=(null!=v?v:h)?(0,Zn.A)(null!=v?v:h,x):x,E=null!=(o=null!=(i=y.root)?i:d.Root)?o:wr,S=null!=(a=null!=(l=y.input)?l:d.Input)?a:xr;return(0,s.jsx)(vr,(0,e.A)({slots:{root:E,input:S},slotProps:A,fullWidth:p,inputComponent:g,multiline:m,ref:n,type:b},_,{classes:w}))}));Ar.muiName="Input";const Er=Ar;function Sr(e){return(0,z.Ay)("MuiFilledInput",e)}const Cr=(0,e.A)({},cr,(0,B.A)("MuiFilledInput",["root","underline","input"])),Mr=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Rr=(0,N.Ay)(pr,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...dr(e,t),!n.disableUnderline&&t.underline]}})((t=>{let{theme:n,ownerState:r}=t;var o;const i="light"===n.palette.mode,s=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,e.A)({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a}},["&.".concat(Cr.focused)]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:a},["&.".concat(Cr.disabled)]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:c}},!r.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(o=(n.vars||n).palette[r.color||"primary"])?void 0:o.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Cr.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Cr.error)]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Cr.disabled,", .").concat(Cr.error,"):before")]:{borderBottom:"1px solid ".concat((n.vars||n).palette.text.primary)},["&.".concat(Cr.disabled,":before")]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&(0,e.A)({padding:"25px 12px 8px"},"small"===r.size&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&"small"===r.size&&{paddingTop:8,paddingBottom:9}))})),Tr=(0,N.Ay)(fr,{name:"MuiFilledInput",slot:"Input",overridesResolver:hr})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===n.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===n.palette.mode?null:"#fff",caretColor:"light"===n.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===r.size&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&"small"===r.size&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Pr=t.forwardRef((function(t,n){var o,i,a,l;const c=(0,r.A)({props:t,name:"MuiFilledInput"}),{components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:g=!1,slotProps:m,slots:v={},type:y="text"}=c,b=(0,f.A)(c,Mr),_=(0,e.A)({},c,{fullWidth:h,inputComponent:p,multiline:g,type:y}),w=(t=>{const{classes:n,disableUnderline:r}=t,o={root:["root",!r&&"underline"],input:["input"]},i=(0,L.A)(o,Sr,n);return(0,e.A)({},n,i)})(c),x={root:{ownerState:_},input:{ownerState:_}},A=(null!=m?m:d)?(0,Zn.A)(x,null!=m?m:d):x,E=null!=(o=null!=(i=v.root)?i:u.Root)?o:Rr,S=null!=(a=null!=(l=v.input)?l:u.Input)?a:Tr;return(0,s.jsx)(vr,(0,e.A)({slots:{root:E,input:S},componentsProps:A,fullWidth:h,inputComponent:p,multiline:g,ref:n,type:y},b,{classes:w}))}));Pr.muiName="Input";const kr=Pr;var Ir;const Or=["children","classes","className","label","notched"],Lr=(0,N.Ay)("fieldset",{shouldForwardProp:Pt.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Nr=(0,N.Ay)("legend",{shouldForwardProp:Pt.A})((t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},n.withLabel&&(0,e.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}))}));function Fr(e){return(0,z.Ay)("MuiOutlinedInput",e)}const Dr=(0,e.A)({},cr,(0,B.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Br=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],zr=(0,N.Ay)(pr,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:dr})((t=>{let{theme:n,ownerState:r}=t;const o="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,e.A)({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,["&:hover .".concat(Dr.notchedOutline)]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(Dr.notchedOutline)]:{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):o}},["&.".concat(Dr.focused," .").concat(Dr.notchedOutline)]:{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2},["&.".concat(Dr.error," .").concat(Dr.notchedOutline)]:{borderColor:(n.vars||n).palette.error.main},["&.".concat(Dr.disabled," .").concat(Dr.notchedOutline)]:{borderColor:(n.vars||n).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,e.A)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),jr=(0,N.Ay)((function(t){const{className:n,label:r,notched:o}=t,i=(0,f.A)(t,Or),a=null!=r&&""!==r,l=(0,e.A)({},t,{notched:o,withLabel:a});return(0,s.jsx)(Lr,(0,e.A)({"aria-hidden":!0,className:n,ownerState:l},i,{children:(0,s.jsx)(Nr,{ownerState:l,children:a?(0,s.jsx)("span",{children:r}):Ir||(Ir=(0,s.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Ur=(0,N.Ay)(fr,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hr})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===n.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===n.palette.mode?null:"#fff",caretColor:"light"===n.palette.mode?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===r.size&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})})),Gr=t.forwardRef((function(n,o){var i,a,l,c,u;const d=(0,r.A)({props:n,name:"MuiOutlinedInput"}),{components:h={},fullWidth:p=!1,inputComponent:g="input",label:m,multiline:v=!1,notched:y,slots:b={},type:_="text"}=d,w=(0,f.A)(d,Br),x=(t=>{const{classes:n}=t,r=(0,L.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Fr,n);return(0,e.A)({},n,r)})(d),A=ir(),E=rr({props:d,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=(0,e.A)({},d,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:A,fullWidth:p,hiddenLabel:E.hiddenLabel,multiline:v,size:E.size,type:_}),C=null!=(i=null!=(a=b.root)?a:h.Root)?i:zr,M=null!=(l=null!=(c=b.input)?c:h.Input)?l:Ur;return(0,s.jsx)(vr,(0,e.A)({slots:{root:C,input:M},renderSuffix:e=>(0,s.jsx)(jr,{ownerState:S,className:x.notchedOutline,label:null!=m&&""!==m&&E.required?u||(u=(0,s.jsxs)(t.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:p,inputComponent:g,multiline:v,ref:o,type:_},w,{classes:(0,e.A)({},x,{notchedOutline:null})}))}));Gr.muiName="Input";const Hr=Gr;function Vr(e){return(0,z.Ay)("MuiFormLabel",e)}const Wr=(0,B.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xr=["children","className","color","component","disabled","error","filled","focused","required"],qr=(0,N.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,n)=>{let{ownerState:r}=t;return(0,e.A)({},n.root,"secondary"===r.color&&n.colorSecondary,r.filled&&n.filled)}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Wr.focused)]:{color:(n.vars||n).palette[r.color].main},["&.".concat(Wr.disabled)]:{color:(n.vars||n).palette.text.disabled},["&.".concat(Wr.error)]:{color:(n.vars||n).palette.error.main}})})),Kr=(0,N.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(Wr.error)]:{color:(t.vars||t).palette.error.main}}})),Yr=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiFormLabel"}),{children:i,className:a,component:l="label"}=o,c=(0,f.A)(o,Xr),u=rr({props:o,muiFormControl:ir(),states:["color","required","focused","disabled","error","filled"]}),d=(0,e.A)({},o,{color:u.color||"primary",component:l,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,l={root:["root","color".concat((0,ne.A)(n)),o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return(0,L.A)(l,Vr,t)})(d);return(0,s.jsxs)(qr,(0,e.A)({as:l,ownerState:d,className:(0,O.A)(h.root,a),ref:n},c,{children:[i,u.required&&(0,s.jsxs)(Kr,{ownerState:d,"aria-hidden":!0,className:h.asterisk,children:["\u2009","*"]})]}))})),Zr=Yr;function Qr(e){return(0,z.Ay)("MuiInputLabel",e)}(0,B.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const $r=["disableAnimation","margin","shrink","variant","className"],Jr=(0,N.Ay)(Zr,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Wr.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===r.size&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},"filled"===r.variant&&(0,e.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&(0,e.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===r.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===r.variant&&(0,e.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),eo=t.forwardRef((function(t,n){const o=(0,r.A)({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:a,className:l}=o,c=(0,f.A)(o,$r),u=ir();let d=a;"undefined"===typeof d&&u&&(d=u.filled||u.focused||u.adornedStart);const h=rr({props:o,muiFormControl:u,states:["size","variant","required","focused"]}),p=(0,e.A)({},o,{disableAnimation:i,formControl:u,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused}),g=(t=>{const{classes:n,formControl:r,size:o,shrink:i,disableAnimation:s,variant:a,required:l}=t,c={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",o&&"normal"!==o&&"size".concat((0,ne.A)(o)),a],asterisk:[l&&"asterisk"]},u=(0,L.A)(c,Qr,n);return(0,e.A)({},n,u)})(p);return(0,s.jsx)(Jr,(0,e.A)({"data-shrink":d,ownerState:p,ref:n,className:(0,O.A)(g.root,l)},c,{classes:g}))})),to=eo;function no(e){return(0,z.Ay)("MuiFormControl",e)}(0,B.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ro=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],oo=(0,N.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,n)=>{let{ownerState:r}=t;return(0,e.A)({},n.root,n["margin".concat((0,ne.A)(r.margin))],r.fullWidth&&n.fullWidth)}})((t=>{let{ownerState:n}=t;return(0,e.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===n.margin&&{marginTop:16,marginBottom:8},"dense"===n.margin&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})})),io=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiFormControl"}),{children:a,className:l,color:c="primary",component:u="div",disabled:d=!1,error:h=!1,focused:p,fullWidth:g=!1,hiddenLabel:m=!1,margin:v="none",required:y=!1,size:b="medium",variant:_="outlined"}=i,w=(0,f.A)(i,ro),x=(0,e.A)({},i,{color:c,component:u,disabled:d,error:h,fullWidth:g,hiddenLabel:m,margin:v,required:y,size:b,variant:_}),A=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&"margin".concat((0,ne.A)(n)),r&&"fullWidth"]};return(0,L.A)(o,no,t)})(x),[E,S]=t.useState((()=>{let e=!1;return a&&t.Children.forEach(a,(t=>{if(!(0,On.A)(t,["Input","Select"]))return;const n=(0,On.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[C,M]=t.useState((()=>{let e=!1;return a&&t.Children.forEach(a,(t=>{(0,On.A)(t,["Input","Select"])&&(ar(t.props,!0)||ar(t.props.inputProps,!0))&&(e=!0)})),e})),[R,T]=t.useState(!1);d&&R&&T(!1);const P=void 0===p||d?R:p;let k;const I=t.useMemo((()=>({adornedStart:E,setAdornedStart:S,color:c,disabled:d,error:h,filled:C,focused:P,fullWidth:g,hiddenLabel:m,size:b,onBlur:()=>{T(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{T(!0)},registerEffect:k,required:y,variant:_})),[E,c,d,h,C,P,g,m,k,y,b,_]);return(0,s.jsx)(or.Provider,{value:I,children:(0,s.jsx)(oo,(0,e.A)({as:u,ownerState:x,className:(0,O.A)(A.root,l),ref:o},w,{children:a}))})})),so=io;function ao(e){return(0,z.Ay)("MuiFormHelperText",e)}const lo=(0,B.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var co;const uo=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ho=(0,N.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,ne.A)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(lo.disabled)]:{color:(n.vars||n).palette.text.disabled},["&.".concat(lo.error)]:{color:(n.vars||n).palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),po=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiFormHelperText"}),{children:i,className:a,component:l="p"}=o,c=(0,f.A)(o,uo),u=rr({props:o,muiFormControl:ir(),states:["variant","size","disabled","error","filled","focused","required"]}),d=(0,e.A)({},o,{component:l,contained:"filled"===u.variant||"outlined"===u.variant,variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e,c={root:["root",o&&"disabled",i&&"error",r&&"size".concat((0,ne.A)(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,L.A)(c,ao,t)})(d);return(0,s.jsx)(ho,(0,e.A)({as:l,ownerState:d,className:(0,O.A)(h.root,a),ref:n},c,{children:" "===i?co||(co=(0,s.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))})),fo=po;n(6429);var go=n(7402);const mo=ke,vo=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function yo(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bo(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function _o(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function wo(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&_o(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const xo=t.forwardRef((function(n,r){const{actions:o,autoFocus:i=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=n,g=(0,f.A)(n,vo),m=t.useRef(null),v=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Ln.A)((()=>{i&&m.current.focus()}),[i]),t.useImperativeHandle(o,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(mo((0,go.A)(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}})),[]);const y=(0,lt.A)(m,r);let b=-1;t.Children.forEach(l,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===b)&&(b=n),b===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(b+=1,b>=l.length&&(b=-1))):b===n&&(b+=1,b>=l.length&&(b=-1))}));const _=t.Children.map(l,((e,n)=>{if(n===b){const n={};return a&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,s.jsx)(Zt,(0,e.A)({role:"menu",ref:y,className:c,onKeyDown:e=>{const t=m.current,n=e.key,r=(0,go.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),wo(t,r,d,u,yo);else if("ArrowUp"===n)e.preventDefault(),wo(t,r,d,u,bo);else if("Home"===n)e.preventDefault(),wo(t,null,d,u,yo);else if("End"===n)e.preventDefault(),wo(t,null,d,u,bo);else if(1===n.length){const o=v.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&_o(r,o);o.previousKeyMatched&&(a||wo(t,r,!1,u,yo,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:i?0:-1},g,{children:_}))})),Ao=xo,Eo=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function So(e){return"scale(".concat(e,", ").concat(e**2,")")}const Co={entering:{opacity:1,transform:So(1)},entered:{opacity:1,transform:"none"}},Mo="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ro=t.forwardRef((function(n,r){const{addEndListener:o,appear:i=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:v,timeout:y="auto",TransitionComponent:b=ot}=n,_=(0,f.A)(n,Eo),w=(0,ln.A)(),x=t.useRef(),A=it(),E=t.useRef(null),S=(0,lt.A)(E,a.ref,r),C=e=>t=>{if(e){const n=E.current;void 0===t?e(n):e(n,t)}},M=C(h),R=C(((e,t)=>{st(e);const{duration:n,delay:r,easing:o}=at({style:v,timeout:y,easing:l},{mode:"enter"});let i;"auto"===y?(i=A.transitions.getAutoHeightDuration(e.clientHeight),x.current=i):i=n,e.style.transition=[A.transitions.create("opacity",{duration:i,delay:r}),A.transitions.create("transform",{duration:Mo?i:.666*i,delay:r,easing:o})].join(","),u&&u(e,t)})),T=C(d),P=C(m),k=C((e=>{const{duration:t,delay:n,easing:r}=at({style:v,timeout:y,easing:l},{mode:"exit"});let o;"auto"===y?(o=A.transitions.getAutoHeightDuration(e.clientHeight),x.current=o):o=t,e.style.transition=[A.transitions.create("opacity",{duration:o,delay:n}),A.transitions.create("transform",{duration:Mo?o:.666*o,delay:Mo?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=So(.75),p&&p(e)})),I=C(g);return(0,s.jsx)(b,(0,e.A)({appear:i,in:c,nodeRef:E,onEnter:R,onEntered:T,onEntering:M,onExit:k,onExited:I,onExiting:P,addEndListener:e=>{"auto"===y&&w.start(x.current||0,e),o&&o(E.current,e)},timeout:"auto"===y?null:y},_,{children:(n,r)=>t.cloneElement(a,(0,e.A)({style:(0,e.A)({opacity:0,transform:So(.75),visibility:"exited"!==n||c?void 0:"hidden"},Co[n],v,a.props.style),ref:S},r))}))}));Ro.muiSupportAuto=!0;const To=Ro;function Po(e){return(0,z.Ay)("MuiPopover",e)}(0,B.A)("MuiPopover",["root","paper"]);const ko=["onEntering"],Io=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Oo=["slotProps"];function Lo(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function No(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Fo(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function Do(e){return"function"===typeof e?e():e}const Bo=(0,N.Ay)(At,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zo=(0,N.Ay)(V,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jo=t.forwardRef((function(n,o){var i,a,l;const c=(0,r.A)({props:n,name:"MuiPopover"}),{action:u,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:p,anchorReference:g="anchorEl",children:m,className:v,container:y,elevation:b=8,marginThreshold:_=16,open:w,PaperProps:x={},slots:A,slotProps:E,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:C=To,transitionDuration:M="auto",TransitionProps:{onEntering:R}={},disableScrollLock:T=!1}=c,P=(0,f.A)(c.TransitionProps,ko),k=(0,f.A)(c,Io),I=null!=(i=null==E?void 0:E.paper)?i:x,N=t.useRef(),F=(0,lt.A)(N,I.ref),D=(0,e.A)({},c,{anchorOrigin:h,anchorReference:g,elevation:b,marginThreshold:_,externalPaperSlotProps:I,transformOrigin:S,TransitionComponent:C,transitionDuration:M,TransitionProps:P}),B=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"],paper:["paper"]},Po,t)})(D),z=t.useCallback((()=>{if("anchorPosition"===g)return p;const e=Do(d),t=(e&&1===e.nodeType?e:(0,go.A)(N.current).body).getBoundingClientRect();return{top:t.top+Lo(t,h.vertical),left:t.left+No(t,h.horizontal)}}),[d,h.horizontal,h.vertical,p,g]),j=t.useCallback((e=>({vertical:Lo(e,S.vertical),horizontal:No(e,S.horizontal)})),[S.horizontal,S.vertical]),U=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===g)return{top:null,left:null,transformOrigin:Fo(n)};const r=z();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,l=(0,St.A)(Do(d)),c=l.innerHeight-_,u=l.innerWidth-_;if(null!==_&&o<_){const e=o-_;o-=e,n.vertical+=e}else if(null!==_&&s>c){const e=s-c;o-=e,n.vertical+=e}if(null!==_&&i<_){const e=i-_;i-=e,n.horizontal+=e}else if(a>u){const e=a-u;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Fo(n)}}),[d,g,z,j,_]),[G,H]=t.useState(w),V=t.useCallback((()=>{const e=N.current;if(!e)return;const t=U(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,H(!0)}),[U]);t.useEffect((()=>(T&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V))),[d,T,V]);t.useEffect((()=>{w&&V()})),t.useImperativeHandle(u,(()=>w?{updatePosition:()=>{V()}}:null),[w,V]),t.useEffect((()=>{if(!w)return;const e=(0,Et.A)((()=>{V()})),t=(0,St.A)(d);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[d,w,V]);let W=M;"auto"!==M||C.muiSupportAuto||(W=void 0);const X=y||(d?(0,go.A)(Do(d)).body:void 0),q=null!=(a=null==A?void 0:A.root)?a:Bo,K=null!=(l=null==A?void 0:A.paper)?l:zo,Y=Ce({elementType:K,externalSlotProps:(0,e.A)({},I,{style:G?I.style:(0,e.A)({},I.style,{opacity:0})}),additionalProps:{elevation:b,ref:F},ownerState:D,className:(0,O.A)(B.paper,null==I?void 0:I.className)}),Z=Ce({elementType:q,externalSlotProps:(null==E?void 0:E.root)||{},externalForwardedProps:k,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:X,open:w},ownerState:D,className:(0,O.A)(B.root,v)}),{slotProps:Q}=Z,$=(0,f.A)(Z,Oo);return(0,s.jsx)(q,(0,e.A)({},$,!be(q)&&{slotProps:Q,disableScrollLock:T},{children:(0,s.jsx)(C,(0,e.A)({appear:!0,in:w,onEntering:(e,t)=>{R&&R(e,t),V()},onExited:()=>{H(!1)},timeout:W},P,{children:(0,s.jsx)(K,(0,e.A)({},Y,{children:m}))}))}))})),Uo=jo;function Go(e){return(0,z.Ay)("MuiMenu",e)}(0,B.A)("MuiMenu",["root","paper","list"]);const Ho=["onEntering"],Vo=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Wo={vertical:"top",horizontal:"right"},Xo={vertical:"top",horizontal:"left"},qo=(0,N.Ay)(Uo,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ko=(0,N.Ay)(zo,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Yo=(0,N.Ay)(Ao,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Zo=t.forwardRef((function(n,o){var i,a;const l=(0,r.A)({props:n,name:"MuiMenu"}),{autoFocus:c=!0,children:u,className:d,disableAutoFocusItem:h=!1,MenuListProps:p={},onClose:g,open:m,PaperProps:v={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:_}={},variant:w="selectedMenu",slots:x={},slotProps:E={}}=l,S=(0,f.A)(l.TransitionProps,Ho),C=(0,f.A)(l,Vo),M=A(),R=(0,e.A)({},l,{autoFocus:c,disableAutoFocusItem:h,MenuListProps:p,onEntering:_,PaperProps:v,transitionDuration:b,TransitionProps:S,variant:w}),T=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"],paper:["paper"],list:["list"]},Go,t)})(R),P=c&&!h&&m,k=t.useRef(null);let I=-1;t.Children.map(u,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===I)&&(I=n))}));const N=null!=(i=x.paper)?i:Ko,F=null!=(a=E.paper)?a:v,D=Ce({elementType:x.root,externalSlotProps:E.root,ownerState:R,className:[T.root,d]}),B=Ce({elementType:N,externalSlotProps:F,ownerState:R,className:T.paper});return(0,s.jsx)(qo,(0,e.A)({onClose:g,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Wo:Xo,slots:{paper:N,root:x.root},slotProps:{root:D,paper:B},open:m,ref:o,transitionDuration:b,TransitionProps:(0,e.A)({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:M?"rtl":"ltr"}),_&&_(e,t)}},S),ownerState:R},C,{classes:y,children:(0,s.jsx)(Yo,(0,e.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),g&&g(e,"tabKeyDown"))},actions:k,autoFocus:c&&(-1===I||h),autoFocusItem:P,variant:w},p,{className:(0,O.A)(T.list,p.className),children:u}))}))})),Qo=Zo;function $o(e){return(0,z.Ay)("MuiNativeSelect",e)}const Jo=(0,B.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ei=["className","disabled","error","IconComponent","inputRef","variant"],ti=t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,e.A)({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(Jo.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},ni=(0,N.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Pt.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(Jo.multiple)]:t.multiple}]}})(ti),ri=t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,["&.".concat(Jo.disabled)]:{color:(r.vars||r).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},"filled"===n.variant&&{right:7},"outlined"===n.variant&&{right:7})},oi=(0,N.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,ne.A)(n.variant))],n.open&&t.iconOpen]}})(ri),ii=t.forwardRef((function(n,r){const{className:o,disabled:i,error:a,IconComponent:l,inputRef:c,variant:u="standard"}=n,d=(0,f.A)(n,ei),h=(0,e.A)({},n,{disabled:i,variant:u,error:a}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,ne.A)(n)),i&&"iconOpen",r&&"disabled"]};return(0,L.A)(a,$o,t)})(h);return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(ni,(0,e.A)({ownerState:h,className:(0,O.A)(p.select,o),disabled:i,ref:c||r},d)),n.multiple?null:(0,s.jsx)(oi,{as:l,ownerState:h,className:p.icon})]})})),si=ii;var ai=n(1960),li=n(8733);function ci(e){return(0,z.Ay)("MuiSelect",e)}const ui=(0,B.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var di;const hi=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],pi=(0,N.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(ui.select)]:t.select},{["&.".concat(ui.select)]:t[n.variant]},{["&.".concat(ui.error)]:t.error},{["&.".concat(ui.multiple)]:t.multiple}]}})(ti,{["&.".concat(ui.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fi=(0,N.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,ne.A)(n.variant))],n.open&&t.iconOpen]}})(ri),gi=(0,N.Ay)("input",{shouldForwardProp:e=>(0,ai.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function mi(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function vi(e){return null==e||"string"===typeof e&&!e.trim()}const yi=t.forwardRef((function(n,r){var o;const{"aria-describedby":i,"aria-label":a,autoFocus:l,autoWidth:c,children:u,className:d,defaultOpen:h,defaultValue:p,disabled:g,displayEmpty:m,error:v=!1,IconComponent:y,inputRef:b,labelId:_,MenuProps:w={},multiple:x,name:A,onBlur:E,onChange:S,onClose:C,onFocus:M,onOpen:R,open:T,readOnly:P,renderValue:k,SelectDisplayProps:I={},tabIndex:N,value:F,variant:D="standard"}=n,B=(0,f.A)(n,hi),[z,j]=(0,li.A)({controlled:F,default:p,name:"Select"}),[U,G]=(0,li.A)({controlled:T,default:h,name:"Select"}),H=t.useRef(null),V=t.useRef(null),[W,X]=t.useState(null),{current:q}=t.useRef(null!=T),[K,Y]=t.useState(),Z=(0,lt.A)(r,b),Q=t.useCallback((e=>{V.current=e,e&&X(e)}),[]),$=null==W?void 0:W.parentNode;t.useImperativeHandle(Z,(()=>({focus:()=>{V.current.focus()},node:H.current,value:z})),[z]),t.useEffect((()=>{h&&U&&W&&!q&&(Y(c?null:$.clientWidth),V.current.focus())}),[W,c]),t.useEffect((()=>{l&&V.current.focus()}),[l]),t.useEffect((()=>{if(!_)return;const e=(0,go.A)(V.current).getElementById(_);if(e){const t=()=>{getSelection().isCollapsed&&V.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[_]);const J=(e,t)=>{e?R&&R(t):C&&C(t),q||(Y(c?null:$.clientWidth),G(e))},ee=t.Children.toArray(u),te=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(z)?z.slice():[];const t=z.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(j(n),S)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:A}}),S(o,e)}x||J(!1,t)}},re=null!==W&&U;let oe,ie;delete B["aria-invalid"];const se=[];let ae=!1,le=!1;(ar({value:z})||m)&&(k?oe=k(z):ae=!0);const ce=ee.map((e=>{if(!t.isValidElement(e))return null;let n;if(x){if(!Array.isArray(z))throw new Error((0,Qn.A)(2));n=z.some((t=>mi(t,e.props.value))),n&&ae&&se.push(e.props.children)}else n=mi(z,e.props.value),n&&ae&&(ie=e.props.children);return n&&(le=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:te(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ae&&(oe=x?0===se.length?null:se.reduce(((e,t,n)=>(e.push(t),n<se.length-1&&e.push(", "),e)),[]):ie);let ue,de=K;!c&&q&&W&&(de=$.clientWidth),ue="undefined"!==typeof N?N:g?null:0;const he=I.id||(A?"mui-component-select-".concat(A):void 0),pe=(0,e.A)({},n,{variant:D,value:z,open:re,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon","icon".concat((0,ne.A)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,L.A)(a,ci,t)})(pe),ge=(0,e.A)({},w.PaperProps,null==(o=w.slotProps)?void 0:o.paper),me=(0,Yn.A)();return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(pi,(0,e.A)({ref:Q,tabIndex:ue,role:"combobox","aria-controls":me,"aria-disabled":g?"true":void 0,"aria-expanded":re?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[_,he].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),J(!0,e))}},onMouseDown:g||P?null:e=>{0===e.button&&(e.preventDefault(),V.current.focus(),J(!0,e))},onBlur:e=>{!re&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:A}}),E(e))},onFocus:M},I,{ownerState:pe,className:(0,O.A)(I.className,fe.select,d),id:he,children:vi(oe)?di||(di=(0,s.jsx)("span",{className:"notranslate",children:"\u200b"})):oe})),(0,s.jsx)(gi,(0,e.A)({"aria-invalid":v,value:Array.isArray(z)?z.join(","):z,name:A,ref:H,"aria-hidden":!0,onChange:e=>{const t=ee.find((t=>t.props.value===e.target.value));void 0!==t&&(j(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:g,className:fe.nativeInput,autoFocus:l,ownerState:pe},B)),(0,s.jsx)(fi,{as:y,className:fe.icon,ownerState:pe}),(0,s.jsx)(Qo,(0,e.A)({id:"menu-".concat(A||""),anchorEl:$,open:re,onClose:e=>{J(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,e.A)({"aria-labelledby":_,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:me},w.MenuListProps),slotProps:(0,e.A)({},w.slotProps,{paper:(0,e.A)({},ge,{style:(0,e.A)({minWidth:de},null!=ge?ge.style:null)})}),children:ce}))]})})),bi=yi;var _i=n(3235);const wi=(0,_i.A)((0,s.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),xi=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ai=["root"],Ei={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,Pt.A)(e)&&"variant"!==e,slot:"Root"},Si=(0,N.Ay)(Er,Ei)(""),Ci=(0,N.Ay)(Hr,Ei)(""),Mi=(0,N.Ay)(kr,Ei)(""),Ri=t.forwardRef((function(n,o){const i=(0,r.A)({name:"MuiSelect",props:n}),{autoWidth:a=!1,children:l,classes:c={},className:u,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:p=wi,id:g,input:m,inputProps:v,label:y,labelId:b,MenuProps:_,multiple:w=!1,native:x=!1,onClose:A,onOpen:E,open:S,renderValue:C,SelectDisplayProps:M,variant:R="outlined"}=i,T=(0,f.A)(i,xi),P=x?si:bi,k=rr({props:i,muiFormControl:ir(),states:["variant","error"]}),I=k.variant||R,L=(0,e.A)({},i,{variant:I,classes:c}),N=(e=>{const{classes:t}=e;return t})(L),F=(0,f.A)(N,Ai),D=m||{standard:(0,s.jsx)(Si,{ownerState:L}),outlined:(0,s.jsx)(Ci,{label:y,ownerState:L}),filled:(0,s.jsx)(Mi,{ownerState:L})}[I],B=(0,lt.A)(o,D.ref);return(0,s.jsx)(t.Fragment,{children:t.cloneElement(D,(0,e.A)({inputComponent:P,inputProps:(0,e.A)({children:l,error:k.error,IconComponent:p,variant:I,type:void 0,multiple:w},x?{id:g}:{autoWidth:a,defaultOpen:d,displayEmpty:h,labelId:b,MenuProps:_,onClose:A,onOpen:E,open:S,renderValue:C,SelectDisplayProps:(0,e.A)({id:g},M)},v,{classes:v?(0,Zn.A)(F,v.classes):F},m?m.props.inputProps:{})},(w&&x||h)&&"outlined"===I?{notched:!0}:{},{ref:B,className:(0,O.A)(D.props.className,u,N.root)},!m&&{variant:I},T))})}));Ri.muiName="Select";const Ti=Ri;function Pi(e){return(0,z.Ay)("MuiTextField",e)}(0,B.A)("MuiTextField",["root"]);const ki=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Ii={standard:Er,filled:kr,outlined:Hr},Oi=(0,N.Ay)(so,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Li=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:l,className:c,color:u="primary",defaultValue:d,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:v,id:y,InputLabelProps:b,inputProps:_,InputProps:w,inputRef:x,label:A,maxRows:E,minRows:S,multiline:C=!1,name:M,onBlur:R,onChange:T,onFocus:P,placeholder:k,required:I=!1,rows:N,select:F=!1,SelectProps:D,type:B,value:z,variant:j="outlined"}=o,U=(0,f.A)(o,ki),G=(0,e.A)({},o,{autoFocus:a,color:u,disabled:h,error:p,fullWidth:m,multiline:C,required:I,select:F,variant:j}),H=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"]},Pi,t)})(G);const V={};"outlined"===j&&(b&&"undefined"!==typeof b.shrink&&(V.notched=b.shrink),V.label=A),F&&(D&&D.native||(V.id=void 0),V["aria-describedby"]=void 0);const W=(0,Yn.A)(y),X=v&&W?"".concat(W,"-helper-text"):void 0,q=A&&W?"".concat(W,"-label"):void 0,K=Ii[j],Y=(0,s.jsx)(K,(0,e.A)({"aria-describedby":X,autoComplete:i,autoFocus:a,defaultValue:d,fullWidth:m,multiline:C,name:M,rows:N,maxRows:E,minRows:S,type:B,value:z,id:W,inputRef:x,onBlur:R,onChange:T,onFocus:P,placeholder:k,inputProps:_},V,w));return(0,s.jsxs)(Oi,(0,e.A)({className:(0,O.A)(H.root,c),disabled:h,error:p,fullWidth:m,ref:n,required:I,color:u,variant:j,ownerState:G},U,{children:[null!=A&&""!==A&&(0,s.jsx)(to,(0,e.A)({htmlFor:W,id:q},b,{children:A})),F?(0,s.jsx)(Ti,(0,e.A)({"aria-describedby":X,id:W,labelId:q,value:z,input:Y},D,{children:l})):Y,v&&(0,s.jsx)(fo,(0,e.A)({id:X},g,{children:v}))]}))})),Ni=Li;var Fi=n(2860);const Di=["ownerState"],Bi=["variants"],zi=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ji(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Ui=(0,Fi.A)(),Gi=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Hi(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function Vi(e){return e?(t,n)=>n[e]:null}function Wi(t,n){let{ownerState:r}=n,o=(0,f.A)(n,Di);const i="function"===typeof t?t((0,e.A)({ownerState:r},o)):t;if(Array.isArray(i))return i.flatMap((t=>Wi(t,(0,e.A)({ownerState:r},o))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:t=[]}=i;let n=(0,f.A)(i,Bi);return t.forEach((t=>{let i=!0;"function"===typeof t.props?i=t.props((0,e.A)({ownerState:r},o,r)):Object.keys(t.props).forEach((e=>{(null==r?void 0:r[e])!==t.props[e]&&o[e]!==t.props[e]&&(i=!1)})),i&&(Array.isArray(n)||(n=[n]),n.push("function"===typeof t.style?t.style((0,e.A)({ownerState:r},o,r)):t.style))})),n}return i}const Xi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r=Ui,rootShouldForwardProp:o=ji,slotShouldForwardProp:i=ji}=t,s=t=>(0,de.A)((0,e.A)({},t,{theme:Hi((0,e.A)({},t,{defaultTheme:r,themeId:n}))}));return s.__mui_systemSx=!0,function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ue.internal_processStyles)(t,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Vi(Gi(c))}=a,p=(0,f.A)(a,zi),g=void 0!==u?u:c&&"Root"!==c&&"root"!==c||!1,m=d||!1;let v=ji;"Root"===c||"root"===c?v=o:c?v=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(t)&&(v=void 0);const y=(0,ue.default)(t,(0,e.A)({shouldForwardProp:v,label:undefined},p)),b=t=>"function"===typeof t&&t.__emotion_real!==t||(0,Zn.Q)(t)?o=>Wi(t,(0,e.A)({},o,{theme:Hi({theme:o.theme,defaultTheme:r,themeId:n})})):t,_=function(o){let i=b(o);for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];const d=c?c.map(b):[];l&&h&&d.push((t=>{const o=Hi((0,e.A)({},t,{defaultTheme:r,themeId:n}));if(!o.components||!o.components[l]||!o.components[l].styleOverrides)return null;const i=o.components[l].styleOverrides,s={};return Object.entries(i).forEach((n=>{let[r,i]=n;s[r]=Wi(i,(0,e.A)({},t,{theme:o}))})),h(t,s)})),l&&!g&&d.push((t=>{var o;const i=Hi((0,e.A)({},t,{defaultTheme:r,themeId:n}));return Wi({variants:null==i||null==(o=i.components)||null==(o=o[l])?void 0:o.variants},(0,e.A)({},t,{theme:i}))})),m||d.push(s);const p=d.length-c.length;if(Array.isArray(o)&&p>0){const e=new Array(p).fill("");i=[...o,...e],i.raw=[...o.raw,...e]}const f=y(i,...d);return t.muiName&&(f.muiName=t.muiName),f};return y.withConfig&&(_.withConfig=y.withConfig),_}}(),qi=Xi;var Ki=n(2880),Yi=n(8286),Zi=n(7937);const Qi=["component","direction","spacing","divider","children","className","useFlexGap"],$i=(0,Fi.A)(),Ji=qi("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function es(e){return(0,Ki.A)({props:e,name:"MuiStack",defaultTheme:$i})}function ts(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,o,i)=>(e.push(o),i<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(i)})),e)),[])}const ns=t=>{let{ownerState:n,theme:r}=t,o=(0,e.A)({display:"flex",flexDirection:"column"},(0,Yi.NI)({theme:r},(0,Yi.kW)({values:n.direction,breakpoints:r.breakpoints.values}),(e=>({flexDirection:e}))));if(n.spacing){const e=(0,Zi.LX)(r),t=Object.keys(r.breakpoints.values).reduce(((e,t)=>(("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e)),{}),i=(0,Yi.kW)({values:n.direction,base:t}),s=(0,Yi.kW)({values:n.spacing,base:t});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const a=(t,r)=>{return n.useFlexGap?{gap:(0,Zi._W)(e,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?i[r]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,Zi._W)(e,t)}};var o};o=(0,Zn.A)(o,(0,Yi.NI)({theme:r},s,a))}return o=(0,Yi.iZ)(r.breakpoints,o),o};const rs=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:r=Ji,useThemeProps:o=es,componentName:i="MuiStack"}=n,a=r(ns),l=t.forwardRef((function(t,n){const r=o(t),l=(0,te.A)(r),{component:c="div",direction:u="column",spacing:d=0,divider:h,children:p,className:g,useFlexGap:m=!1}=l,v=(0,f.A)(l,Qi),y={direction:u,spacing:d,useFlexGap:m},b=(0,L.A)({root:["root"]},(e=>(0,z.Ay)(i,e)),{});return(0,s.jsx)(a,(0,e.A)({as:c,ownerState:y,ref:n,className:(0,O.A)(b.root,g)},v,{children:h?ts(p,h):p}))}));return l}({createStyledComponent:(0,N.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,r.A)({props:e,name:"MuiStack"})}),os=rs,is={map:{mapStyle:{sat:"mapbox://styles/relnox/cjs9rb33k2pix1fo833uweyjd?fresh=true",dark:"mapbox://styles/relnox/cjl58dpkq2jjp2rmzyrdvfsds?fresh=true",blue:"mapbox://styles/relnox/ck0h5xn701bpr1dqs3he2lecq?fresh=true",normal:"mapbox://styles/relnox/cl8dv36nv000t14qik9yg4ys6?fresh=true"}},GEOGRIDDATA:{color:[0,0,0],height:[0,50,100],id:0,interactive:"Web",name:"name"},GEOGRID:{features:[],properties:{header:{tableName:"test",cellSize:15,latitude:42.3664655,longitude:-71.0854323,tz:-5,ncols:20,nrows:20,rotation:0,projection:"+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000 +y_0=750000 +ellps=GRS80 +datum=NAD83 +units=m +no_def"},types:{Office:{description:"Offices and other commercial buildings, 0-100 stories",LBCS:[{proportion:1,use:{2310:1}}],NAICS:[{proportion:1,use:{5400:1}}],interactive:!0,color:"#2482c6",height:[0,50,100]},Campus:{description:"Campus buildings, non-interactive, 0-30 stories",LBCS:[{proportion:1,use:{2310:1}}],NAICS:[{proportion:1,use:{5400:1}}],interactive:!1,color:"#ab8f39",height:[0,15,30]},Park:{description:"Parks, playgrounds, and other open spaces. No height value",LBCS:[{proportion:1,use:{7240:1}}],NAICS:null,interactive:!0,color:"#7eb346",height:[0,0,0]},Residential:{description:"Residential buildings and apartments, 0-100 stories",LBCS:[{proportion:1,use:{1100:1}}],NAICS:null,interactive:!0,color:"#b97e18",height:[0,50,100]}}},type:"FeatureCollection"}};function ss(e){return r.A}const as=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ls=["component","slots","slotProps"],cs=["component"];function us(t,n){const{className:r,elementType:o,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:l}=n,c=(0,f.A)(n,as),{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0}}=s,p=(0,f.A)(s,ls),g=d[t]||o,m=Ee(h[t],i),v=Ae((0,e.A)({className:r},c,{externalForwardedProps:"root"===t?p:void 0,externalSlotProps:m})),{props:{component:y},internalRef:b}=v,_=(0,f.A)(v.props,cs),w=(0,ye.A)(b,null==m?void 0:m.ref,n.ref),x=a?a(_):{},A=(0,e.A)({},i,x),E="root"===t?y||u:y,S=_e(g,(0,e.A)({},"root"===t&&!u&&!d[t]&&l,"root"!==t&&!d[t]&&l,_,E&&{as:E},{ref:w}),A);return Object.keys(x).forEach((e=>{delete S[e]})),[g,S]}function ds(e){return(0,z.Ay)("MuiAlert",e)}const hs=(0,B.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ps(e){return(0,z.Ay)("MuiIconButton",e)}const fs=(0,B.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),gs=["edge","children","className","color","disabled","disableFocusRipple","size"],ms=(0,N.Ay)(In,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,ne.A)(n.color))],n.edge&&t["edge".concat((0,ne.A)(n.edge))],t["size".concat((0,ne.A)(n.size))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})}),(t=>{let{theme:n,ownerState:r}=t;var o;const i=null==(o=(n.vars||n).palette)?void 0:o[r.color];return(0,e.A)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,e.A)({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":(0,e.A)({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},{["&.".concat(fs.disabled)]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})})),vs=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiIconButton"}),{edge:i=!1,children:a,className:l,color:c="default",disabled:u=!1,disableFocusRipple:d=!1,size:h="medium"}=o,p=(0,f.A)(o,gs),g=(0,e.A)({},o,{edge:i,color:c,disabled:u,disableFocusRipple:d,size:h}),m=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,ne.A)(r)),o&&"edge".concat((0,ne.A)(o)),"size".concat((0,ne.A)(i))]};return(0,L.A)(s,ps,t)})(g);return(0,s.jsx)(ms,(0,e.A)({className:(0,O.A)(m.root,l),centerRipple:!0,focusRipple:!d,disabled:u,ref:n},p,{ownerState:g,children:a}))})),ys=vs,bs=(0,_i.A)((0,s.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),_s=(0,_i.A)((0,s.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ws=(0,_i.A)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),xs=(0,_i.A)((0,s.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),As=(0,_i.A)((0,s.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Es=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ss=ss(),Cs=(0,N.Ay)(V,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ne.A)(n.color||n.severity))]]}})((t=>{let{theme:n}=t;const r="light"===n.palette.mode?F.e$:F.a,o="light"===n.palette.mode?F.a:F.e$;return(0,e.A)({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[t]=e;return{props:{colorSeverity:t,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert["".concat(t,"Color")]:r(n.palette[t].light,.6),backgroundColor:n.vars?n.vars.palette.Alert["".concat(t,"StandardBg")]:o(n.palette[t].light,.9),["& .".concat(hs.icon)]:n.vars?{color:n.vars.palette.Alert["".concat(t,"IconColor")]}:{color:n.palette[t].main}}}})),...Object.entries(n.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[t]=e;return{props:{colorSeverity:t,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert["".concat(t,"Color")]:r(n.palette[t].light,.6),border:"1px solid ".concat((n.vars||n).palette[t].light),["& .".concat(hs.icon)]:n.vars?{color:n.vars.palette.Alert["".concat(t,"IconColor")]}:{color:n.palette[t].main}}}})),...Object.entries(n.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((t=>{let[r]=t;return{props:{colorSeverity:r,variant:"filled"},style:(0,e.A)({fontWeight:n.typography.fontWeightMedium},n.vars?{color:n.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:n.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===n.palette.mode?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)})}}))]})})),Ms=(0,N.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Rs=(0,N.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ts=(0,N.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ps={success:(0,s.jsx)(bs,{fontSize:"inherit"}),warning:(0,s.jsx)(_s,{fontSize:"inherit"}),error:(0,s.jsx)(ws,{fontSize:"inherit"}),info:(0,s.jsx)(xs,{fontSize:"inherit"})},ks=t.forwardRef((function(t,n){const r=Ss({props:t,name:"MuiAlert"}),{action:o,children:i,className:a,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:p=Ps,onClose:g,role:m="alert",severity:v="success",slotProps:y={},slots:b={},variant:_="standard"}=r,w=(0,f.A)(r,Es),x=(0,e.A)({},r,{color:c,severity:v,variant:_,colorSeverity:c||v}),A=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root","color".concat((0,ne.A)(n||r)),"".concat(t).concat((0,ne.A)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,L.A)(i,ds,o)})(x),E={slots:(0,e.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},b),slotProps:(0,e.A)({},d,y)},[S,C]=us("closeButton",{elementType:ys,externalForwardedProps:E,ownerState:x}),[M,R]=us("closeIcon",{elementType:As,externalForwardedProps:E,ownerState:x});return(0,s.jsxs)(Cs,(0,e.A)({role:m,elevation:0,ownerState:x,className:(0,O.A)(A.root,a),ref:n},w,{children:[!1!==h?(0,s.jsx)(Ms,{ownerState:x,className:A.icon,children:h||p[v]||Ps[v]}):null,(0,s.jsx)(Rs,{ownerState:x,className:A.message,children:i}),null!=o?(0,s.jsx)(Ts,{ownerState:x,className:A.action,children:o}):null,null==o&&g?(0,s.jsx)(Ts,{ownerState:x,className:A.action,children:(0,s.jsx)(S,(0,e.A)({size:"small","aria-label":l,title:l,color:"inherit",onClick:g},C,{children:(0,s.jsx)(M,(0,e.A)({fontSize:"small"},R))}))}):null]}))})),Is=ks;function Os(e){const n=e.setGridProps,r=is,[o,i]=(0,t.useState)({tableName:r.GEOGRID.properties.header.tableName,latitude:r.GEOGRID.properties.header.latitude,longitude:r.GEOGRID.properties.header.longitude,tz:r.GEOGRID.properties.header.tz,nrows:r.GEOGRID.properties.header.nrows,ncols:r.GEOGRID.properties.header.nrows,rotation:r.GEOGRID.properties.header.rotation,cellSize:r.GEOGRID.properties.header.cellSize,projection:r.GEOGRID.properties.header.projection}),a=e=>{const{id:t,value:n}=e.target;i({...o,[t]:n})};return(0,t.useEffect)((()=>{n(o)}),[o]),(0,s.jsxs)(Zt,{children:[(0,s.jsx)(Kn,{children:(0,s.jsx)(ce,{variant:"h4",children:"Set Grid Properties"})}),(0,s.jsx)(Kn,{children:(0,s.jsx)(Is,{variant:"outlined",severity:"warning",children:"Warning: changing these properties will generate a new grid!"})}),(0,s.jsx)(Kn,{children:(0,s.jsx)(Ni,{inputProps:{style:{fontSize:30}},onChange:e=>a(e),variant:"outlined",fullWidth:!0,id:"tableName",label:"CityScope Project Name",defaultValue:o.tableName})}),(0,s.jsx)(Kn,{children:(0,s.jsxs)(os,{direction:"row",spacing:1,children:[(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"latitude",label:"Latitude",defaultValue:o.latitude,type:"number"}),(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"longitude",label:"Longitude",defaultValue:o.longitude,type:"number"}),(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"tz",label:"Time Zone (GMT)",defaultValue:o.tz,type:"number"})]})}),(0,s.jsx)(Kn,{children:(0,s.jsxs)(os,{direction:"row",spacing:1,children:[(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"nrows",label:"Rows",defaultValue:o.nrows,type:"number",InputProps:{inputProps:{max:100,min:0}}}),(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"ncols",label:"Columns",defaultValue:o.ncols,type:"number",InputProps:{inputProps:{max:100,min:0}}}),(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"rotation",label:"Rotation (deg)",defaultValue:o.rotation,type:"number",InputProps:{inputProps:{max:360,min:0}}}),(0,s.jsx)(Ni,{onChange:e=>a(e),variant:"outlined",id:"cellSize",label:"Cell Size (m^2)",defaultValue:o.cellSize,type:"number",InputProps:{inputProps:{max:1e3,min:1}}})]})}),(0,s.jsx)(Kn,{children:(0,s.jsx)(Ni,{size:"small",onChange:e=>a(e),variant:"outlined",id:"projection",label:"Projection",defaultValue:o.projection,type:"string",helperText:"Default projection should work for most CityScope cases. Find specific projections at: https://epsg.io/"})})]})}var Ls=n(7661);function Ns(e){return(0,z.Ay)("MuiButton",e)}const Fs=(0,B.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Ds=t.createContext({});const Bs=t.createContext(void 0),zs=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],js=t=>(0,e.A)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Us=(0,N.Ay)(In,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ne.A)(n.color))],t["size".concat((0,ne.A)(n.size))],t["".concat(n.variant,"Size").concat((0,ne.A)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((t=>{let{theme:n,ownerState:r}=t;var o,i;const s="light"===n.palette.mode?n.palette.grey[300]:n.palette.grey[800],a="light"===n.palette.mode?n.palette.grey.A100:n.palette.grey[700];return(0,e.A)({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":(0,e.A)({textDecoration:"none",backgroundColor:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat((n.vars||n).palette[r.color].main),backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:(n.vars||n).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[r.color].main}}),"&:active":(0,e.A)({},"contained"===r.variant&&{boxShadow:(n.vars||n).shadows[8]}),["&.".concat(Fs.focusVisible)]:(0,e.A)({},"contained"===r.variant&&{boxShadow:(n.vars||n).shadows[6]}),["&.".concat(Fs.disabled)]:(0,e.A)({color:(n.vars||n).palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.action.disabledBackground)},"contained"===r.variant&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:(n.vars||n).palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===r.variant&&"inherit"!==r.color&&{color:(n.vars||n).palette[r.color].main,border:n.vars?"1px solid rgba(".concat(n.vars.palette[r.color].mainChannel," / 0.5)"):"1px solid ".concat((0,F.X4)(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.vars?n.vars.palette.text.primary:null==(o=(i=n.palette).getContrastText)?void 0:o.call(i,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:s,boxShadow:(n.vars||n).shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:(n.vars||n).palette[r.color].contrastText,backgroundColor:(n.vars||n).palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Fs.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Fs.disabled)]:{boxShadow:"none"}}})),Gs=(0,N.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,ne.A)(n.size))]]}})((t=>{let{ownerState:n}=t;return(0,e.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===n.size&&{marginLeft:-2},js(n))})),Hs=(0,N.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,ne.A)(n.size))]]}})((t=>{let{ownerState:n}=t;return(0,e.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===n.size&&{marginRight:-2},js(n))})),Vs=t.forwardRef((function(n,o){const i=t.useContext(Ds),a=t.useContext(Bs),l=(0,Ls.A)(i,n),c=(0,r.A)({props:l,name:"MuiButton"}),{children:u,color:d="primary",component:h="button",className:p,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:v=!1,endIcon:y,focusVisibleClassName:b,fullWidth:_=!1,size:w="medium",startIcon:x,type:A,variant:E="text"}=c,S=(0,f.A)(c,zs),C=(0,e.A)({},c,{color:d,component:h,disabled:g,disableElevation:m,disableFocusRipple:v,fullWidth:_,size:w,type:A,variant:E}),M=(t=>{const{color:n,disableElevation:r,fullWidth:o,size:i,variant:s,classes:a}=t,l={root:["root",s,"".concat(s).concat((0,ne.A)(n)),"size".concat((0,ne.A)(i)),"".concat(s,"Size").concat((0,ne.A)(i)),"color".concat((0,ne.A)(n)),r&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,ne.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,ne.A)(i))]},c=(0,L.A)(l,Ns,a);return(0,e.A)({},a,c)})(C),R=x&&(0,s.jsx)(Gs,{className:M.startIcon,ownerState:C,children:x}),T=y&&(0,s.jsx)(Hs,{className:M.endIcon,ownerState:C,children:y}),P=a||"";return(0,s.jsxs)(Us,(0,e.A)({ownerState:C,className:(0,O.A)(i.className,M.root,p,P),component:h,disabled:g,focusRipple:!v,focusVisibleClassName:(0,O.A)(M.focusVisible,b),ref:o,type:A},S,{classes:M,children:[R,u,T]}))})),Ws=Vs,Xs=e=>{let t=[];return Object.keys(e).forEach(((n,r)=>{t.push({id:r,name:n,description:e[n].description,color:e[n].color,height:e[n].height,"height[0]":e[n].height?e[n].height[0]:0,"height[1]":e[n].height?e[n].height[1]:0,"height[2]":e[n].height?e[n].height[2]:0,LBCS:e[n].LBCS?JSON.stringify(e[n].LBCS):null,NAICS:e[n].NAICS?JSON.stringify(e[n].NAICS):null,interactive:e[n].interactive})})),t};var qs=n(9532),Ks=n(7999),Ys=n(158),Zs=n(2098),Qs=n(6319);function $s(e){return(0,z.Ay)("MuiDataGrid",e)}const Js=(0,B.A)("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderTop","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),ea=t.createContext(void 0);const ta=()=>{const e=t.useContext(ea);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},na=["className","children"],ra=qi("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",flexWrap:"wrap",gap:t.spacing(1),padding:t.spacing(.5,.5,0)}})),oa=t.forwardRef((function(t,n){const{className:r,children:o}=t,i=(0,f.A)(t,na),a=ta(),l=(e=>{const{classes:t}=e;return(0,L.A)({root:["toolbarContainer"]},$s,t)})(a);return o?(0,s.jsx)(ra,(0,e.A)({ref:n,className:(0,O.A)(r,l.root),ownerState:a},i,{children:o})):null}));var ia=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(ia||{}),sa=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(sa||{}),aa=function(e){return e.Cell="cell",e.Row="row",e}(aa||{}),la=function(e){return e.Edit="edit",e.View="view",e}(la||{}),ca=function(e){return e.Edit="edit",e.View="view",e}(ca||{});function ua(e){return(0,z.Ay)("MuiDivider",e)}const da=(0,B.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function ha(e){return(0,z.Ay)("MuiListItemIcon",e)}const pa=(0,B.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function fa(e){return(0,z.Ay)("MuiListItemText",e)}const ga=(0,B.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ma(e){return(0,z.Ay)("MuiMenuItem",e)}const va=(0,B.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ya=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ba=(0,N.Ay)(In,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(va.selected)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity),["&.".concat(va.focusVisible)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},["&.".concat(va.selected,":hover")]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,F.X4)(n.palette.primary.main,n.palette.action.selectedOpacity)}},["&.".concat(va.focusVisible)]:{backgroundColor:(n.vars||n).palette.action.focus},["&.".concat(va.disabled)]:{opacity:(n.vars||n).palette.action.disabledOpacity},["& + .".concat(da.root)]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},["& + .".concat(da.inset)]:{marginLeft:52},["& .".concat(ga.root)]:{marginTop:0,marginBottom:0},["& .".concat(ga.inset)]:{paddingLeft:36},["& .".concat(pa.root)]:{minWidth:36}},!r.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&(0,e.A)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{["& .".concat(pa.root," svg")]:{fontSize:"1.25rem"}}))})),_a=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:c=!1,divider:u=!1,disableGutters:d=!1,focusVisibleClassName:h,role:p="menuitem",tabIndex:g,className:m}=i,v=(0,f.A)(i,ya),y=t.useContext(Wt),b=t.useMemo((()=>({dense:c||y.dense||!1,disableGutters:d})),[y.dense,c,d]),_=t.useRef(null);(0,Ln.A)((()=>{a&&_.current&&_.current.focus()}),[a]);const w=(0,e.A)({},i,{dense:b.dense,divider:u,disableGutters:d}),x=(t=>{const{disabled:n,dense:r,divider:o,disableGutters:i,selected:s,classes:a}=t,l={root:["root",r&&"dense",n&&"disabled",!i&&"gutters",o&&"divider",s&&"selected"]},c=(0,L.A)(l,ma,a);return(0,e.A)({},a,c)})(i),A=(0,lt.A)(_,o);let E;return i.disabled||(E=void 0!==g?g:-1),(0,s.jsx)(Wt.Provider,{value:b,children:(0,s.jsx)(ba,(0,e.A)({ref:A,role:p,tabIndex:E,component:l,focusVisibleClassName:(0,O.A)(x.focusVisible,h),className:(0,O.A)(x.root,m)},v,{ownerState:w,classes:x}))})})),wa=_a,xa=["className"],Aa=(0,N.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===r.alignItems&&{marginTop:8})})),Ea=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiListItemIcon"}),{className:a}=i,l=(0,f.A)(i,xa),c=t.useContext(Wt),u=(0,e.A)({},i,{alignItems:c.alignItems}),d=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,L.A)(r,ha,n)})(u);return(0,s.jsx)(Aa,(0,e.A)({className:(0,O.A)(d.root,a),ownerState:u,ref:o},l))})),Sa=Ea,Ca=["label","icon","showInMenu","onClick"],Ma=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],Ra=t.forwardRef(((n,r)=>{const o=ta();if(!n.showInMenu){var i;const{label:a,icon:l,onClick:c}=n,u=(0,f.A)(n,Ca),d=e=>{null===c||void 0===c||c(e)};return(0,s.jsx)(o.slots.baseIconButton,(0,e.A)({ref:r,size:"small",role:"menuitem","aria-label":a},u,{onClick:d},null===(i=o.slotProps)||void 0===i?void 0:i.baseIconButton,{children:t.cloneElement(l,{fontSize:"small"})}))}const{label:a,icon:l,onClick:c,closeMenuOnClick:u=!0,closeMenu:d}=n,h=(0,f.A)(n,Ma);return(0,s.jsxs)(wa,(0,e.A)({ref:r},h,{onClick:e=>{null===c||void 0===c||c(e),u&&(null===d||void 0===d||d())},children:[l&&(0,s.jsx)(Sa,{children:l}),a]}))}));var Ta=n(1942),Pa=n.n(Ta),ka=n(3081),Ia=n(8935);function Oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,Ia.A)(e,t,n)}function La(e){if(e.type)return e;if("#"===e.charAt(0))return La(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Qn.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,Qn.A)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function Na(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Fa(e,t){return e=La(e),t=Oa(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Na(e)}function Da(e,t){if(e=La(e),t=Oa(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Na(e)}function Ba(e,t){if(e=La(e),t=Oa(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Na(e)}const za={[".".concat(Js.columnSeparator,", .").concat(Js["columnSeparator--resizing"])]:{visibility:"visible",width:"auto"}},ja={["& .".concat(Js.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(Js.menuIcon)]:{width:"auto",visibility:"visible"}},Ua=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{["&.".concat(Js.autoHeight)]:t.autoHeight},{["&.".concat(Js.aggregationColumnHeader)]:t.aggregationColumnHeader},{["&.".concat(Js["aggregationColumnHeader--alignLeft"])]:t["aggregationColumnHeader--alignLeft"]},{["&.".concat(Js["aggregationColumnHeader--alignCenter"])]:t["aggregationColumnHeader--alignCenter"]},{["&.".concat(Js["aggregationColumnHeader--alignRight"])]:t["aggregationColumnHeader--alignRight"]},{["&.".concat(Js.aggregationColumnHeaderLabel)]:t.aggregationColumnHeaderLabel},{["&.".concat(Js["root--disableUserSelection"]," .").concat(Js.cell)]:t["root--disableUserSelection"]},{["&.".concat(Js.autosizing)]:t.autosizing},{["& .".concat(Js.editBooleanCell)]:t.editBooleanCell},{["& .".concat(Js.cell)]:t.cell},{["& .".concat(Js["cell--editing"])]:t["cell--editing"]},{["& .".concat(Js["cell--textCenter"])]:t["cell--textCenter"]},{["& .".concat(Js["cell--textLeft"])]:t["cell--textLeft"]},{["& .".concat(Js["cell--textRight"])]:t["cell--textRight"]},{["& .".concat(Js["cell--rangeTop"])]:t["cell--rangeTop"]},{["& .".concat(Js["cell--rangeBottom"])]:t["cell--rangeBottom"]},{["& .".concat(Js["cell--rangeLeft"])]:t["cell--rangeLeft"]},{["& .".concat(Js["cell--rangeRight"])]:t["cell--rangeRight"]},{["& .".concat(Js["cell--withRightBorder"])]:t["cell--withRightBorder"]},{["& .".concat(Js.cellCheckbox)]:t.cellCheckbox},{["& .".concat(Js.cellSkeleton)]:t.cellSkeleton},{["& .".concat(Js.checkboxInput)]:t.checkboxInput},{["& .".concat(Js["columnHeader--alignCenter"])]:t["columnHeader--alignCenter"]},{["& .".concat(Js["columnHeader--alignLeft"])]:t["columnHeader--alignLeft"]},{["& .".concat(Js["columnHeader--alignRight"])]:t["columnHeader--alignRight"]},{["& .".concat(Js["columnHeader--dragging"])]:t["columnHeader--dragging"]},{["& .".concat(Js["columnHeader--moving"])]:t["columnHeader--moving"]},{["& .".concat(Js["columnHeader--numeric"])]:t["columnHeader--numeric"]},{["& .".concat(Js["columnHeader--sortable"])]:t["columnHeader--sortable"]},{["& .".concat(Js["columnHeader--sorted"])]:t["columnHeader--sorted"]},{["& .".concat(Js["columnHeader--withRightBorder"])]:t["columnHeader--withRightBorder"]},{["& .".concat(Js.columnHeader)]:t.columnHeader},{["& .".concat(Js.headerFilterRow)]:t.headerFilterRow},{["& .".concat(Js.columnHeaderCheckbox)]:t.columnHeaderCheckbox},{["& .".concat(Js.columnHeaderDraggableContainer)]:t.columnHeaderDraggableContainer},{["& .".concat(Js.columnHeaderTitleContainer)]:t.columnHeaderTitleContainer},{["& .".concat(Js["columnSeparator--resizable"])]:t["columnSeparator--resizable"]},{["& .".concat(Js["columnSeparator--resizing"])]:t["columnSeparator--resizing"]},{["& .".concat(Js.columnSeparator)]:t.columnSeparator},{["& .".concat(Js.filterIcon)]:t.filterIcon},{["& .".concat(Js.iconSeparator)]:t.iconSeparator},{["& .".concat(Js.menuIcon)]:t.menuIcon},{["& .".concat(Js.menuIconButton)]:t.menuIconButton},{["& .".concat(Js.menuOpen)]:t.menuOpen},{["& .".concat(Js.menuList)]:t.menuList},{["& .".concat(Js["row--editable"])]:t["row--editable"]},{["& .".concat(Js["row--editing"])]:t["row--editing"]},{["& .".concat(Js["row--dragging"])]:t["row--dragging"]},{["& .".concat(Js.row)]:t.row},{["& .".concat(Js.rowReorderCellPlaceholder)]:t.rowReorderCellPlaceholder},{["& .".concat(Js.rowReorderCell)]:t.rowReorderCell},{["& .".concat(Js["rowReorderCell--draggable"])]:t["rowReorderCell--draggable"]},{["& .".concat(Js.sortIcon)]:t.sortIcon},{["& .".concat(Js.withBorderColor)]:t.withBorderColor},{["& .".concat(Js.treeDataGroupingCell)]:t.treeDataGroupingCell},{["& .".concat(Js.treeDataGroupingCellToggle)]:t.treeDataGroupingCellToggle},{["& .".concat(Js.detailPanelToggleCell)]:t.detailPanelToggleCell},{["& .".concat(Js["detailPanelToggleCell--expanded"])]:t["detailPanelToggleCell--expanded"]},t.root]})((t=>{var n,r,o,i;let{theme:s}=t;const a=function(e){return e.vars?e.vars.palette.TableCell.border:"light"===e.palette.mode?Ba(Fa(e.palette.divider,1),.88):Da(Fa(e.palette.divider,1),.68)}(s),l=s.shape.borderRadius,c=s.vars?s.vars.palette.background.default:null!==(n=null===(r=s.mixins.MuiDataGrid)||void 0===r?void 0:r.containerBackground)&&void 0!==n?n:s.palette.background.default,u=null!==(o=null===(i=s.mixins.MuiDataGrid)||void 0===i?void 0:i.pinnedBackground)&&void 0!==o?o:c,d=s.vars?"rgba(".concat(s.vars.palette.background.defaultChannel," / ").concat(s.vars.palette.action.disabledOpacity,")"):Fa(s.palette.background.default,s.palette.action.disabledOpacity),h=(s.vars||s).palette.action.hoverOpacity,p=(s.vars||s).palette.action.hover,f=(s.vars||s).palette.action.selectedOpacity,g=s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / ").concat(f,")"):Fa(s.palette.primary.main,f),m=s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / calc(\n                ").concat(s.vars.palette.action.selectedOpacity," + \n                ").concat(s.vars.palette.action.hoverOpacity,"\n              ))"):Fa(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),v=s.vars?p:Ga(u,p,h),y=s.vars?g:Ga(u,g,f),b=s.vars?p:Ga(y,p,h),_={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return(0,e.A)({"--unstable_DataGrid-radius":"number"===typeof l?"".concat(l,"px"):l,"--unstable_DataGrid-headWeight":s.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":d,"--DataGrid-containerBackground":c,"--DataGrid-pinnedBackground":u,"--DataGrid-rowBorderColor":a,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:a,borderRadius:"var(--unstable_DataGrid-radius)",color:(s.vars||s).palette.text.primary},s.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[".".concat(Js.main," > *:first-of-type")]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},["&.".concat(Js.autoHeight)]:{height:"auto"},["&.".concat(Js.autosizing)]:{["& .".concat(Js.columnHeaderTitleContainerContent," > *")]:{overflow:"visible !important"},"@media (hover: hover)":{["& .".concat(Js.iconButtonContainer)]:{width:"0 !important",visibility:"hidden !important"},["& .".concat(Js.menuIcon)]:{width:"0 !important",visibility:"hidden !important"}},["& .".concat(Js.cell)]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},["& .".concat(Js.groupingCriteriaCell)]:{width:"unset"},["& .".concat(Js.treeDataGroupingCell)]:{width:"unset"}},["& .".concat(Js.columnHeader,", & .").concat(Js.cell)]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},["& .".concat(Js.columnHeader,":focus-within, & .").concat(Js.cell,":focus-within")]:{outline:"solid ".concat(s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / 0.5)"):Fa(s.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1},["& .".concat(Js.columnHeader,":focus, & .").concat(Js.cell,":focus")]:{outline:"solid ".concat(s.palette.primary.main," 1px")},["& .".concat(Js.columnHeaderCheckbox,", & .").concat(Js.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(Js.columnHeader)]:{position:"relative",display:"flex",alignItems:"center"},["& .".concat(Js["columnHeader--last"])]:{overflow:"hidden"},["& .".concat(Js["columnHeader--sorted"]," .").concat(Js.iconButtonContainer,", & .").concat(Js["columnHeader--filtered"]," .").concat(Js.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(Js.columnHeader,":not(.").concat(Js["columnHeader--sorted"],") .").concat(Js.sortIcon)]:{opacity:0,transition:s.transitions.create(["opacity"],{duration:s.transitions.duration.shorter})},["& .".concat(Js.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},["& .".concat(Js.columnHeaderTitleContainerContent)]:{overflow:"hidden",display:"flex",alignItems:"center"},["& .".concat(Js["columnHeader--filledGroup"]," .").concat(Js.columnHeaderTitleContainer)]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(Js.sortIcon,", & .").concat(Js.filterIcon)]:{fontSize:"inherit"},["& .".concat(Js["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(Js["columnHeader--alignCenter"]," .").concat(Js.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(Js["columnHeader--alignRight"]," .").concat(Js.columnHeaderDraggableContainer,", & .").concat(Js["columnHeader--alignRight"]," .").concat(Js.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(Js["columnHeader--alignCenter"]," .").concat(Js.menuIcon,", & .").concat(Js["columnHeader--alignRight"]," .").concat(Js.menuIcon)]:{marginRight:"auto",marginLeft:-6},["& .".concat(Js["columnHeader--alignRight"]," .").concat(Js.menuIcon,", & .").concat(Js["columnHeader--alignRight"]," .").concat(Js.menuIcon)]:{marginRight:"auto",marginLeft:-10},["& .".concat(Js["columnHeader--moving"])]:{backgroundColor:(s.vars||s).palette.action.hover},["& .".concat(Js["columnHeader--pinnedLeft"],", & .").concat(Js["columnHeader--pinnedRight"])]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},["& .".concat(Js.columnSeparator)]:{visibility:"hidden",position:"absolute",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",color:a},["& .".concat(Js.columnHeaders)]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{["& .".concat(Js.columnHeaders,":hover")]:za,["& .".concat(Js.columnHeader,":hover")]:ja,["& .".concat(Js.columnHeader,":not(.").concat(Js["columnHeader--sorted"],"):hover .").concat(Js.sortIcon)]:{opacity:.5}},"@media (hover: none)":{["& .".concat(Js.columnHeaders)]:za,["& .".concat(Js.columnHeader)]:ja},["& .".concat(Js["columnSeparator--sideLeft"])]:{left:-12},["& .".concat(Js["columnSeparator--sideRight"])]:{right:-12},["& .".concat(Js["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(s.vars||s).palette.text.primary,"@media (hover: none)":{color:a}},["&.".concat(Js["columnSeparator--resizing"])]:{color:(s.vars||s).palette.text.primary},"& svg":{pointerEvents:"none"}},["& .".concat(Js.iconSeparator)]:{color:"inherit"},["& .".concat(Js.menuIcon)]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[".".concat(Js.menuOpen)]:{visibility:"visible",width:"auto"},["& .".concat(Js.headerFilterRow)]:{["& .".concat(Js.columnHeader)]:{boxSizing:"border-box",borderTop:"1px solid var(--DataGrid-rowBorderColor)"}},[".".concat(Js.row)]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",["&.".concat(Js["row--firstVisible"])]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":_},["& .".concat(Js["container--top"],", & .").concat(Js["container--bottom"])]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},["& .".concat(Js.cell)]:{height:"var(--height)",minWidth:"var(--width)",maxWidth:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":_},["& .".concat(Js["virtualScrollerContent--overflowed"]," .").concat(Js["row--lastVisible"]," .").concat(Js.cell)]:{borderTopColor:"transparent"},["&.".concat(Js["root--disableUserSelection"]," .").concat(Js.cell)]:{userSelect:"none"},["& .".concat(Js["row--dynamicHeight"]," > .").concat(Js.cell)]:{whiteSpace:"initial",lineHeight:"inherit"},["& .".concat(Js.cellEmpty)]:{padding:0,height:"unset"},["& .".concat(Js.cell,".").concat(Js["cell--selectionMode"])]:{cursor:"default"},["& .".concat(Js.cell,".").concat(Js["cell--editing"])]:{padding:1,display:"flex",boxShadow:s.shadows[2],backgroundColor:(s.vars||s).palette.background.paper,"&:focus-within":{outline:"solid ".concat((s.vars||s).palette.primary.main," 1px"),outlineOffset:"-1px"}},["& .".concat(Js["row--editing"])]:{boxShadow:s.shadows[2]},["& .".concat(Js["row--editing"]," .").concat(Js.cell)]:{boxShadow:s.shadows[0],backgroundColor:(s.vars||s).palette.background.paper},["& .".concat(Js.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(Js.booleanCell,'[data-value="true"]')]:{color:(s.vars||s).palette.text.secondary},["& .".concat(Js.booleanCell,'[data-value="false"]')]:{color:(s.vars||s).palette.text.disabled},["& .".concat(Js.actionsCell)]:{display:"inline-flex",alignItems:"center",gridGap:s.spacing(1)},["& .".concat(Js.rowReorderCell)]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(s.vars||s).palette.action.disabledOpacity},["& .".concat(Js["rowReorderCell--draggable"])]:{cursor:"move",opacity:1},["& .".concat(Js.rowReorderCellContainer)]:{padding:0,display:"flex",alignItems:"stretch"},[".".concat(Js.withBorderColor)]:{borderColor:a},["& .".concat(Js["cell--withLeftBorder"],", & .").concat(Js["columnHeader--withLeftBorder"])]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},["& .".concat(Js["cell--withRightBorder"],", & .").concat(Js["columnHeader--withRightBorder"])]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(Js["cell--flex"])]:{display:"flex",alignItems:"center",lineHeight:"inherit"},["& .".concat(Js["cell--textLeft"])]:{textAlign:"left",justifyContent:"flex-start"},["& .".concat(Js["cell--textRight"])]:{textAlign:"right",justifyContent:"flex-end"},["& .".concat(Js["cell--textCenter"])]:{textAlign:"center",justifyContent:"center"},["& .".concat(Js["cell--pinnedLeft"],", & .").concat(Js["cell--pinnedRight"])]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)"},["& .".concat(Js.virtualScrollerContent," .").concat(Js.row)]:{"&:hover":{["& .".concat(Js["cell--pinnedLeft"],", & .").concat(Js["cell--pinnedRight"])]:{backgroundColor:v}},"&.Mui-selected":{["& .".concat(Js["cell--pinnedLeft"],", & .").concat(Js["cell--pinnedRight"])]:{backgroundColor:y},"&:hover":{["& .".concat(Js["cell--pinnedLeft"],", & .").concat(Js["cell--pinnedRight"])]:{backgroundColor:b}}}},["& .".concat(Js.cellOffsetLeft)]:{flex:"0 0 auto",display:"inline-block"},["& .".concat(Js.cellSkeleton)]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},["& .".concat(Js.columnHeaderDraggableContainer)]:{display:"flex",width:"100%",height:"100%"},["& .".concat(Js.rowReorderCellPlaceholder)]:{display:"none"},["& .".concat(Js["columnHeader--dragging"],", & .").concat(Js["row--dragging"])]:{background:(s.vars||s).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(s.vars||s).palette.action.disabledOpacity},["& .".concat(Js["row--dragging"])]:{background:(s.vars||s).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(s.vars||s).palette.action.disabledOpacity,["& .".concat(Js.rowReorderCellPlaceholder)]:{display:"flex"}},["& .".concat(Js.treeDataGroupingCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(Js.treeDataGroupingCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:s.spacing(2)},["& .".concat(Js.groupingCriteriaCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(Js.groupingCriteriaCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:s.spacing(2)},[".".concat(Js.scrollbarFiller)]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",["&.".concat(Js["scrollbarFiller--borderTop"])]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},["&.".concat(Js["scrollbarFiller--pinnedRight"])]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},["& .".concat(Js.filler)]:{flex:1},["& .".concat(Js["filler--borderTop"])]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"}})}));function Ga(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=(e,t)=>Math.round((e**(1/r)*(1-n)+t**(1/r)*n)**r),i=La(e),s=La(t);return Na({type:"rgb",values:[o(i.values[0],s.values[0]),o(i.values[1],s.values[1]),o(i.values[2],s.values[2])]})}var Ha=n(6457),Va=n(3695);const Wa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e;return()=>{n||(n=!0,"error"===t?console.error(r):console.warn(r))}},Xa=Object.is;function qa(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const o in e){if(n+=1,!Xa(e[o],t[o]))return!1;if(!(o in t))return!1}for(const o in t)r+=1;return n===r}Wa(["MUI X: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function Ka(e,t){return function(e){return e.acceptsApiRef}(t)?t(e):t(e.current.state)}const Ya=Object.is,Za=qa,Qa=()=>({state:null,equals:null,selector:null}),$a=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya;const o=(0,Ha.A)(Qa),i=null!==o.current.selector,[s,a]=t.useState(i?null:Ka(e,n));return o.current.state=s,o.current.equals=r,o.current.selector=n,(0,Va.A)((()=>e.current.store.subscribe((()=>{const t=Ka(e,o.current.selector);o.current.equals(o.current.state,t)||(o.current.state=t,a(t))})))),s},Ja=t.createContext(void 0);function el(){const e=t.useContext(Ja);if(void 0===e)throw new Error(["MUI X: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}var tl="NOT_FOUND";var nl=function(e,t){return e===t};function rl(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,o=void 0===r?nl:r,i=n.maxSize,s=void 0===i?1:i,a=n.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(o),c=1===s?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:tl},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(l):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return tl}return{get:r,put:function(t,o){r(t)===tl&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,l);function u(){var t=c.get(arguments);if(t===tl){if(t=e.apply(null,arguments),a){var n=c.getEntries().find((function(e){return a(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return u.clearCache=function(){return c.clear()},u}function ol(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,s=0,a={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(a=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=a.memoizeOptions,u=void 0===c?n:c,d=Array.isArray(u)?u:[u],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),p=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(d)),f=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return i=p.apply(null,e)}));return Object.assign(f,{resultFunc:l,memoizedResultFunc:p,dependencies:h,lastResult:function(){return i},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),f}}var il=ol(rl);const sl=new WeakMap;Wa(["MUI X: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, for example `mySelector(apiRef)`, or pass the instance ID explicitly, for example `mySelector(state, apiRef.current.instanceId)`."]);function al(e){return"current"in e&&"instanceId"in e.current}const ll={id:"default"},cl=function(e,t,n,r,o,i){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let s;if(e&&t&&n&&r&&o&&i)s=(s,a)=>{const l=al(s),c=null!==a&&void 0!==a?a:l?s.current.instanceId:ll,u=l?s.current.state:s,d=e(u,c),h=t(u,c),p=n(u,c),f=r(u,c),g=o(u,c);return i(d,h,p,f,g)};else if(e&&t&&n&&r&&o)s=(i,s)=>{const a=al(i),l=null!==s&&void 0!==s?s:a?i.current.instanceId:ll,c=a?i.current.state:i,u=e(c,l),d=t(c,l),h=n(c,l),p=r(c,l);return o(u,d,h,p)};else if(e&&t&&n&&r)s=(o,i)=>{const s=al(o),a=null!==i&&void 0!==i?i:s?o.current.instanceId:ll,l=s?o.current.state:o,c=e(l,a),u=t(l,a),d=n(l,a);return r(c,u,d)};else if(e&&t&&n)s=(r,o)=>{const i=al(r),s=null!==o&&void 0!==o?o:i?r.current.instanceId:ll,a=i?r.current.state:r,l=e(a,s),c=t(a,s);return n(l,c)};else{if(!e||!t)throw new Error("Missing arguments");s=(n,r)=>{const o=al(n),i=null!==r&&void 0!==r?r:o?n.current.instanceId:ll,s=o?n.current.state:n,a=e(s,i);return t(a)}}return s.acceptsApiRef=!0,s},ul=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=(e,n)=>{const r=al(e),o=r?e.current.instanceId:null!==n&&void 0!==n?n:ll,i=r?e.current.state:e;const s=sl.get(o),a=null!==s&&void 0!==s?s:new Map,l=null===a||void 0===a?void 0:a.get(t);if(a&&l)return l(i,o);const c=il(...t);return s||sl.set(o,a),a.set(t,c),c(i,o)};return r.acceptsApiRef=!0,r},dl={compact:.7,comfortable:1.3,standard:1},hl=e=>e.density,pl=cl(hl,(e=>dl[e])),fl=["children","className"],gl=qi("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0}),ml=t.forwardRef((function(n,r){const o=ta(),{children:i,className:a}=n,l=(0,f.A)(n,fl),c=el(),u=$a(c,hl),d=c.current.rootElementRef,h=(0,ye.A)(d,r),p=(0,e.A)({},o,{density:u}),g=(e=>{const{autoHeight:t,density:n,classes:r,showCellVerticalBorder:o}=e,i={root:["root",t&&"autoHeight","root--density".concat((0,ka.A)(n)),"withBorderColor",o&&"withVerticalBorder"]};return(0,L.A)(i,$s,r)})(p),[m,v]=t.useState(!1);return(0,Ve.A)((()=>{v(!0)}),[]),m?(0,s.jsxs)(Ua,(0,e.A)({ref:h,className:(0,O.A)(a,g.root),ownerState:p},l,{children:[(0,s.jsx)(gl,{role:"presentation","data-id":"gridPanelAnchor"}),i]})):null}));let vl=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const yl={left:[],right:[]},bl=e=>e.columns,_l=cl(bl,(e=>e.orderedFields)),wl=cl(bl,(e=>e.lookup)),xl=ul(_l,wl,((e,t)=>e.map((e=>t[e])))),Al=cl(bl,(e=>e.columnVisibilityModel)),El=ul(xl,Al,((e,t)=>e.filter((e=>!1!==t[e.field])))),Sl=ul(El,(e=>e.map((e=>e.field)))),Cl=ul(bl,(e=>e.pinnedColumns),Sl,(e=>e.theme),((e,t,n,r)=>{const o=function(e,t,n){var r,o;if(!Array.isArray(e.left)&&!Array.isArray(e.right))return yl;if(0===(null===(r=e.left)||void 0===r?void 0:r.length)&&0===(null===(o=e.right)||void 0===o?void 0:o.length))return yl;const i=(e,t)=>Array.isArray(e)?e.filter((e=>t.includes(e))):[],s=i(e.left,t),a=t.filter((e=>!s.includes(e))),l=i(e.right,a);if(n)return{left:l,right:s};return{left:s,right:l}}(t,n,"rtl"===r.direction);return{left:o.left.map((t=>e.lookup[t])),right:o.right.map((t=>e.lookup[t]))}}));const Ml=ul(El,(e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t})),Rl=cl(El,Ml,((e,t)=>{const n=e.length;return 0===n?0:t[n-1]+e[n-1].computedWidth})),Tl=ul(xl,(e=>e.filter((e=>e.filterable)))),Pl=ul(xl,(e=>e.reduce(((e,t)=>(t.filterable&&(e[t.field]=t),e)),{}))),kl=ul(xl,(e=>e.some((e=>void 0!==e.colSpan)))),Il=e=>e.preferencePanel;var Ol=function(e){return e.filters="filters",e.columns="columns",e}(Ol||{});const Ll=t.createContext(void 0);function Nl(){const e=t.useContext(Ll);if(void 0===e)throw new Error(["MUI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const Fl=t.forwardRef((function(t,n){var r,o,i;const a=Nl(),l=$a(a,xl),c=ta(),u=$a(a,Il),d=a.current.unstable_applyPipeProcessors("preferencePanel",null,null!==(r=u.openedPanelValue)&&void 0!==r?r:Ol.filters);return(0,s.jsx)(c.slots.panel,(0,e.A)({ref:n,as:c.slots.basePopper,open:l.length>0&&u.open,id:u.panelId,"aria-labelledby":u.labelId},null===(o=c.slotProps)||void 0===o?void 0:o.panel,t,null===(i=c.slotProps)||void 0===i?void 0:i.basePopper,{children:d}))}));function Dl(){var n;const r=ta();return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(Fl,{}),r.slots.toolbar&&(0,s.jsx)(r.slots.toolbar,(0,e.A)({},null===(n=r.slotProps)||void 0===n?void 0:n.toolbar))]})}class Bl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);const r=setTimeout((()=>{"function"===typeof t&&t(),this.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,r)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach(((e,t)=>{this.unregister({cleanupToken:t})})),this.timeouts=void 0)}}class zl{constructor(){this.registry=new FinalizationRegistry((e=>{"function"===typeof e&&e()}))}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}var jl=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(jl||{});class Ul{}const Gl={registry:null},Hl=function(e){let n=0;return function(r,o,i,s){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new zl:new Bl);const[a]=t.useState(new Ul),l=t.useRef(null),c=t.useRef();c.current=i;const u=t.useRef(null);if(!l.current&&c.current){const t=(e,t,n)=>{var r;t.defaultMuiPrevented||(null===(r=c.current)||void 0===r||r.call(c,e,t,n))};l.current=r.current.subscribeEvent(o,t,s),n+=1,u.current={cleanupToken:n},e.registry.register(a,(()=>{var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null,u.current=null}),u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));t.useEffect((()=>{if(!l.current&&c.current){const e=(e,t,n)=>{var r;t.defaultMuiPrevented||(null===(r=c.current)||void 0===r||r.call(c,e,t,n))};l.current=r.current.subscribeEvent(o,e,s)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}}),[r,o,s])}}(Gl),Vl={isFirst:!0};function Wl(e,t,n){Hl(e,t,n,Vl)}const Xl=e=>e.dimensions,ql=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],Kl=(0,N.Ay)(vr,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})((t=>{let{theme:n}=t;return(0,e.A)({},n.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})})),Yl=t.forwardRef(((n,r)=>{const o=ta(),{id:i,value:a,field:l,colDef:c,hasFocus:u,debounceMs:d=200,isProcessingProps:h,onValueChange:p}=n,g=(0,f.A)(n,ql),m=Nl(),v=t.useRef(),[y,b]=t.useState(a),_=(e=>{const{classes:t}=e;return(0,L.A)({root:["editInputCell"]},$s,t)})(o),w=t.useCallback((async e=>{const t=e.target.value;p&&await p(e,t);const n=m.current.getColumn(l);let r=t;n.valueParser&&(r=n.valueParser(t,m.current.getRow(i),n,m)),b(r),m.current.setEditCellValue({id:i,field:l,value:r,debounceMs:d,unstable_skipValueParser:!0},e)}),[m,d,l,i,p]),x=m.current.unstable_getEditCellMeta(i,l);return t.useEffect((()=>{"debouncedSetEditCellValue"!==(null===x||void 0===x?void 0:x.changeReason)&&b(a)}),[x,a]),(0,Ve.A)((()=>{u&&v.current.focus()}),[u]),(0,s.jsx)(Kl,(0,e.A)({ref:r,inputRef:v,className:_.root,ownerState:o,fullWidth:!0,type:"number"===c.type?c.type:"text",value:null!==y&&void 0!==y?y:"",onChange:w,endAdornment:h?(0,s.jsx)(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g))})),Zl=(Wa(["MUI X: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),(e,t)=>t&&e.length>1?[e[0]]:e),Ql=(t,n)=>r=>(0,e.A)({},r,{sorting:(0,e.A)({},r.sorting,{sortModel:Zl(t,n)})}),$l=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},Jl=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,ec=new Intl.Collator,tc=(e,t)=>{const n=Jl(e,t);return null!==n?n:Number(e)-Number(t)},nc=(e,t)=>{const n=Jl(e,t);return null!==n?n:e>t?1:e<t?-1:0},rc=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function oc(n){var r,o;const{item:i,applyValue:a,type:l,apiRef:c,focusElementRef:u,tabIndex:d,disabled:h,clearButton:p,InputProps:g,variant:m="standard"}=n,v=(0,f.A)(n,rc),y=(0,ln.A)(),[b,_]=t.useState(null!==(r=i.value)&&void 0!==r?r:""),[w,x]=t.useState(!1),A=(0,Yn.A)(),E=ta(),S=t.useCallback((t=>{const{value:n}=t.target;_(String(n)),x(!0),y.start(E.filterDebounceMs,(()=>{const t=(0,e.A)({},i,{value:n,fromInput:A});a(t),x(!1)}))}),[A,a,i,E.filterDebounceMs,y]);return t.useEffect((()=>{var e;i.fromInput===A&&void 0!==i.value||_(String(null!==(e=i.value)&&void 0!==e?e:""))}),[A,i]),(0,s.jsx)(E.slots.baseTextField,(0,e.A)({id:A,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:b,onChange:S,variant:m,type:l||"text",InputProps:(0,e.A)({},w||p?{endAdornment:w?(0,s.jsx)(E.slots.loadIcon,{fontSize:"small",color:"action"}):p}:{},{disabled:h},g,{inputProps:(0,e.A)({tabIndex:d},null===g||void 0===g?void 0:g.inputProps)}),InputLabelProps:{shrink:!0},inputRef:u},v,null===(o=E.slotProps)||void 0===o?void 0:o.baseTextField))}function ic(e){return"number"===typeof e&&!Number.isNaN(e)}function sc(e){return"function"===typeof e}function ac(e){return"object"===typeof e&&null!==e}function lc(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const cc=(e,t,n)=>Math.max(t,Math.min(n,e));function uc(e,t){return Array.from({length:t-e}).map(((t,n)=>e+n))}function dc(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(!dc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;for(let e=0;e<n.length;e+=1){const r=n[e];if(!dc(r[1],t.get(r[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let e=0;e<r;e+=1)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let o=0;o<r;o+=1){const r=n[o];if(!dc(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function hc(e){return"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}var pc=n(9543);const fc=e=>{const n=t.useRef({});return t.useEffect((()=>{n.current=e})),n.current};function gc(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=e;return(e,a)=>{let{inputValue:l,getOptionLabel:c}=a,u=s?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=gc(u));const d=u?e.filter((e=>{let r=(i||c)(e);return n&&(r=r.toLowerCase()),t&&(r=gc(r)),"start"===o?0===r.indexOf(u):r.indexOf(u)>-1})):e;return"number"===typeof r?d.slice(0,r):d}}function vc(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const yc=mc(),bc=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function _c(n){const{unstable_isActiveElementInListbox:r=bc,unstable_classNamePrefix:o="Mui",autoComplete:i=!1,autoHighlight:s=!1,autoSelect:a=!1,blurOnSelect:l=!1,clearOnBlur:c=!n.freeSolo,clearOnEscape:u=!1,componentName:d="useAutocomplete",defaultValue:h=(n.multiple?[]:null),disableClearable:p=!1,disableCloseOnSelect:f=!1,disabled:g,disabledItemsFocusable:m=!1,disableListWrap:v=!1,filterOptions:y=yc,filterSelectedOptions:b=!1,freeSolo:_=!1,getOptionDisabled:w,getOptionKey:x,getOptionLabel:A=(e=>{var t;return null!=(t=e.label)?t:e}),groupBy:E,handleHomeEndKeys:S=!n.freeSolo,id:C,includeInputInList:M=!1,inputValue:R,isOptionEqualToValue:T=((e,t)=>e===t),multiple:P=!1,onChange:k,onClose:I,onHighlightChange:O,onInputChange:L,onOpen:N,open:F,openOnFocus:D=!1,options:B,readOnly:z=!1,selectOnFocus:j=!n.freeSolo,value:U}=n,G=(0,Yn.A)(C);let H=A;H=e=>{const t=A(e);return"string"!==typeof t?String(t):t};const V=t.useRef(!1),W=t.useRef(!0),X=t.useRef(null),q=t.useRef(null),[K,Y]=t.useState(null),[Z,Q]=t.useState(-1),$=s?0:-1,J=t.useRef($),[ee,te]=(0,pc.A)({controlled:U,default:h,name:d}),[ne,re]=(0,pc.A)({controlled:R,default:"",name:d,state:"inputValue"}),[oe,ie]=t.useState(!1),se=t.useCallback(((e,t)=>{if(!(P?ee.length<t.length:null!==t)&&!c)return;let n;if(P)n="";else if(null==t)n="";else{const e=H(t);n="string"===typeof e?e:""}ne!==n&&(re(n),L&&L(e,n,"reset"))}),[H,ne,P,L,re,c,ee]),[ae,le]=(0,pc.A)({controlled:F,default:!1,name:d,state:"open"}),[ce,ue]=t.useState(!0),de=!P&&null!=ee&&ne===H(ee),he=ae&&!z,pe=he?y(B.filter((e=>!b||!(P?ee:[ee]).some((t=>null!==t&&T(e,t))))),{inputValue:de&&ce?"":ne,getOptionLabel:H}):[],fe=fc({filteredOptions:pe,value:ee,inputValue:ne});t.useEffect((()=>{const e=ee!==fe.value;oe&&!e||_&&!e||se(null,ee)}),[ee,se,oe,fe.value,_]);const ge=ae&&pe.length>0&&!z;const me=(0,Re.A)((e=>{-1===e?X.current.focus():K.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));t.useEffect((()=>{P&&Z>ee.length-1&&(Q(-1),me(-1))}),[ee,P,Z,me]);const ve=(0,Re.A)((e=>{let{event:t,index:n,reason:r="auto"}=e;if(J.current=n,-1===n?X.current.removeAttribute("aria-activedescendant"):X.current.setAttribute("aria-activedescendant","".concat(G,"-option-").concat(n)),O&&O(t,-1===n?null:pe[n],r),!q.current)return;const i=q.current.querySelector('[role="option"].'.concat(o,"-focused"));i&&(i.classList.remove("".concat(o,"-focused")),i.classList.remove("".concat(o,"-focusVisible")));let s=q.current;if("listbox"!==q.current.getAttribute("role")&&(s=q.current.parentElement.querySelector('[role="listbox"]')),!s)return;if(-1===n)return void(s.scrollTop=0);const a=q.current.querySelector('[data-option-index="'.concat(n,'"]'));if(a&&(a.classList.add("".concat(o,"-focused")),"keyboard"===r&&a.classList.add("".concat(o,"-focusVisible")),s.scrollHeight>s.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=s.clientHeight+s.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?s.scrollTop=n-s.clientHeight:e.offsetTop-e.offsetHeight*(E?1.3:0)<s.scrollTop&&(s.scrollTop=e.offsetTop-e.offsetHeight*(E?1.3:0))}})),ye=(0,Re.A)((e=>{let{event:t,diff:n,direction:r="next",reason:o="auto"}=e;if(!he)return;const s=function(e,t){if(!q.current||e<0||e>=pe.length)return-1;let n=e;for(;;){const r=q.current.querySelector('[data-option-index="'.concat(n,'"]')),o=!m&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!o)return n;if(n="next"===t?(n+1)%pe.length:(n-1+pe.length)%pe.length,n===e)return-1}}((()=>{const e=pe.length-1;if("reset"===n)return $;if("start"===n)return 0;if("end"===n)return e;const t=J.current+n;return t<0?-1===t&&M?-1:v&&-1!==J.current||Math.abs(n)>1?0:e:t>e?t===e+1&&M?-1:v||Math.abs(n)>1?e:0:t})(),r);if(ve({index:s,reason:o,event:t}),i&&"reset"!==n)if(-1===s)X.current.value=ne;else{const e=H(pe[s]);X.current.value=e;0===e.toLowerCase().indexOf(ne.toLowerCase())&&ne.length>0&&X.current.setSelectionRange(ne.length,e.length)}})),be=t.useCallback((()=>{if(!he)return;const e=(()=>{if(-1!==J.current&&fe.filteredOptions&&fe.filteredOptions.length!==pe.length&&fe.inputValue===ne&&(P?ee.length===fe.value.length&&fe.value.every(((e,t)=>H(ee[t])===H(e))):(e=fe.value,t=ee,(e?H(e):"")===(t?H(t):"")))){const e=fe.filteredOptions[J.current];if(e)return vc(pe,(t=>H(t)===H(e)))}var e,t;return-1})();if(-1!==e)return void(J.current=e);const t=P?ee[0]:ee;if(0!==pe.length&&null!=t){if(q.current)if(null==t)J.current>=pe.length-1?ve({index:pe.length-1}):ve({index:J.current});else{const e=pe[J.current];if(P&&e&&-1!==vc(ee,(t=>T(e,t))))return;const n=vc(pe,(e=>T(e,t)));-1===n?ye({diff:"reset"}):ve({index:n})}}else ye({diff:"reset"})}),[pe.length,!P&&ee,b,ye,ve,he,ne,P]),_e=(0,Re.A)((e=>{(0,We.A)(q,e),e&&be()}));t.useEffect((()=>{be()}),[be]);const we=e=>{ae||(le(!0),ue(!0),N&&N(e))},xe=(e,t)=>{ae&&(le(!1),I&&I(e,t))},Ae=(e,t,n,r)=>{if(P){if(ee.length===t.length&&ee.every(((e,n)=>e===t[n])))return}else if(ee===t)return;k&&k(e,t,n,r),te(t)},Ee=t.useRef(!1),Se=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",o=t;if(P){o=Array.isArray(ee)?ee.slice():[];const e=vc(o,(e=>T(t,e)));-1===e?o.push(t):"freeSolo"!==n&&(o.splice(e,1),r="removeOption")}se(e,o),Ae(e,o,r,{option:t}),f||e&&(e.ctrlKey||e.metaKey)||xe(e,r),(!0===l||"touch"===l&&Ee.current||"mouse"===l&&!Ee.current)&&X.current.blur()};const Ce=(e,t)=>{if(!P)return;""===ne&&xe(e,"toggleInput");let n=Z;-1===Z?""===ne&&"previous"===t&&(n=ee.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===ee.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===ee.length||"previous"===t&&-1===n)return-1;const e=K.querySelector('[data-tag-index="'.concat(n,'"]'));if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Q(n),me(n)},Me=e=>{V.current=!0,re(""),L&&L(e,"","clear"),Ae(e,P?[]:null,"clear")},Te=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Z&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Q(-1),me(-1)),229!==t.which))switch(t.key){case"Home":he&&S&&(t.preventDefault(),ye({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":he&&S&&(t.preventDefault(),ye({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ye({diff:-5,direction:"previous",reason:"keyboard",event:t}),we(t);break;case"PageDown":t.preventDefault(),ye({diff:5,direction:"next",reason:"keyboard",event:t}),we(t);break;case"ArrowDown":t.preventDefault(),ye({diff:1,direction:"next",reason:"keyboard",event:t}),we(t);break;case"ArrowUp":t.preventDefault(),ye({diff:-1,direction:"previous",reason:"keyboard",event:t}),we(t);break;case"ArrowLeft":Ce(t,"previous");break;case"ArrowRight":Ce(t,"next");break;case"Enter":if(-1!==J.current&&he){const e=pe[J.current],n=!!w&&w(e);if(t.preventDefault(),n)return;Se(t,e,"selectOption"),i&&X.current.setSelectionRange(X.current.value.length,X.current.value.length)}else _&&""!==ne&&!1===de&&(P&&t.preventDefault(),Se(t,ne,"createOption","freeSolo"));break;case"Escape":he?(t.preventDefault(),t.stopPropagation(),xe(t,"escape")):u&&(""!==ne||P&&ee.length>0)&&(t.preventDefault(),t.stopPropagation(),Me(t));break;case"Backspace":if(P&&!z&&""===ne&&ee.length>0){const e=-1===Z?ee.length-1:Z,n=ee.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ee[e]})}break;case"Delete":if(P&&!z&&""===ne&&ee.length>0&&-1!==Z){const e=Z,n=ee.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ee[e]})}}},Pe=e=>{ie(!0),D&&!V.current&&we(e)},ke=e=>{r(q)?X.current.focus():(ie(!1),W.current=!0,V.current=!1,a&&-1!==J.current&&he?Se(e,pe[J.current],"blur"):a&&_&&""!==ne?Se(e,ne,"blur","freeSolo"):c&&se(e,ee),xe(e,"blur"))},Ie=e=>{const t=e.target.value;ne!==t&&(re(t),ue(!1),L&&L(e,t,"input")),""===t?p||P||Ae(e,null,"clear"):we(e)},Oe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));J.current!==t&&ve({event:e,index:t,reason:"mouse"})},Le=e=>{ve({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ee.current=!0},Ne=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Se(e,pe[t],"selectOption"),Ee.current=!1},Fe=e=>t=>{const n=ee.slice();n.splice(e,1),Ae(t,n,"removeOption",{option:ee[e]})},De=e=>{ae?xe(e,"toggleInput"):we(e)},Be=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==G&&e.preventDefault()},ze=e=>{e.currentTarget.contains(e.target)&&(X.current.focus(),j&&W.current&&X.current.selectionEnd-X.current.selectionStart===0&&X.current.select(),W.current=!1)},je=e=>{g||""!==ne&&ae||De(e)};let Ue=_&&ne.length>0;Ue=Ue||(P?ee.length>0:null!==ee);let Ge=pe;if(E){new Map;Ge=pe.reduce(((e,t,n)=>{const r=E(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return g&&oe&&ke(),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,e.A)({"aria-owns":ge?"".concat(G,"-listbox"):null},t,{onKeyDown:Te(t),onMouseDown:Be,onClick:ze})},getInputLabelProps:()=>({id:"".concat(G,"-label"),htmlFor:G}),getInputProps:()=>({id:G,value:ne,onBlur:ke,onFocus:Pe,onChange:Ie,onMouseDown:je,"aria-activedescendant":he?"":null,"aria-autocomplete":i?"both":"list","aria-controls":ge?"".concat(G,"-listbox"):void 0,"aria-expanded":ge,autoComplete:"off",ref:X,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:g}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Me}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:De}),getTagProps:t=>{let{index:n}=t;return(0,e.A)({key:n,"data-tag-index":n,tabIndex:-1},!z&&{onDelete:Fe(n)})},getListboxProps:()=>({role:"listbox",id:"".concat(G,"-listbox"),"aria-labelledby":"".concat(G,"-label"),ref:_e,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;var r;const o=(P?ee:[ee]).some((e=>null!=e&&T(n,e))),i=!!w&&w(n);return{key:null!=(r=null==x?void 0:x(n))?r:H(n),tabIndex:-1,role:"option",id:"".concat(G,"-option-").concat(t),onMouseMove:Oe,onClick:Ne,onTouchStart:Le,"data-option-index":t,"aria-disabled":i,"aria-selected":o}},id:G,inputValue:ne,value:ee,dirty:Ue,expanded:he&&K,popupOpen:he,focused:oe||-1!==Z,anchorEl:K,setAnchorEl:Y,focusedTag:Z,groupedOptions:Ge}}function wc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xc(e){return e instanceof wc(e).Element||e instanceof Element}function Ac(e){return e instanceof wc(e).HTMLElement||e instanceof HTMLElement}function Ec(e){return"undefined"!==typeof ShadowRoot&&(e instanceof wc(e).ShadowRoot||e instanceof ShadowRoot)}var Sc=Math.max,Cc=Math.min,Mc=Math.round;function Rc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Tc(){return!/^((?!chrome|android).)*safari/i.test(Rc())}function Pc(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Ac(e)&&(o=e.offsetWidth>0&&Mc(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Mc(r.height)/e.offsetHeight||1);var s=(xc(e)?wc(e):window).visualViewport,a=!Tc()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function kc(e){var t=wc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ic(e){return e?(e.nodeName||"").toLowerCase():null}function Oc(e){return((xc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lc(e){return Pc(Oc(e)).left+kc(e).scrollLeft}function Nc(e){return wc(e).getComputedStyle(e)}function Fc(e){var t=Nc(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Dc(e,t,n){void 0===n&&(n=!1);var r=Ac(t),o=Ac(t)&&function(e){var t=e.getBoundingClientRect(),n=Mc(t.width)/e.offsetWidth||1,r=Mc(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=Oc(t),s=Pc(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ic(t)||Fc(i))&&(a=function(e){return e!==wc(e)&&Ac(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:kc(e);var t}(t)),Ac(t)?((l=Pc(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Lc(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Bc(e){var t=Pc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zc(e){return"html"===Ic(e)?e:e.assignedSlot||e.parentNode||(Ec(e)?e.host:null)||Oc(e)}function jc(e){return["html","body","#document"].indexOf(Ic(e))>=0?e.ownerDocument.body:Ac(e)&&Fc(e)?e:jc(zc(e))}function Uc(e,t){var n;void 0===t&&(t=[]);var r=jc(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=wc(r),s=o?[i].concat(i.visualViewport||[],Fc(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Uc(zc(s)))}function Gc(e){return["table","td","th"].indexOf(Ic(e))>=0}function Hc(e){return Ac(e)&&"fixed"!==Nc(e).position?e.offsetParent:null}function Vc(e){for(var t=wc(e),n=Hc(e);n&&Gc(n)&&"static"===Nc(n).position;)n=Hc(n);return n&&("html"===Ic(n)||"body"===Ic(n)&&"static"===Nc(n).position)?t:n||function(e){var t=/firefox/i.test(Rc());if(/Trident/i.test(Rc())&&Ac(e)&&"fixed"===Nc(e).position)return null;var n=zc(e);for(Ec(n)&&(n=n.host);Ac(n)&&["html","body"].indexOf(Ic(n))<0;){var r=Nc(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Wc="top",Xc="bottom",qc="right",Kc="left",Yc="auto",Zc=[Wc,Xc,qc,Kc],Qc="start",$c="end",Jc="clippingParents",eu="viewport",tu="popper",nu="reference",ru=Zc.reduce((function(e,t){return e.concat([t+"-"+Qc,t+"-"+$c])}),[]),ou=[].concat(Zc,[Yc]).reduce((function(e,t){return e.concat([t,t+"-"+Qc,t+"-"+$c])}),[]),iu=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function su(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function au(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var lu={placement:"bottom",modifiers:[],strategy:"absolute"};function cu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function uu(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?lu:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},lu,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:xc(e)?Uc(e):e.contextElement?Uc(e.contextElement):[],popper:Uc(t)};var u=function(e){var t=su(e);return iu.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(cu(t,n)){o.rects={reference:Dc(t,Vc(n),"fixed"===o.options.strategy),popper:Bc(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:au((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!cu(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var du={passive:!0};function hu(e){return e.split("-")[0]}function pu(e){return e.split("-")[1]}function fu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gu(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?hu(o):null,s=o?pu(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case Wc:t={x:a,y:n.y-r.height};break;case Xc:t={x:a,y:n.y+n.height};break;case qc:t={x:n.x+n.width,y:l};break;case Kc:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?fu(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Qc:t[c]=t[c]-(n[u]/2-r[u]/2);break;case $c:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var mu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vu(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,g=void 0===f?0:f,m="function"===typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Kc,_=Wc,w=window;if(c){var x=Vc(n),A="clientHeight",E="clientWidth";if(x===wc(n)&&"static"!==Nc(x=Oc(n)).position&&"absolute"===a&&(A="scrollHeight",E="scrollWidth"),o===Wc||(o===Kc||o===qc)&&i===$c)_=Xc,g-=(d&&x===w&&w.visualViewport?w.visualViewport.height:x[A])-r.height,g*=l?1:-1;if(o===Kc||(o===Wc||o===Xc)&&i===$c)b=qc,p-=(d&&x===w&&w.visualViewport?w.visualViewport.width:x[E])-r.width,p*=l?1:-1}var S,C=Object.assign({position:a},c&&mu),M=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Mc(n*o)/o||0,y:Mc(r*o)/o||0}}({x:p,y:g},wc(n)):{x:p,y:g};return p=M.x,g=M.y,l?Object.assign({},C,((S={})[_]=y?"0":"",S[b]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",S)):Object.assign({},C,((t={})[_]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const yu={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Ac(o)&&Ic(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ac(r)&&Ic(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const bu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=ou.reduce((function(e,n){return e[n]=function(e,t,n){var r=hu(e),o=[Kc,Wc].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Kc,qc].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var _u={left:"right",right:"left",bottom:"top",top:"bottom"};function wu(e){return e.replace(/left|right|bottom|top/g,(function(e){return _u[e]}))}var xu={start:"end",end:"start"};function Au(e){return e.replace(/start|end/g,(function(e){return xu[e]}))}function Eu(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ec(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Su(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cu(e,t,n){return t===eu?Su(function(e,t){var n=wc(e),r=Oc(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=Tc();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+Lc(e),y:l}}(e,n)):xc(t)?function(e,t){var n=Pc(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Su(function(e){var t,n=Oc(e),r=kc(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Sc(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Sc(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Lc(e),l=-r.scrollTop;return"rtl"===Nc(o||n).direction&&(a+=Sc(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(Oc(e)))}function Mu(e,t,n,r){var o="clippingParents"===t?function(e){var t=Uc(zc(e)),n=["absolute","fixed"].indexOf(Nc(e).position)>=0&&Ac(e)?Vc(e):e;return xc(n)?t.filter((function(e){return xc(e)&&Eu(e,n)&&"body"!==Ic(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=Cu(e,n,r);return t.top=Sc(o.top,t.top),t.right=Cc(o.right,t.right),t.bottom=Cc(o.bottom,t.bottom),t.left=Sc(o.left,t.left),t}),Cu(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ru(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Tu(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Pu(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?Jc:a,c=n.rootBoundary,u=void 0===c?eu:c,d=n.elementContext,h=void 0===d?tu:d,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,v=Ru("number"!==typeof m?m:Tu(m,Zc)),y=h===tu?nu:tu,b=e.rects.popper,_=e.elements[f?y:h],w=Mu(xc(_)?_:_.contextElement||Oc(e.elements.popper),l,u,s),x=Pc(e.elements.reference),A=gu({reference:x,element:b,strategy:"absolute",placement:o}),E=Su(Object.assign({},b,A)),S=h===tu?E:x,C={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},M=e.modifiersData.offset;if(h===tu&&M){var R=M[o];Object.keys(C).forEach((function(e){var t=[qc,Xc].indexOf(e)>=0?1:-1,n=[Wc,Xc].indexOf(e)>=0?"y":"x";C[e]+=R[n]*t}))}return C}const ku={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=hu(m),y=l||(v===m||!f?[wu(m)]:function(e){if(hu(e)===Yc)return[];var t=wu(e);return[Au(e),t,Au(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(hu(n)===Yc?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ou:l,u=pu(r),d=u?a?ru:ru.filter((function(e){return pu(e)===u})):Zc,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Pu(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[hu(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,w=t.rects.popper,x=new Map,A=!0,E=b[0],S=0;S<b.length;S++){var C=b[S],M=hu(C),R=pu(C)===Qc,T=[Wc,Xc].indexOf(M)>=0,P=T?"width":"height",k=Pu(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),I=T?R?qc:Kc:R?Xc:Wc;_[P]>w[P]&&(I=wu(I));var O=wu(I),L=[];if(i&&L.push(k[M]<=0),a&&L.push(k[I]<=0,k[O]<=0),L.every((function(e){return e}))){E=C,A=!1;break}x.set(C,L)}if(A)for(var N=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},F=f?3:1;F>0;F--){if("break"===N(F))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Iu(e,t,n){return Sc(e,Cc(t,n))}const Ou={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,g=void 0===f?0:f,m=Pu(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=hu(t.placement),y=pu(t.placement),b=!y,_=fu(v),w="x"===_?"y":"x",x=t.modifiersData.popperOffsets,A=t.rects.reference,E=t.rects.popper,S="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,C="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(x){if(i){var T,P="y"===_?Wc:Kc,k="y"===_?Xc:qc,I="y"===_?"height":"width",O=x[_],L=O+m[P],N=O-m[k],F=p?-E[I]/2:0,D=y===Qc?A[I]:E[I],B=y===Qc?-E[I]:-A[I],z=t.elements.arrow,j=p&&z?Bc(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G=U[P],H=U[k],V=Iu(0,A[I],j[I]),W=b?A[I]/2-F-V-G-C.mainAxis:D-V-G-C.mainAxis,X=b?-A[I]/2+F+V+H+C.mainAxis:B+V+H+C.mainAxis,q=t.elements.arrow&&Vc(t.elements.arrow),K=q?"y"===_?q.clientTop||0:q.clientLeft||0:0,Y=null!=(T=null==M?void 0:M[_])?T:0,Z=O+X-Y,Q=Iu(p?Cc(L,O+W-Y-K):L,O,p?Sc(N,Z):N);x[_]=Q,R[_]=Q-O}if(a){var $,J="x"===_?Wc:Kc,ee="x"===_?Xc:qc,te=x[w],ne="y"===w?"height":"width",re=te+m[J],oe=te-m[ee],ie=-1!==[Wc,Kc].indexOf(v),se=null!=($=null==M?void 0:M[w])?$:0,ae=ie?re:te-A[ne]-E[ne]-se+C.altAxis,le=ie?te+A[ne]+E[ne]-se-C.altAxis:oe,ce=p&&ie?function(e,t,n){var r=Iu(e,t,n);return r>n?n:r}(ae,te,le):Iu(p?ae:re,te,p?le:oe);x[w]=ce,R[w]=ce-te}t.modifiersData[r]=R}},requiresIfExists:["offset"]};const Lu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=hu(n.placement),l=fu(a),c=[Kc,qc].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return Ru("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Tu(e,Zc))}(o.padding,n),d=Bc(i),h="y"===l?Wc:Kc,p="y"===l?Xc:qc,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],g=s[l]-n.rects.reference[l],m=Vc(i),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,b=u[h],_=v-d[c]-u[p],w=v/2-d[c]/2+y,x=Iu(b,w,_),A=l;n.modifiersData[r]=((t={})[A]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Eu(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nu(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Fu(e){return[Wc,qc,Xc,Kc].some((function(t){return e[t]>=0}))}var Du=uu({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=wc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,du)})),a&&l.addEventListener("resize",n.update,du),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,du)})),a&&l.removeEventListener("resize",n.update,du)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=gu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:hu(t.placement),variation:pu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,vu(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,vu(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},yu,bu,ku,Ou,Lu,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Pu(t,{elementContext:"reference"}),a=Pu(t,{altBoundary:!0}),l=Nu(s,r),c=Nu(a,o,i),u=Fu(l),d=Fu(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const Bu="base";function zu(e,t){const n=z.li[t];return n?(r=n,"".concat(Bu,"--").concat(r)):function(e,t){return"".concat(Bu,"-").concat(e,"-").concat(t)}(e,t);var r}const ju="Popper";function Uu(e){return zu(ju,e)}!function(e,t){const n={};t.forEach((t=>{n[t]=zu(e,t)}))}(ju,["root"]);const Gu={disableDefaultClasses:!1},Hu=t.createContext(Gu);const Vu=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Wu=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xu(e){return"function"===typeof e?e():e}function qu(e){return void 0!==e.nodeType}const Ku=()=>(0,L.A)({root:["root"]},function(e){const{disableDefaultClasses:n}=t.useContext(Hu);return t=>n?"":e(t)}(Uu)),Yu={},Zu=t.forwardRef((function(n,r){var o;const{anchorEl:i,children:a,direction:l,disablePortal:c,modifiers:u,open:d,placement:h,popperOptions:p,popperRef:g,slotProps:m={},slots:v={},TransitionProps:y}=n,b=(0,f.A)(n,Vu),_=t.useRef(null),w=(0,ye.A)(_,r),x=t.useRef(null),A=(0,ye.A)(x,g),E=t.useRef(A);(0,Ve.A)((()=>{E.current=A}),[A]),t.useImperativeHandle(g,(()=>x.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,l),[C,M]=t.useState(S),[R,T]=t.useState(Xu(i));t.useEffect((()=>{x.current&&x.current.forceUpdate()})),t.useEffect((()=>{i&&T(Xu(i))}),[i]),(0,Ve.A)((()=>{if(!R||!d)return;let t=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;M(t.placement)}}];null!=u&&(t=t.concat(u)),p&&null!=p.modifiers&&(t=t.concat(p.modifiers));const n=Du(R,_.current,(0,e.A)({placement:S},p,{modifiers:t}));return E.current(n),()=>{n.destroy(),E.current(null)}}),[R,c,u,d,p,S]);const P={placement:C};null!==y&&(P.TransitionProps=y);const k=Ku(),I=null!=(o=v.root)?o:"div",O=Ce({elementType:I,externalSlotProps:m.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:w},ownerState:n,className:k.root});return(0,s.jsx)(I,(0,e.A)({},O,{children:"function"===typeof a?a(P):a}))})),Qu=t.forwardRef((function(n,r){const{anchorEl:o,children:i,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:g=Yu,popperRef:m,style:v,transition:y=!1,slotProps:b={},slots:_={}}=n,w=(0,f.A)(n,Wu),[x,A]=t.useState(!0);if(!u&&!h&&(!y||x))return null;let E;if(a)E=a;else if(o){const e=Xu(o);E=e&&qu(e)?(0,Me.A)(e).body:(0,Me.A)(null).body}const S=h||!u||y&&!x?void 0:"none",C=y?{in:h,onEnter:()=>{A(!1)},onExited:()=>{A(!0)}}:void 0;return(0,s.jsx)(Xe,{disablePortal:c,container:E,children:(0,s.jsx)(Zu,(0,e.A)({anchorEl:o,direction:l,disablePortal:c,modifiers:d,ref:r,open:y?!x:h,placement:p,popperOptions:g,popperRef:m,slotProps:b,slots:_},w,{style:(0,e.A)({position:"fixed",top:0,left:0,display:S},v),TransitionProps:C,children:i}))})}));var $u=n(5329);const Ju=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ed=(0,N.Ay)(Qu,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),td=t.forwardRef((function(t,n){var o;const i=(0,$u.A)(),a=(0,r.A)({props:t,name:"MuiPopper"}),{anchorEl:l,component:c,components:u,componentsProps:d,container:h,disablePortal:p,keepMounted:g,modifiers:m,open:v,placement:y,popperOptions:b,popperRef:_,transition:w,slots:x,slotProps:A}=a,E=(0,f.A)(a,Ju),S=null!=(o=null==x?void 0:x.root)?o:null==u?void 0:u.Root,C=(0,e.A)({anchorEl:l,container:h,disablePortal:p,keepMounted:g,modifiers:m,open:v,placement:y,popperOptions:b,popperRef:_,transition:w},E);return(0,s.jsx)(ed,(0,e.A)({as:c,direction:null==i?void 0:i.direction,slots:{root:S},slotProps:null!=A?A:d},C,{ref:n}))})),nd=td;function rd(e){return(0,z.Ay)("MuiListSubheader",e)}(0,B.A)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const od=["className","color","component","disableGutters","disableSticky","inset"],id=(0,N.Ay)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,ne.A)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14)},"primary"===r.color&&{color:(n.vars||n).palette.primary.main},"inherit"===r.color&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper})})),sd=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:l="li",disableGutters:c=!1,disableSticky:u=!1,inset:d=!1}=o,h=(0,f.A)(o,od),p=(0,e.A)({},o,{color:a,component:l,disableGutters:c,disableSticky:u,inset:d}),g=(e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e,s={root:["root","default"!==n&&"color".concat((0,ne.A)(n)),!r&&"gutters",o&&"inset",!i&&"sticky"]};return(0,L.A)(s,rd,t)})(p);return(0,s.jsx)(id,(0,e.A)({as:l,className:(0,O.A)(g.root,i),ref:n,ownerState:p},h))}));sd.muiSkipListHighlight=!0;const ad=sd,ld=(0,_i.A)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function cd(e){return(0,z.Ay)("MuiChip",e)}const ud=(0,B.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dd=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],hd=(0,N.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(ud.avatar)]:t.avatar},{["& .".concat(ud.avatar)]:t["avatar".concat((0,ne.A)(a))]},{["& .".concat(ud.avatar)]:t["avatarColor".concat((0,ne.A)(r))]},{["& .".concat(ud.icon)]:t.icon},{["& .".concat(ud.icon)]:t["icon".concat((0,ne.A)(a))]},{["& .".concat(ud.icon)]:t["iconColor".concat((0,ne.A)(o))]},{["& .".concat(ud.deleteIcon)]:t.deleteIcon},{["& .".concat(ud.deleteIcon)]:t["deleteIcon".concat((0,ne.A)(a))]},{["& .".concat(ud.deleteIcon)]:t["deleteIconColor".concat((0,ne.A)(r))]},{["& .".concat(ud.deleteIcon)]:t["deleteIcon".concat((0,ne.A)(l),"Color").concat((0,ne.A)(r))]},t.root,t["size".concat((0,ne.A)(a))],t["color".concat((0,ne.A)(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat((0,ne.A)(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat((0,ne.A)(r))],t[l],t["".concat(l).concat((0,ne.A)(r))]]}})((t=>{let{theme:n,ownerState:r}=t;const o="light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300];return(0,e.A)({maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(ud.disabled)]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(ud.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:o,fontSize:n.typography.pxToRem(12)},["& .".concat(ud.avatarColorPrimary)]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},["& .".concat(ud.avatarColorSecondary)]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},["& .".concat(ud.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},["& .".concat(ud.icon)]:(0,e.A)({marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},r.iconColor===r.color&&(0,e.A)({color:n.vars?n.vars.palette.Chip.defaultIconColor:o},"default"!==r.color&&{color:"inherit"})),["& .".concat(ud.deleteIcon)]:(0,e.A)({WebkitTapHighlightColor:"transparent",color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.26)"):(0,F.X4)(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.4)"):(0,F.X4)(n.palette.text.primary,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:n.vars?"rgba(".concat(n.vars.palette[r.color].contrastTextChannel," / 0.7)"):(0,F.X4)(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[r.color].contrastText}})},"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:(n.vars||n).palette[r.color].main,color:(n.vars||n).palette[r.color].contrastText},r.onDelete&&{["&.".concat(ud.focusVisible)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,F.X4)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},r.onDelete&&"default"!==r.color&&{["&.".concat(ud.focusVisible)]:{backgroundColor:(n.vars||n).palette[r.color].dark}})}),(t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},r.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,F.X4)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},["&.".concat(ud.focusVisible)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,F.X4)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}},r.clickable&&"default"!==r.color&&{["&:hover, &.".concat(ud.focusVisible)]:{backgroundColor:(n.vars||n).palette[r.color].dark}})}),(t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},"outlined"===r.variant&&{backgroundColor:"transparent",border:n.vars?"1px solid ".concat(n.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[700]),["&.".concat(ud.clickable,":hover")]:{backgroundColor:(n.vars||n).palette.action.hover},["&.".concat(ud.focusVisible)]:{backgroundColor:(n.vars||n).palette.action.focus},["& .".concat(ud.avatar)]:{marginLeft:4},["& .".concat(ud.avatarSmall)]:{marginLeft:2},["& .".concat(ud.icon)]:{marginLeft:4},["& .".concat(ud.iconSmall)]:{marginLeft:2},["& .".concat(ud.deleteIcon)]:{marginRight:5},["& .".concat(ud.deleteIconSmall)]:{marginRight:3}},"outlined"===r.variant&&"default"!==r.color&&{color:(n.vars||n).palette[r.color].main,border:"1px solid ".concat(n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / 0.7)"):(0,F.X4)(n.palette[r.color].main,.7)),["&.".concat(ud.clickable,":hover")]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)(n.palette[r.color].main,n.palette.action.hoverOpacity)},["&.".concat(ud.focusVisible)]:{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.focusOpacity,")"):(0,F.X4)(n.palette[r.color].main,n.palette.action.focusOpacity)},["& .".concat(ud.deleteIcon)]:{color:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / 0.7)"):(0,F.X4)(n.palette[r.color].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[r.color].main}}})})),pd=(0,N.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat((0,ne.A)(r))]]}})((t=>{let{ownerState:n}=t;return(0,e.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===n.variant&&{paddingLeft:11,paddingRight:11},"small"===n.size&&{paddingLeft:8,paddingRight:8},"small"===n.size&&"outlined"===n.variant&&{paddingLeft:7,paddingRight:7})}));function fd(e){return"Backspace"===e.key||"Delete"===e.key}const gd=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiChip"}),{avatar:a,className:l,clickable:c,color:u="default",component:d,deleteIcon:h,disabled:p=!1,icon:g,label:m,onClick:v,onDelete:y,onKeyDown:b,onKeyUp:_,size:w="medium",variant:x="filled",tabIndex:A,skipFocusWhenDisabled:E=!1}=i,S=(0,f.A)(i,dd),C=t.useRef(null),M=(0,lt.A)(C,o),R=e=>{e.stopPropagation(),y&&y(e)},T=!(!1===c||!v)||c,P=T||y?In:d||"div",k=(0,e.A)({},i,{component:P,disabled:p,size:w,color:u,iconColor:t.isValidElement(g)&&g.props.color||u,onDelete:!!y,clickable:T,variant:x}),I=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled","size".concat((0,ne.A)(r)),"color".concat((0,ne.A)(o)),a&&"clickable",a&&"clickableColor".concat((0,ne.A)(o)),s&&"deletable",s&&"deletableColor".concat((0,ne.A)(o)),"".concat(l).concat((0,ne.A)(o))],label:["label","label".concat((0,ne.A)(r))],avatar:["avatar","avatar".concat((0,ne.A)(r)),"avatarColor".concat((0,ne.A)(o))],icon:["icon","icon".concat((0,ne.A)(r)),"iconColor".concat((0,ne.A)(i))],deleteIcon:["deleteIcon","deleteIcon".concat((0,ne.A)(r)),"deleteIconColor".concat((0,ne.A)(o)),"deleteIcon".concat((0,ne.A)(l),"Color").concat((0,ne.A)(o))]};return(0,L.A)(c,cd,t)})(k),N=P===In?(0,e.A)({component:d||"div",focusVisibleClassName:I.focusVisible},y&&{disableRipple:!0}):{};let F=null;y&&(F=h&&t.isValidElement(h)?t.cloneElement(h,{className:(0,O.A)(h.props.className,I.deleteIcon),onClick:R}):(0,s.jsx)(ld,{className:(0,O.A)(I.deleteIcon),onClick:R}));let D=null;a&&t.isValidElement(a)&&(D=t.cloneElement(a,{className:(0,O.A)(I.avatar,a.props.className)}));let B=null;return g&&t.isValidElement(g)&&(B=t.cloneElement(g,{className:(0,O.A)(I.icon,g.props.className)})),(0,s.jsxs)(hd,(0,e.A)({as:P,className:(0,O.A)(I.root,l),disabled:!(!T||!p)||void 0,onClick:v,onKeyDown:e=>{e.currentTarget===e.target&&fd(e)&&e.preventDefault(),b&&b(e)},onKeyUp:e=>{e.currentTarget===e.target&&(y&&fd(e)?y(e):"Escape"===e.key&&C.current&&C.current.blur()),_&&_(e)},ref:M,tabIndex:E&&p?-1:A,ownerState:k},N,S,{children:[D||B,(0,s.jsx)(pd,{className:(0,O.A)(I.label),ownerState:k,children:m}),F]}))})),md=gd;function vd(e){return(0,z.Ay)("MuiAutocomplete",e)}const yd=(0,B.A)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var bd,_d;const wd=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],xd=["ref"],Ad=ss(),Ed=(0,N.Ay)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{["& .".concat(yd.tag)]:t.tag},{["& .".concat(yd.tag)]:t["tagSize".concat((0,ne.A)(a))]},{["& .".concat(yd.inputRoot)]:t.inputRoot},{["& .".concat(yd.input)]:t.input},{["& .".concat(yd.input)]:s&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({["&.".concat(yd.focused," .").concat(yd.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(yd.clearIndicator)]:{visibility:"visible"}},["& .".concat(yd.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(yd.inputRoot)]:{flexWrap:"wrap",[".".concat(yd.hasPopupIcon,"&, .").concat(yd.hasClearIcon,"&")]:{paddingRight:30},[".".concat(yd.hasPopupIcon,".").concat(yd.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(yd.input)]:{width:0,minWidth:30}},["& .".concat(br.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(br.root,".").concat(cr.sizeSmall)]:{["& .".concat(br.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(Dr.root)]:{padding:9,[".".concat(yd.hasPopupIcon,"&, .").concat(yd.hasClearIcon,"&")]:{paddingRight:39},[".".concat(yd.hasPopupIcon,".").concat(yd.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(yd.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(yd.endAdornment)]:{right:9}},["& .".concat(Dr.root,".").concat(cr.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(yd.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(Cr.root)]:{paddingTop:19,paddingLeft:8,[".".concat(yd.hasPopupIcon,"&, .").concat(yd.hasClearIcon,"&")]:{paddingRight:39},[".".concat(yd.hasPopupIcon,".").concat(yd.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(Cr.input)]:{padding:"7px 4px"},["& .".concat(yd.endAdornment)]:{right:9}},["& .".concat(Cr.root,".").concat(cr.sizeSmall)]:{paddingBottom:1,["& .".concat(Cr.input)]:{padding:"2.5px 4px"}},["& .".concat(cr.hiddenLabel)]:{paddingTop:8},["& .".concat(Cr.root,".").concat(cr.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(yd.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(Cr.root,".").concat(cr.hiddenLabel,".").concat(cr.sizeSmall)]:{["& .".concat(yd.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(yd.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(yd.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(yd.input)]:{opacity:1}}}]}),Sd=(0,N.Ay)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Cd=(0,N.Ay)(ys,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Md=(0,N.Ay)(ys,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,n)=>{let{ownerState:r}=t;return(0,e.A)({},n.popupIndicator,r.popupOpen&&n.popupIndicatorOpen)}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Rd=(0,N.Ay)(nd,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(yd.option)]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),Td=(0,N.Ay)(V,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((t=>{let{theme:n}=t;return(0,e.A)({},n.typography.body1,{overflow:"auto"})})),Pd=(0,N.Ay)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),kd=(0,N.Ay)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Id=(0,N.Ay)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(yd.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(yd.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(yd.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(yd.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(yd.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}})),Od=(0,N.Ay)(ad,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),Ld=(0,N.Ay)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,["& .".concat(yd.option)]:{paddingLeft:24}}),Nd=t.forwardRef((function(n,r){var o,i,a,l;const c=Ad({props:n,name:"MuiAutocomplete"}),{autoComplete:u=!1,autoHighlight:d=!1,autoSelect:h=!1,blurOnSelect:p=!1,ChipProps:g,className:m,clearIcon:v=bd||(bd=(0,s.jsx)(As,{fontSize:"small"})),clearOnBlur:y=!c.freeSolo,clearOnEscape:b=!1,clearText:_="Clear",closeText:w="Close",componentsProps:x={},defaultValue:A=(c.multiple?[]:null),disableClearable:E=!1,disableCloseOnSelect:S=!1,disabled:C=!1,disabledItemsFocusable:M=!1,disableListWrap:R=!1,disablePortal:T=!1,filterSelectedOptions:P=!1,forcePopupIcon:k="auto",freeSolo:I=!1,fullWidth:N=!1,getLimitTagsText:F=(e=>"+".concat(e)),getOptionLabel:D,groupBy:B,handleHomeEndKeys:z=!c.freeSolo,includeInputInList:j=!1,limitTags:U=-1,ListboxComponent:G="ul",ListboxProps:H,loading:W=!1,loadingText:X="Loading\u2026",multiple:q=!1,noOptionsText:K="No options",openOnFocus:Y=!1,openText:Z="Open",PaperComponent:Q=V,PopperComponent:$=nd,popupIcon:J=_d||(_d=(0,s.jsx)(wi,{})),readOnly:ee=!1,renderGroup:te,renderInput:re,renderOption:oe,renderTags:ie,selectOnFocus:se=!c.freeSolo,size:ae="medium",slotProps:le={}}=c,ce=(0,f.A)(c,wd),{getRootProps:ue,getInputProps:de,getInputLabelProps:he,getPopupIndicatorProps:pe,getClearProps:fe,getTagProps:ge,getListboxProps:me,getOptionProps:ve,value:ye,dirty:be,expanded:_e,id:we,popupOpen:xe,focused:Ae,focusedTag:Ee,anchorEl:Se,setAnchorEl:Ce,inputValue:Me,groupedOptions:Re}=_c((0,e.A)({},c,{componentName:"Autocomplete"})),Te=!E&&!C&&be&&!ee,Pe=(!I||!0===k)&&!1!==k,{onMouseDown:ke}=de(),{ref:Ie}=null!=H?H:{},Oe=me(),{ref:Le}=Oe,Ne=(0,f.A)(Oe,xd),Fe=(0,lt.A)(Le,Ie),De=D||(e=>{var t;return null!=(t=e.label)?t:e}),Be=(0,e.A)({},c,{disablePortal:T,expanded:_e,focused:Ae,fullWidth:N,getOptionLabel:De,hasClearIcon:Te,hasPopupIcon:Pe,inputFocused:-1===Ee,popupOpen:xe,size:ae}),ze=(e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat((0,ne.A)(u))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,L.A)(d,vd,t)})(Be);let je;if(q&&ye.length>0){const t=t=>(0,e.A)({className:ze.tag,disabled:C},ge(t));je=ie?ie(ye,t,Be):ye.map(((n,r)=>(0,s.jsx)(md,(0,e.A)({label:De(n),size:ae},t({index:r}),g))))}if(U>-1&&Array.isArray(je)){const e=je.length-U;!Ae&&e>0&&(je=je.splice(0,U),je.push((0,s.jsx)("span",{className:ze.tag,children:F(e)},je.length)))}const Ue=te||(e=>(0,s.jsxs)("li",{children:[(0,s.jsx)(Od,{className:ze.groupLabel,ownerState:Be,component:"div",children:e.group}),(0,s.jsx)(Ld,{className:ze.groupUl,ownerState:Be,children:e.children})]},e.key)),Ge=oe||((n,r)=>(0,t.createElement)("li",(0,e.A)({},n,{key:n.key}),De(r))),He=(t,n)=>{const r=ve({option:t,index:n});return Ge((0,e.A)({},r,{className:ze.option}),t,{selected:r["aria-selected"],index:n,inputValue:Me},Be)},Ve=null!=(o=le.clearIndicator)?o:x.clearIndicator,We=null!=(i=le.paper)?i:x.paper,Xe=null!=(a=le.popper)?a:x.popper,qe=null!=(l=le.popupIndicator)?l:x.popupIndicator,Ke=t=>(0,s.jsx)(Rd,(0,e.A)({as:$,disablePortal:T,style:{width:Se?Se.clientWidth:null},ownerState:Be,role:"presentation",anchorEl:Se,open:xe},Xe,{className:(0,O.A)(ze.popper,null==Xe?void 0:Xe.className),children:(0,s.jsx)(Td,(0,e.A)({ownerState:Be,as:Q},We,{className:(0,O.A)(ze.paper,null==We?void 0:We.className),children:t}))}));let Ye=null;return Re.length>0?Ye=Ke((0,s.jsx)(Id,(0,e.A)({as:G,className:ze.listbox,ownerState:Be},Ne,H,{ref:Fe,children:Re.map(((e,t)=>B?Ue({key:e.key,group:e.group,children:e.options.map(((t,n)=>He(t,e.index+n)))}):He(e,t)))}))):W&&0===Re.length?Ye=Ke((0,s.jsx)(Pd,{className:ze.loading,ownerState:Be,children:X})):0!==Re.length||I||W||(Ye=Ke((0,s.jsx)(kd,{className:ze.noOptions,ownerState:Be,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:K}))),(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(Ed,(0,e.A)({ref:r,className:(0,O.A)(ze.root,m),ownerState:Be},ue(ce),{children:re({id:we,disabled:C,fullWidth:!0,size:"small"===ae?"small":void 0,InputLabelProps:he(),InputProps:(0,e.A)({ref:Ce,className:ze.inputRoot,startAdornment:je,onClick:e=>{e.target===e.currentTarget&&ke(e)}},(Te||Pe)&&{endAdornment:(0,s.jsxs)(Sd,{className:ze.endAdornment,ownerState:Be,children:[Te?(0,s.jsx)(Cd,(0,e.A)({},fe(),{"aria-label":_,title:_,ownerState:Be},Ve,{className:(0,O.A)(ze.clearIndicator,null==Ve?void 0:Ve.className),children:v})):null,Pe?(0,s.jsx)(Md,(0,e.A)({},pe(),{disabled:C,"aria-label":xe?w:Z,title:xe?w:Z,ownerState:Be},qe,{className:(0,O.A)(ze.popupIndicator,null==qe?void 0:qe.className),children:J})):null]})}),inputProps:(0,e.A)({className:ze.input,disabled:C,readOnly:ee},de())})})),Se?Ye:null]})})),Fd=Nd,Dd=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function Bd(n){const{item:r,applyValue:o,type:i,apiRef:a,focusElementRef:l,color:c,error:u,helperText:d,size:h,variant:p}=n,g=(0,f.A)(n,Dd),m={color:c,error:u,helperText:d,size:h,variant:p},[v,y]=t.useState(r.value||[]),b=(0,Yn.A)(),_=ta();t.useEffect((()=>{var e;const t=null!==(e=r.value)&&void 0!==e?e:[];y(t.map(String))}),[r.value]);const w=t.useCallback(((t,n)=>{y(n.map(String)),o((0,e.A)({},r,{value:[...n]}))}),[o,r]);return(0,s.jsx)(Fd,(0,e.A)({multiple:!0,freeSolo:!0,options:[],filterOptions:(e,t)=>{const{inputValue:n}=t;return null==n||""===n?[]:[n]},id:b,value:v,onChange:w,renderTags:(t,n)=>t.map(((t,r)=>(0,s.jsx)(_.slots.baseChip,(0,e.A)({variant:"outlined",size:"small",label:t},n({index:r}))))),renderInput:t=>{var n;return(0,s.jsx)(_.slots.baseTextField,(0,e.A)({},t,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,e.A)({},t.InputLabelProps,{shrink:!0}),inputRef:l,type:i||"text"},m,null===(n=_.slotProps)||void 0===n?void 0:n.baseTextField))}},g))}var zd=function(e){return e.And="and",e.Or="or",e}(zd||{});const jd=()=>({items:[],logicOperator:zd.And,quickFilterValues:[],quickFilterLogicOperator:zd.And});function Ud(e){return{current:e.current.getPublicApi()}}let Gd;const Hd=(t,n)=>{const r=(0,e.A)({},t);if(null==r.id&&(r.id=Math.round(1e5*Math.random())),null==r.operator){const e=wl(n)[r.field];r.operator=e&&e.filterOperators[0].value}return r},Vd=Wa(["MUI X: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Wd=Wa("MUI X: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),Xd=Wa("MUI X: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),qd=(t,n,r)=>{const o=t.items.length>1;let i;o&&n?(Vd(),i=[t.items[0]]):i=t.items;const s=o&&i.some((e=>null==e.id)),a=i.some((e=>null==e.operator));return s&&Wd(),a&&Xd(),a||s?(0,e.A)({},t,{items:i.map((e=>Hd(e,r)))}):t.items!==i?(0,e.A)({},t,{items:i}):t},Kd=(t,n,r)=>o=>(0,e.A)({},o,{filterModel:qd(t,n,r)}),Yd=e=>"string"===typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Zd=(t,n)=>{if(!t.field||!t.operator)return null;const r=n.current.getColumn(t.field);if(!r)return null;let o;if(r.valueParser){var i;const e=r.valueParser;o=Array.isArray(t.value)?null===(i=t.value)||void 0===i?void 0:i.map((t=>e(t,void 0,r,n))):e(t.value,void 0,r,n)}else o=t.value;const{ignoreDiacritics:s}=n.current.rootProps;s&&(o=Yd(o));const a=(0,e.A)({},t,{value:o}),l=r.filterOperators;if(null===l||void 0===l||!l.length)throw new Error("MUI X: No filter operators found for column '".concat(r.field,"'."));const c=l.find((e=>e.value===a.operator));if(!c)throw new Error("MUI X: No filter operator found for column '".concat(r.field,"' and operator value '").concat(a.operator,"'."));const u=Ud(n),d=c.getApplyFilterFn(a,r);return"function"!==typeof d?null:{item:a,fn:e=>{let t=n.current.getRowValue(e,r);return s&&(t=Yd(t)),d(t,e,r,u)}}};let Qd=1;const $d=(e,t,n)=>{const{items:r}=e,o=r.map((e=>Zd(e,t))).filter((e=>!!e));if(0===o.length)return null;if(n||!function(){if(void 0!==Gd)return Gd;try{Gd=new Function("return true")()}catch(e){Gd=!1}return Gd}())return(e,t)=>{const n={};for(let r=0;r<o.length;r+=1){const i=o[r];t&&!t(i.item.field)||(n[i.item.id]=i.fn(e))}return n};const i=new Function("appliers","row","shouldApplyFilter",'"use strict";\n'.concat(o.map(((e,t)=>"const shouldApply".concat(t," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(e.item.field),");"))).join("\n"),"\n\nconst result$$ = {\n").concat(o.map(((e,t)=>"  ".concat(JSON.stringify(String(e.item.id)),": !shouldApply").concat(t," ? false : appliers[").concat(t,"].fn(row),"))).join("\n"),"\n};\n\nreturn result$$;").replaceAll("$$",String(Qd)));Qd+=1;return(e,t)=>i(o,e,t)},Jd=e=>{var t;return null===(t=e.quickFilterExcludeHiddenColumns)||void 0===t||t},eh=(e,t,n)=>{const r=$d(e,t,n),o=((e,t)=>{var n,r;const o=null!==(n=null===(r=e.quickFilterValues)||void 0===r?void 0:r.filter(Boolean))&&void 0!==n?n:[];if(0===o.length)return null;const i=Jd(e)?Sl(t):_l(t),s=[],{ignoreDiacritics:a}=t.current.rootProps,l=Ud(t);return i.forEach((e=>{const n=t.current.getColumn(e),r=null===n||void 0===n?void 0:n.getApplyQuickFilterFn;r&&s.push({column:n,appliers:o.map((e=>{const t=a?Yd(e):e;return{fn:r(t,n,l)}}))})})),function(e,n){const r={};e:for(let i=0;i<o.length;i+=1){const c=o[i];for(let o=0;o<s.length;o+=1){const{column:u,appliers:d}=s[o],{field:h}=u;if(n&&!n(h))continue;const p=d[i];let f=t.current.getRowValue(e,u);if(null!==p.fn&&(a&&(f=Yd(f)),p.fn(f,e,u,l))){r[c]=!0;continue e}}r[c]=!1}return r}})(e,t);return function(e,t,n){var i,s;n.passingFilterItems=null!==(i=null===r||void 0===r?void 0:r(e,t))&&void 0!==i?i:null,n.passingQuickFilterValues=null!==(s=null===o||void 0===o?void 0:o(e,t))&&void 0!==s?s:null}},th=e=>null!=e,nh=(e,t,n,r,o)=>{const i=((e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter((e=>null!==Zd(e,t)))),e.cleanedFilterItems))(o,r,n.items),s=e.filter(th),a=t.filter(th);if(s.length>0){var l;const e=e=>s.some((t=>t[e.id]));if((null!==(l=n.logicOperator)&&void 0!==l?l:jd().logicOperator)===zd.And){if(!i.every(e))return!1}else{if(!i.some(e))return!1}}if(a.length>0&&null!=n.quickFilterValues){var c;const e=e=>a.some((t=>t[e]));if((null!==(c=n.quickFilterLogicOperator)&&void 0!==c?c:jd().quickFilterLogicOperator)===zd.And){if(!n.quickFilterValues.every(e))return!1}else{if(!n.quickFilterValues.some(e))return!1}}return!0},rh={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:(e,t)=>{const n=Jl(e,t);return null!==n?n:"string"===typeof e?ec.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(lc(n),"i");return e=>null!=e&&r.test(String(e))},InputComponent:oc},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>null!=e&&0===r.compare(n,e.toString())},InputComponent:oc},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp("^".concat(lc(n),".*$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:oc},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(".*".concat(lc(n),"$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:oc},{value:"isEmpty",getApplyFilterFn:()=>e=>""===e||null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>""!==e&&null!=e,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||0===t.value.length)return null;const n=e?t.value:t.value.map((e=>e.trim())),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>null!=e&&n.some((t=>0===r.compare(t,e.toString()||"")))},InputComponent:Bd}]}(),renderEditCell:t=>(0,s.jsx)(Yl,(0,e.A)({},t)),getApplyQuickFilterFn:e=>{if(!e)return null;const t=new RegExp(lc(e),"i");return(e,n,r,o)=>{let i=o.current.getRowFormattedValue(n,r);return o.current.ignoreDiacritics&&(i=Yd(i)),null!=i&&t.test(i.toString())}}},oh=e=>null==e?null:Number(e),ih=(0,e.A)({},rh,{type:"number",align:"right",headerAlign:"right",sortComparator:tc,valueParser:e=>""===e?null:Number(e),valueFormatter:e=>ic(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>oh(t)===e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>oh(t)!==e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&oh(t)>e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&oh(t)>=e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&oh(t)<e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&oh(t)<=e.value,InputComponent:oc,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>Array.isArray(e.value)&&0!==e.value.length?t=>null!=t&&e.value.includes(Number(t)):null,InputComponent:Bd,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:e=>null==e||Number.isNaN(e)||""===e?null:t=>oh(t)===oh(e)}),sh=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function ah(e,t){if(null==e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),"date"===t?n.toISOString().substring(0,10):"datetime-local"===t?n.toISOString().substring(0,19):n.toISOString().substring(0,10))}function lh(n){var r;const{item:o,applyValue:i,type:a,apiRef:l,focusElementRef:c,InputProps:u,clearButton:d,tabIndex:h,disabled:p}=n,g=(0,f.A)(n,sh),m=(0,ln.A)(),[v,y]=t.useState((()=>ah(o.value,a))),[b,_]=t.useState(!1),w=(0,Yn.A)(),x=ta(),A=t.useCallback((t=>{m.clear();const n=t.target.value;y(n),_(!0),m.start(x.filterDebounceMs,(()=>{const t=new Date(n);i((0,e.A)({},o,{value:Number.isNaN(t.getTime())?void 0:t})),_(!1)}))}),[i,o,x.filterDebounceMs,m]);return t.useEffect((()=>{const e=ah(o.value,a);y(e)}),[o.value,a]),(0,s.jsx)(x.slots.baseTextField,(0,e.A)({fullWidth:!0,id:w,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:A,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:c,InputProps:(0,e.A)({},b||d?{endAdornment:b?(0,s.jsx)(x.slots.loadIcon,{fontSize:"small",color:"action"}):d}:{},{disabled:p},u,{inputProps:(0,e.A)({max:"datetime-local"===a?"9999-12-31T23:59":"9999-12-31",tabIndex:h},null===u||void 0===u?void 0:u.inputProps)})},g,null===(r=x.slotProps)||void 0===r?void 0:r.baseTextField))}function ch(e,t,n,r){if(!e.value)return null;const o=new Date(e.value);n?o.setSeconds(0,0):o.setHours(0,0,0,0);const i=o.getTime();return e=>{if(!e)return!1;if(r)return t(e.getTime(),i);const o=new Date(e);return n?o.setSeconds(0,0):o.setHours(0,0,0,0),t(o.getTime(),i)}}const uh=e=>[{value:"is",getApplyFilterFn:t=>ch(t,((e,t)=>e===t),e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>ch(t,((e,t)=>e!==t),e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>ch(t,((e,t)=>e>t),e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>ch(t,((e,t)=>e>=t),e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>ch(t,((e,t)=>e<t),e,!e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>ch(t,((e,t)=>e<=t),e),InputComponent:lh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1}],dh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],hh=(0,N.Ay)(vr)({fontSize:"inherit"});function ph(n){const{id:r,value:o,field:i,colDef:a,hasFocus:l,inputProps:c,onValueChange:u}=n,d=(0,f.A)(n,dh),h="dateTime"===a.type,p=Nl(),g=t.useRef(),m=t.useMemo((()=>{let e,t;if(e=null==o?null:o instanceof Date?o:new Date((null!==o&&void 0!==o?o:"").toString()),null==e||Number.isNaN(e.getTime()))t="";else{t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,h?16:10)}return{parsed:e,formatted:t}}),[o,h]),[v,y]=t.useState(m),b=(e=>{const{classes:t}=e;return(0,L.A)({root:["editInputCell"]},$s,t)})({classes:ta().classes}),_=t.useCallback((e=>{if(""===e)return null;const[t,n]=e.split("T"),[r,o,i]=t.split("-"),s=new Date;if(s.setFullYear(Number(r),Number(o)-1,Number(i)),s.setHours(0,0,0,0),n){const[e,t]=n.split(":");s.setHours(Number(e),Number(t),0,0)}return s}),[]),w=t.useCallback((async e=>{const t=e.target.value,n=_(t);u&&await u(e,n),y({parsed:n,formatted:t}),p.current.setEditCellValue({id:r,field:i,value:n},e)}),[p,i,r,u,_]);return t.useEffect((()=>{y((e=>{var t,n;return m.parsed!==e.parsed&&(null===(t=m.parsed)||void 0===t?void 0:t.getTime())!==(null===(n=e.parsed)||void 0===n?void 0:n.getTime())?m:e}))}),[m]),(0,Ve.A)((()=>{l&&g.current.focus()}),[l]),(0,s.jsx)(hh,(0,e.A)({inputRef:g,fullWidth:!0,className:b.root,type:h?"datetime-local":"date",inputProps:(0,e.A)({max:h?"9999-12-31T23:59":"9999-12-31"},c),value:v.formatted,onChange:w},d))}const fh=t=>(0,s.jsx)(ph,(0,e.A)({},t));function gh(e){let{value:t,columnType:n,rowId:r,field:o}=e;if(!(t instanceof Date))throw new Error(["MUI X: `".concat(n,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(r,', field: "').concat(o,'".')].join("\n"))}const mh=(0,e.A)({},rh,{type:"date",sortComparator:nc,valueFormatter:(e,t,n,r)=>{if(!e)return"";return gh({value:e,columnType:"date",rowId:r.current.getRowId(t),field:n.field}),e.toLocaleDateString()},filterOperators:uh(),renderEditCell:fh,pastedValueParser:e=>new Date(e)}),vh=(0,e.A)({},rh,{type:"dateTime",sortComparator:nc,valueFormatter:(e,t,n,r)=>{if(!e)return"";return gh({value:e,columnType:"dateTime",rowId:r.current.getRowId(t),field:n.field}),e.toLocaleString()},filterOperators:uh(!0),renderEditCell:fh,pastedValueParser:e=>new Date(e)}),yh=e=>e.rows,bh=cl(yh,(e=>e.totalRowCount)),_h=cl(yh,(e=>e.loading)),wh=cl(yh,(e=>e.totalTopLevelRowCount)),xh=cl(yh,(e=>e.dataRowIdToModelLookup)),Ah=cl(yh,(e=>e.dataRowIdToIdLookup)),Eh=cl(yh,(e=>e.tree)),Sh=cl(yh,(e=>e.groupingName)),Ch=cl(yh,(e=>e.treeDepths)),Mh=ul(yh,(e=>{const t=Object.entries(e.treeDepths);return 0===t.length?1:t.filter((e=>{let[,t]=e;return t>0})).map((e=>{let[t]=e;return Number(t)})).sort(((e,t)=>t-e))[0]+1})),Rh=cl(yh,(e=>e.dataRowIds)),Th=ul(cl(yh,(e=>null===e||void 0===e?void 0:e.additionalRowGroups)),(e=>{var t,n,r,o;const i=null===e||void 0===e?void 0:e.pinnedRows;return{bottom:null!==(t=null===i||void 0===i||null===(n=i.bottom)||void 0===n?void 0:n.map((e=>{var t;return{id:e.id,model:null!==(t=e.model)&&void 0!==t?t:{}}})))&&void 0!==t?t:[],top:null!==(r=null===i||void 0===i||null===(o=i.top)||void 0===o?void 0:o.map((e=>{var t;return{id:e.id,model:null!==(t=e.model)&&void 0!==t?t:{}}})))&&void 0!==r?r:[]}})),Ph=cl(Th,(e=>{var t,n;return((null===e||void 0===e||null===(t=e.top)||void 0===t?void 0:t.length)||0)+((null===e||void 0===e||null===(n=e.bottom)||void 0===n?void 0:n.length)||0)})),kh="auto-generated-group-node-root",Ih=Symbol("mui.id_autogenerated");const Oh=(e,t,n)=>{const r=t?t(e):e.id;return function(e,t){if(null==e)throw new Error(["MUI X: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"))}(r,e,n),r},Lh=e=>{let{rows:t,getRowId:n,loading:r,rowCount:o}=e;const i={type:"full",rows:[]},s={},a={};for(let l=0;l<t.length;l+=1){const e=t[l],r=Oh(e,n);s[r]=e,a[r]=r,i.rows.push(r)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:o,updates:i,dataRowIdToIdLookup:a,dataRowIdToModelLookup:s}},Nh=e=>{let{tree:t,rowCountProp:n=0}=e;const r=t[kh];return Math.max(n,r.children.length+(null==r.footerId?0:1))},Fh=t=>{let{apiRef:n,rowCountProp:r=0,loadingProp:o,previousTree:i,previousTreeDepths:s}=t;const a=n.current.caches.rows,{tree:l,treeDepths:c,dataRowIds:u,groupingName:d}=n.current.applyStrategyProcessor("rowTreeCreation",{previousTree:i,previousTreeDepths:s,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup}),h=n.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:c,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:u,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return n.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},(0,e.A)({},h,{totalRowCount:Math.max(r,h.dataRowIds.length),totalTopLevelRowCount:Nh({tree:h.tree,rowCountProp:r}),groupingName:d,loading:o})},Dh=e=>"skeletonRow"===e.type||"footer"===e.type||"group"===e.type&&e.isAutoGenerated||"pinnedRow"===e.type&&e.isAutoGenerated,Bh=(e,t,n)=>{const r=e[t];if("group"!==r.type)return[];const o=[];for(let i=0;i<r.children.length;i+=1){const t=r.children[i];n&&Dh(e[t])||o.push(t);const s=Bh(e,t,n);for(let e=0;e<s.length;e+=1)o.push(s[e])}return n||null==r.footerId||o.push(r.footerId),o};function zh(e){const t=Xl(e.current.state);return"var(--DataGrid-overlayHeight, ".concat(2*t.rowHeight,"px)")}const jh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"];function Uh(n){const{value:r}=n,o=(0,f.A)(n,jh),i=Nl(),a=ta(),l=(e=>{const{classes:t}=e;return(0,L.A)({root:["booleanCell"]},$s,t)})({classes:a.classes}),c=t.useMemo((()=>r?a.slots.booleanCellTrueIcon:a.slots.booleanCellFalseIcon),[a.slots.booleanCellFalseIcon,a.slots.booleanCellTrueIcon,r]);return(0,s.jsx)(c,(0,e.A)({fontSize:"small",className:l.root,titleAccess:i.current.getLocaleText(r?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(r)},o))}const Gh=t.memo(Uh),Hh=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function Vh(n){var r;const{id:o,value:i,field:a,className:l,hasFocus:c,onValueChange:u}=n,d=(0,f.A)(n,Hh),h=Nl(),p=t.useRef(null),g=(0,Yn.A)(),[m,v]=t.useState(i),y=ta(),b=(e=>{const{classes:t}=e;return(0,L.A)({root:["editBooleanCell"]},$s,t)})({classes:y.classes}),_=t.useCallback((async e=>{const t=e.target.checked;u&&await u(e,t),v(t),await h.current.setEditCellValue({id:o,field:a,value:t},e)}),[h,a,o,u]);return t.useEffect((()=>{v(i)}),[i]),(0,Ve.A)((()=>{c&&p.current.focus()}),[c]),(0,s.jsx)("label",(0,e.A)({htmlFor:g,className:(0,O.A)(b.root,l)},d,{children:(0,s.jsx)(y.slots.baseCheckbox,(0,e.A)({id:g,inputRef:p,checked:Boolean(m),onChange:_,size:"small"},null===(r=y.slotProps)||void 0===r?void 0:r.baseCheckbox))}))}const Wh=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],Xh=(0,N.Ay)("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function qh(n){var r,o,i,a;const{item:l,applyValue:c,apiRef:u,focusElementRef:d,clearButton:h,tabIndex:p,label:g,variant:m="standard"}=n,v=(0,f.A)(n,Wh),[y,b]=t.useState(l.value||""),_=ta(),w=(0,Yn.A)(),x=(0,Yn.A)(),A=(null===(r=_.slotProps)||void 0===r?void 0:r.baseSelect)||{},E=null!==(o=A.native)&&void 0!==o&&o,S=(null===(i=_.slotProps)||void 0===i?void 0:i.baseSelectOption)||{},C=t.useCallback((t=>{const n=t.target.value;b(n),c((0,e.A)({},l,{value:n}))}),[c,l]);t.useEffect((()=>{b(l.value||"")}),[l.value]);const M=null!==g&&void 0!==g?g:u.current.getLocaleText("filterPanelInputLabel");return(0,s.jsxs)(Xh,{children:[(0,s.jsxs)(_.slots.baseFormControl,{fullWidth:!0,children:[(0,s.jsx)(_.slots.baseInputLabel,(0,e.A)({},null===(a=_.slotProps)||void 0===a?void 0:a.baseInputLabel,{id:w,shrink:!0,variant:m,children:M})),(0,s.jsxs)(_.slots.baseSelect,(0,e.A)({labelId:w,id:x,label:M,value:y,onChange:C,variant:m,notched:"outlined"===m||void 0,native:E,displayEmpty:!0,inputProps:{ref:d,tabIndex:p}},v,A,{children:[(0,s.jsx)(_.slots.baseSelectOption,(0,e.A)({},S,{native:E,value:"",children:u.current.getLocaleText("filterValueAny")})),(0,s.jsx)(_.slots.baseSelectOption,(0,e.A)({},S,{native:E,value:"true",children:u.current.getLocaleText("filterValueTrue")})),(0,s.jsx)(_.slots.baseSelectOption,(0,e.A)({},S,{native:E,value:"false",children:u.current.getLocaleText("filterValueFalse")}))]}))]}),h]})}const Kh=(0,e.A)({},rh,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:t=>"__row_group_by_columns_group__"!==t.field&&Dh(t.rowNode)?"":(0,s.jsx)(Gh,(0,e.A)({},t)),renderEditCell:t=>(0,s.jsx)(Vh,(0,e.A)({},t)),sortComparator:tc,valueFormatter:(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t="true"===String(e.value);return e=>Boolean(e)===t},InputComponent:qh}],getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:e=>(e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(e)});var Yh=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(Yh||{}),Zh=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Zh||{});const Qh=e=>"Escape"===e,$h=e=>"Tab"===e;function Jh(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}const ep=e=>0===e.indexOf("Arrow")||0===e.indexOf("Page")||" "===e||"Home"===e||"End"===e;function tp(e){return!(!e.ctrlKey&&!e.metaKey||"v"!==e.key.toLowerCase()||e.shiftKey||e.altKey)}function np(e){return"singleSelect"===(null===e||void 0===e?void 0:e.type)}function rp(t,n){if(t)return"function"===typeof t.valueOptions?t.valueOptions((0,e.A)({field:t.field},n)):t.valueOptions}function op(e,t,n){if(void 0===t)return;const r=t.find((t=>{const r=n(t);return String(r)===String(e)}));return n(r)}const ip=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],sp=["MenuProps"];function ap(n){var r,o,i;const a=ta(),{id:l,value:c,field:u,row:d,colDef:h,hasFocus:p,error:g,onValueChange:m,initialOpen:v=a.editMode===aa.Cell}=n,y=(0,f.A)(n,ip),b=Nl(),_=t.useRef(),w=t.useRef(),[x,A]=t.useState(v),E=null!==(o=((null===(r=a.slotProps)||void 0===r?void 0:r.baseSelect)||{}).native)&&void 0!==o&&o,S=(null===(i=a.slotProps)||void 0===i?void 0:i.baseSelect)||{},{MenuProps:C}=S,M=(0,f.A)(S,sp);if((0,Ve.A)((()=>{var e;p&&(null===(e=w.current)||void 0===e||e.focus())}),[p]),!np(h))return null;const R=rp(h,{id:l,row:d});if(!R)return null;const T=h.getOptionValue,P=h.getOptionLabel;return R&&h?(0,s.jsx)(a.slots.baseSelect,(0,e.A)({ref:_,inputRef:w,value:c,onChange:async e=>{if(!np(h)||!R)return;A(!1);const t=op(e.target.value,R,T);m&&await m(e,t),await b.current.setEditCellValue({id:l,field:u,value:t},e)},open:x,onOpen:e=>{(function(e){return!!e.key})(e)&&"Enter"===e.key||A(!0)},MenuProps:(0,e.A)({onClose:(t,n)=>{if(a.editMode!==aa.Row){if("backdropClick"===n||Qh(t.key)){const n=b.current.getCellParams(l,u);b.current.publishEvent("cellEditStop",(0,e.A)({},n,{reason:Qh(t.key)?Zh.escapeKeyDown:Zh.cellFocusOut}))}}else A(!1)}},C),error:g,native:E,fullWidth:!0},y,M,{children:R.map((n=>{var r;const o=T(n);return(0,t.createElement)(a.slots.baseSelectOption,(0,e.A)({},(null===(r=a.slotProps)||void 0===r?void 0:r.baseSelectOption)||{},{native:E,key:o,value:o}),P(n))}))})):null}const lp=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],cp=n=>{let{column:r,OptionComponent:o,getOptionLabel:i,getOptionValue:s,isSelectNative:a,baseSelectOptionProps:l}=n;return["",...rp(r)||[]].map((n=>{const r=s(n);let c=i(n);return""===c&&(c="\u2003"),(0,t.createElement)(o,(0,e.A)({},l,{native:a,key:r,value:r}),c)}))},up=(0,N.Ay)("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function dp(n){var r,o,i,a,l,c,u,d;const{item:h,applyValue:p,type:g,apiRef:m,focusElementRef:v,placeholder:y,tabIndex:b,label:_,variant:w="standard",clearButton:x}=n,A=(0,f.A)(n,lp),E=null!==(r=h.value)&&void 0!==r?r:"",S=(0,Yn.A)(),C=(0,Yn.A)(),M=ta(),R=null!==(o=null===(i=M.slotProps)||void 0===i||null===(i=i.baseSelect)||void 0===i?void 0:i.native)&&void 0!==o&&o;let T=null;if(h.field){const e=m.current.getColumn(h.field);np(e)&&(T=e)}const P=null===(a=T)||void 0===a?void 0:a.getOptionValue,k=null===(l=T)||void 0===l?void 0:l.getOptionLabel,I=t.useMemo((()=>rp(T)),[T]),O=t.useCallback((t=>{let n=t.target.value;n=op(n,I,P),p((0,e.A)({},h,{value:n}))}),[I,P,p,h]);if(!np(T))return null;const L=null!==_&&void 0!==_?_:m.current.getLocaleText("filterPanelInputLabel");return(0,s.jsxs)(up,{children:[(0,s.jsxs)(M.slots.baseFormControl,{fullWidth:!0,children:[(0,s.jsx)(M.slots.baseInputLabel,(0,e.A)({},null===(c=M.slotProps)||void 0===c?void 0:c.baseInputLabel,{id:C,htmlFor:S,shrink:!0,variant:w,children:L})),(0,s.jsx)(M.slots.baseSelect,(0,e.A)({id:S,label:L,labelId:C,value:E,onChange:O,variant:w,type:g||"text",inputProps:{tabIndex:b,ref:v,placeholder:null!==y&&void 0!==y?y:m.current.getLocaleText("filterPanelInputPlaceholder")},native:R,notched:"outlined"===w||void 0},A,null===(u=M.slotProps)||void 0===u?void 0:u.baseSelect,{children:cp({column:T,OptionComponent:M.slots.baseSelectOption,getOptionLabel:k,getOptionValue:P,isSelectNative:R,baseSelectOptionProps:null===(d=M.slotProps)||void 0===d?void 0:d.baseSelectOption})}))]}),x]})}const hp=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],pp=mc();function fp(n){var r,o;const{item:i,applyValue:a,apiRef:l,focusElementRef:c,color:u,error:d,helperText:h,size:p,variant:g="standard"}=n,m=(0,f.A)(n,hp),v={color:u,error:d,helperText:h,size:p,variant:g},y=(0,Yn.A)(),b=ta();let _=null;if(i.field){const e=l.current.getColumn(i.field);np(e)&&(_=e)}const w=null===(r=_)||void 0===r?void 0:r.getOptionValue,x=null===(o=_)||void 0===o?void 0:o.getOptionLabel,A=t.useCallback(((e,t)=>w(e)===w(t)),[w]),E=t.useMemo((()=>rp(_)||[]),[_]),S=t.useMemo((()=>Array.isArray(i.value)?i.value.reduce(((e,t)=>{const n=E.find((e=>w(e)===t));return null!=n&&e.push(n),e}),[]):[]),[w,i.value,E]),C=t.useCallback(((t,n)=>{a((0,e.A)({},i,{value:n.map(w)}))}),[a,i,w]);return(0,s.jsx)(Fd,(0,e.A)({multiple:!0,options:E,isOptionEqualToValue:A,filterOptions:pp,id:y,value:S,onChange:C,getOptionLabel:x,renderTags:(t,n)=>t.map(((t,r)=>(0,s.jsx)(b.slots.baseChip,(0,e.A)({variant:"outlined",size:"small",label:x(t)},n({index:r}))))),renderInput:t=>{var n;return(0,s.jsx)(b.slots.baseTextField,(0,e.A)({},t,{label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,e.A)({},t.InputLabelProps,{shrink:!0}),inputRef:c,type:"singleSelect"},v,null===(n=b.slotProps)||void 0===n?void 0:n.baseTextField))}},m))}const gp=e=>null!=e&&ac(e)?e.value:e,mp=(0,e.A)({},rh,{type:"singleSelect",getOptionLabel:e=>ac(e)?e.label:String(e),getOptionValue:e=>ac(e)?e.value:e,valueFormatter(e,t,n,r){const o=r.current.getRowId(t);if(!np(n))return"";const i=rp(n,{id:o,row:t});if(null==e)return"";if(!i)return e;if("object"!==typeof i[0])return n.getOptionLabel(e);const s=i.find((t=>n.getOptionValue(t)===e));return s?n.getOptionLabel(s):""},renderEditCell:t=>(0,s.jsx)(ap,(0,e.A)({},t)),filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>gp(t)===gp(e.value),InputComponent:dp},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>gp(t)!==gp(e.value),InputComponent:dp},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||0===e.value.length)return null;const t=e.value.map(gp);return e=>t.includes(gp(e))},InputComponent:fp}],pastedValueParser:(e,t,n)=>{const r=n,o=rp(r)||[],i=r.getOptionValue;if(o.find((t=>i(t)===e)))return e}});function vp(e){return e.substring(2).toLowerCase()}function yp(e){const{children:n,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,l=t.useRef(!1),c=t.useRef(null),u=t.useRef(!1),d=t.useRef(!1);t.useEffect((()=>(setTimeout((()=>{u.current=!0}),0),()=>{u.current=!1})),[]);const h=(0,ye.A)(n.ref,c),p=(0,Re.A)((e=>{const t=d.current;d.current=!1;const n=(0,Me.A)(c.current);if(!u.current||!c.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(l.current)return void(l.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(c.current)>-1:!n.documentElement.contains(e.target)||c.current.contains(e.target),o||!r&&t||i(e)})),f=e=>t=>{d.current=!0;const r=n.props[e];r&&r(t)},g={ref:h};return!1!==a&&(g[a]=f(a)),t.useEffect((()=>{if(!1!==a){const e=vp(a),t=(0,Me.A)(c.current),n=()=>{l.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",n)}}}),[p,a]),!1!==o&&(g[o]=f(o)),t.useEffect((()=>{if(!1!==o){const e=vp(o),t=(0,Me.A)(c.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}}),[p,o]),(0,s.jsx)(t.Fragment,{children:t.cloneElement(n,g)})}const bp=["open","target","onClose","children","position","className","onExited"],_p=e=>{const{classes:t}=e;return(0,L.A)({root:["menu"]},$s,t)},wp=(0,N.Ay)(nd,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal,["& .".concat(Js.menuList)]:{outline:0}}})),xp={"bottom-start":"top left","bottom-end":"top right"};function Ap(n){var r;const{open:o,target:i,onClose:a,children:l,position:c,className:u,onExited:d}=n,h=(0,f.A)(n,bp),p=Nl(),g=ta(),m=_p(g),v=t.useRef(null);(0,Ve.A)((()=>{var e,t;o?v.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(null===(e=v.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),v.current=null)}),[o]),t.useEffect((()=>{const e=o?"menuOpen":"menuClose";p.current.publishEvent(e,{target:i})}),[p,o,i]);const y=e=>{e.target&&(i===e.target||null!==i&&void 0!==i&&i.contains(e.target))||a(e)};return(0,s.jsx)(wp,(0,e.A)({as:g.slots.basePopper,className:(0,O.A)(u,m.root),ownerState:g,open:o,anchorEl:i,transition:!0,placement:c},h,null===(r=g.slotProps)||void 0===r?void 0:r.basePopper,{children:t=>{let{TransitionProps:n,placement:r}=t;return(0,s.jsx)(yp,{onClickAway:y,mouseEvent:"onMouseDown",children:(0,s.jsx)(To,(0,e.A)({},n,{style:{transformOrigin:xp[r]},onExited:(o=null===n||void 0===n?void 0:n.onExited,e=>{o&&o(),d&&d(e)}),children:(0,s.jsx)(V,{children:l})}))});var o}}))}const Ep=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function Sp(n){var r;const{colDef:o,id:i,hasFocus:a,tabIndex:l,position:c="bottom-end",focusElementRef:u}=n,d=(0,f.A)(n,Ep),[h,p]=t.useState(-1),[g,m]=t.useState(!1),v=Nl(),y=t.useRef(null),b=t.useRef(null),_=t.useRef(!1),w=t.useRef({}),x=it(),A=(0,Yn.A)(),E=(0,Yn.A)(),S=ta();if(!(e=>"function"===typeof e.getActions)(o))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const C=o.getActions(v.current.getRowParams(i)),M=C.filter((e=>!e.props.showInMenu)),R=C.filter((e=>e.props.showInMenu)),T=M.length+(R.length?1:0);t.useLayoutEffect((()=>{a||Object.entries(w.current).forEach((e=>{let[t,n]=e;null===n||void 0===n||n.stop({},(()=>{delete w.current[t]}))}))}),[a]),t.useEffect((()=>{if(h<0||!y.current)return;if(h>=y.current.children.length)return;y.current.children[h].focus({preventScroll:!0})}),[h]),t.useEffect((()=>{a||(p(-1),_.current=!1)}),[a]),t.useImperativeHandle(u,(()=>({focus(){if(!_.current){const e=C.findIndex((e=>!e.props.disabled));p(e)}}})),[C]),t.useEffect((()=>{h>=T&&p(T-1)}),[h,T]);const P=()=>{m(!1)},k=e=>t=>{w.current[e]=t},I=(e,t)=>n=>{p(e),_.current=!0,t&&t(n)};return(0,s.jsxs)("div",(0,e.A)({role:"menu",ref:y,tabIndex:-1,className:Js.actionsCell,onKeyDown:e=>{if(T<=1)return;const t=(e,n)=>{var r;if(e<0||e>C.length)return e;const o=("left"===n?-1:1)*("rtl"===x.direction?-1:1);return null!==(r=C[e+o])&&void 0!==r&&r.props.disabled?t(e+o,n):e+o};let n=h;"ArrowRight"===e.key?n=t(h,"right"):"ArrowLeft"===e.key&&(n=t(h,"left")),n<0||n>=T||n!==h&&(e.preventDefault(),e.stopPropagation(),p(n))}},d,{children:[M.map(((e,n)=>t.cloneElement(e,{key:n,touchRippleRef:k(n),onClick:I(n,e.props.onClick),tabIndex:h===n?l:-1}))),R.length>0&&E&&(0,s.jsx)(S.slots.baseIconButton,(0,e.A)({ref:b,id:E,"aria-label":v.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?A:void 0,role:"menuitem",size:"small",onClick:()=>{m(!0),p(T-1),_.current=!0},touchRippleRef:k(E),tabIndex:h===M.length?l:-1},null===(r=S.slotProps)||void 0===r?void 0:r.baseIconButton,{children:(0,s.jsx)(S.slots.moreActionsIcon,{fontSize:"small"})})),R.length>0&&(0,s.jsx)(Ap,{open:g,target:b.current,position:c,onClose:P,children:(0,s.jsx)(Ao,{id:A,className:Js.menuList,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),["Tab","Escape"].includes(e.key)&&P()},"aria-labelledby":E,variant:"menu",autoFocusItem:!0,children:R.map(((e,n)=>t.cloneElement(e,{key:n,closeMenu:P})))})})]}))}const Cp="actions",Mp=(0,e.A)({},rh,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:t=>(0,s.jsx)(Sp,(0,e.A)({},t)),getApplyQuickFilterFn:void 0}),Rp=e=>e.headerFiltering,Tp=cl(Rp,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.enabled)&&void 0!==t&&t})),Pp=cl(Rp,(e=>e.editing)),kp=cl(Rp,(e=>e.menuOpen)),Ip=e=>e.columnGrouping,Op=ul(Ip,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.unwrappedGroupingModel)&&void 0!==t?t:{}})),Lp=ul(Ip,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.lookup)&&void 0!==t?t:{}})),Np=ul(Ip,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.headerStructure)&&void 0!==t?t:[]})),Fp=cl(Ip,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.maxDepth)&&void 0!==t?t:0})),Dp=["maxWidth","minWidth","width","flex"],Bp={string:rh,number:ih,date:mh,dateTime:vh,boolean:Kh,singleSelect:mp,[Cp]:Mp,custom:rh};const zp=(t,n)=>{const r={};let o=0,i=0;const s=[];t.orderedFields.forEach((n=>{const a=(0,e.A)({},t.lookup[n]);if(!1===t.columnVisibilityModel[n])a.computedWidth=0;else{let e;a.flex&&a.flex>0?(o+=a.flex,e=0,s.push(a)):e=cc(a.width||rh.width,a.minWidth||rh.minWidth,a.maxWidth||rh.maxWidth),i+=e,a.computedWidth=e}r[n]=a}));const a=Math.max(n-i,0);if(o>0&&n>0){const e=function(e){let{initialFreeSpace:t,totalFlexUnits:n,flexColumns:r}=e;const o=new Set(r.map((e=>e.field))),i={all:{},frozenFields:[],freeze:e=>{const t=i.all[e];t&&!0!==t.frozen&&(i.all[e].frozen=!0,i.frozenFields.push(e))}};return function e(){if(i.frozenFields.length===o.size)return;const s={min:{},max:{}};let a=t,l=n,c=0;i.frozenFields.forEach((e=>{a-=i.all[e].computedWidth,l-=i.all[e].flex}));for(let t=0;t<r.length;t+=1){const e=r[t];if(i.all[e.field]&&!0===i.all[e.field].frozen)continue;let n=a/l*e.flex;n<e.minWidth?(c+=e.minWidth-n,n=e.minWidth,s.min[e.field]=!0):n>e.maxWidth&&(c+=e.maxWidth-n,n=e.maxWidth,s.max[e.field]=!0),i.all[e.field]={frozen:!1,computedWidth:n,flex:e.flex}}c<0?Object.keys(s.max).forEach((e=>{i.freeze(e)})):c>0?Object.keys(s.min).forEach((e=>{i.freeze(e)})):r.forEach((e=>{let{field:t}=e;i.freeze(t)})),e()}(),i.all}({initialFreeSpace:a,totalFlexUnits:o,flexColumns:s});Object.keys(e).forEach((t=>{r[t].computedWidth=e[t].computedWidth}))}return(0,e.A)({},t,{lookup:r})};function jp(e){let t=Bp.string;return e&&Bp[e]&&(t=Bp[e]),t}const Up=t=>{var n,r,o;let{apiRef:i,columnsToUpsert:s,initialState:a,columnVisibilityModel:l=Al(i),keepOnlyColumnsToUpsert:c=!1}=t;const u=!i.current.state.columns;let d;if(u)d={orderedFields:[],lookup:{},columnVisibilityModel:l};else{const t=bl(i.current.state);d={orderedFields:c?[]:[...t.orderedFields],lookup:(0,e.A)({},t.lookup),columnVisibilityModel:l}}let h={};c&&!u&&(h=Object.keys(d.lookup).reduce(((t,n)=>(0,e.A)({},t,{[n]:!1})),{}));const p={};s.forEach((t=>{const{field:n}=t;p[n]=!0,h[n]=!0;let r=d.lookup[n];null==r?(r=(0,e.A)({},jp(t.type),{field:n,hasBeenResized:!1}),d.orderedFields.push(n)):c&&d.orderedFields.push(n),r&&r.type!==t.type&&(r=(0,e.A)({},jp(t.type),{field:n}));let o=r.hasBeenResized;Dp.forEach((e=>{void 0!==t[e]&&(o=!0,-1===t[e]&&(t[e]=1/0))})),d.lookup[n]=(0,e.A)({},r,t,{hasBeenResized:o})})),c&&!u&&Object.keys(d.lookup).forEach((e=>{h[e]||delete d.lookup[e]}));const f=((t,n)=>{if(!n)return t;const{orderedFields:r=[],dimensions:o={}}=n,i=Object.keys(o);if(0===i.length&&0===r.length)return t;const s={},a=[];for(let e=0;e<r.length;e+=1){const n=r[e];t.lookup[n]&&(s[n]=!0,a.push(n))}const l=0===a.length?t.orderedFields:[...a,...t.orderedFields.filter((e=>!s[e]))],c=(0,e.A)({},t.lookup);for(let u=0;u<i.length;u+=1){const t=i[u],n=(0,e.A)({},c[t],{hasBeenResized:!0});Object.entries(o[t]).forEach((e=>{let[t,r]=e;n[t]=-1===r?1/0:r})),c[t]=n}return(0,e.A)({},t,{orderedFields:l,lookup:c})})(i.current.unstable_applyPipeProcessors("hydrateColumns",d),a);return zp(f,null!==(n=null===(r=(o=i.current).getRootDimensions)||void 0===r?void 0:r.call(o).viewportInnerSize.width)&&void 0!==n?n:0)};function Gp(e,t){var n;const r=pl(e),o=Fp(e),i=Tp(e);return Math.floor(t.columnHeaderHeight*r)*(1+(null!==o&&void 0!==o?o:0))+(i?Math.floor((null!==(n=t.headerFilterHeight)&&void 0!==n?n:t.columnHeaderHeight)*r):0)}function Hp(e){return t.memo(e,qa)}const Vp=qi("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{["&.".concat(Js["scrollArea--left"])]:t["scrollArea--left"]},{["&.".concat(Js["scrollArea--right"])]:t["scrollArea--right"]},t.scrollArea]})((()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,["&.".concat(Js["scrollArea--left"])]:{left:0},["&.".concat(Js["scrollArea--right"])]:{right:0}})));const Wp=Hp((function(n){const{scrollDirection:r}=n,o=t.useRef(null),i=Nl(),a=(0,ln.A)(),l=$a(i,pl),c=$a(i,Rl),u=$a(i,Xl),d=t.useRef({left:0,top:0}),h=()=>{if("left"===r)return d.current.left>0;if("right"===r){const e=c-u.viewportInnerSize.width;return d.current.left<e}return!1},[p,f]=t.useState(!1),[g,m]=t.useState(h),v=ta(),y=(0,e.A)({},v,{scrollDirection:r}),b=(e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea","scrollArea--".concat(t)]};return(0,L.A)(r,$s,n)})(y),_=Gp(i,v),w=Math.floor(v.columnHeaderHeight*l),x={height:w,top:_-w};"left"===r?x.left=u.leftPinnedWidth:"right"===r&&(x.right=u.rightPinnedWidth+(u.hasScrollX?u.scrollbarSize:0));const A=(0,Re.A)((e=>{let t;if(e.preventDefault(),"left"===r)t=e.clientX-o.current.getBoundingClientRect().right;else{if("right"!==r)throw new Error("MUI X: Wrong drag direction");t=Math.max(1,e.clientX-o.current.getBoundingClientRect().left)}t=1.5*(t-1)+1,a.start(0,(()=>{i.current.scroll({left:d.current.left+t,top:d.current.top})}))})),E=(0,Re.A)((()=>{f(!0)})),S=(0,Re.A)((()=>{f(!1)}));return Hl(i,"scrollPositionChange",(e=>{d.current=e,m(h)})),Hl(i,"columnHeaderDragStart",E),Hl(i,"columnHeaderDragEnd",S),p&&g?(0,s.jsx)(Vp,{ref:o,className:(0,O.A)(b.root),ownerState:y,onDragOver:A,style:x}):null})),Xp=()=>{};const qp=()=>{},Kp=e=>e.focus,Yp=cl(Kp,(e=>e.cell)),Zp=cl(Kp,(e=>e.columnHeader)),Qp=(cl(Kp,(e=>e.columnHeaderFilter)),cl(Kp,(e=>e.columnGroupHeader))),$p=e=>e.tabIndex,Jp=cl($p,(e=>e.cell)),ef=cl($p,(e=>e.columnHeader)),tf=(cl($p,(e=>e.columnHeaderFilter)),cl($p,(e=>e.columnGroupHeader))),nf=e=>e.sorting,rf=cl(nf,(e=>e.sortedRows)),of=ul(rf,xh,((e,t)=>e.map((e=>{var n;return{id:e,model:null!==(n=t[e])&&void 0!==n?n:{}}})))),sf=cl(nf,(e=>e.sortModel)),af=ul(sf,(e=>{const t=e.reduce(((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t)),{});return t})),lf=e=>e.filter,cf=cl(lf,(e=>e.filterModel)),uf=(cl(cf,(e=>e.quickFilterValues)),cl(lf,(e=>e.filteredRowsLookup))),df=(cl(lf,(e=>e.filteredDescendantCountLookup)),ul((e=>e.visibleRowsLookup),of,((e,t)=>t.filter((t=>!1!==e[t.id]))))),hf=ul(df,(e=>e.map((e=>e.id)))),pf=ul(uf,of,((e,t)=>t.filter((t=>!1!==e[t.id])))),ff=ul(pf,(e=>e.map((e=>e.id)))),gf=ul(df,Eh,Mh,((e,t,n)=>n<2?e:e.filter((e=>{var n;return 0===(null===(n=t[e.id])||void 0===n?void 0:n.depth)})))),mf=cl(df,(e=>e.length)),vf=cl(gf,(e=>e.length)),yf=ul(cf,wl,((e,t)=>{var n;return null===(n=e.items)||void 0===n?void 0:n.filter((e=>{var n,r;if(!e.field)return!1;const o=t[e.field];if(null===o||void 0===o||!o.filterOperators||0===(null===o||void 0===o||null===(n=o.filterOperators)||void 0===n?void 0:n.length))return!1;const i=o.filterOperators.find((t=>t.value===e.operator));return!!i&&(!i.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))}))})),bf=ul(yf,(e=>e.reduce(((e,t)=>(e[t.field]?e[t.field].push(t):e[t.field]=[t],e)),{}))),_f=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):-1===e?n+2:0,wf=e=>({page:0,pageSize:e?0:100}),xf=(e,t)=>{if(t===jl.DataGrid&&e>100)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},Af=e=>e.pagination,Ef=cl(Af,(e=>e.paginationModel)),Sf=cl(Af,(e=>e.rowCount)),Cf=cl(Af,(e=>e.meta)),Mf=cl(Ef,(e=>e.page)),Rf=cl(Ef,(e=>e.pageSize)),Tf=cl(Ef,Sf,((e,t)=>_f(t,e.pageSize,e.page))),Pf=ul(Ef,Eh,Mh,df,gf,((e,t,n,r,o)=>{const i=o.length,s=Math.min(e.pageSize*e.page,i-1),a=Math.min(s+e.pageSize-1,i-1);if(-1===s||-1===a)return null;if(n<2)return{firstRowIndex:s,lastRowIndex:a};const l=o[s],c=a-s+1,u=r.findIndex((e=>e.id===l.id));let d=u,h=0;for(;d<r.length&&h<=c;){var p;const e=null===(p=t[r[d].id])||void 0===p?void 0:p.depth;void 0===e?d+=1:((h<c||e>0)&&(d+=1),0===e&&(h+=1))}return{firstRowIndex:u,lastRowIndex:d-1}})),kf=ul(df,Pf,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),If=ul(hf,Pf,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),Of=(e,t)=>{let n,r;return t.pagination&&"client"===t.paginationMode?(r=Pf(e),n=kf(e)):(n=df(e),r=0===n.length?null:{firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},Lf=(e,n)=>{const r=Of(e,n);return t.useMemo((()=>({rows:r.rows,range:r.range})),[r.rows,r.range])},Nf=e=>e.rowSelection,Ff=cl(Nf,(e=>e.length)),Df=ul(Nf,xh,((e,t)=>new Map(e.map((e=>[e,t[e]]))))),Bf=ul(Nf,(e=>e.reduce(((e,t)=>(e[t]=t,e)),{}))),zf=e=>e.rowsMeta,jf=e=>e.virtualization,Uf=cl(jf,(e=>e.enabled)),Gf=cl(jf,(e=>e.enabledForColumns)),Hf=cl(jf,(e=>e.renderContext)),Vf=ul((e=>e.virtualization.renderContext.firstColumnIndex),(e=>e.virtualization.renderContext.lastColumnIndex),((e,t)=>({firstColumnIndex:e,lastColumnIndex:t})));function Wf(e,n,r){const o=t.useRef(!0);t.useEffect((()=>{o.current=!1,e.current.register(r,n)}),[e,r,n]),o.current&&e.current.register(r,n)}const Xf={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},qf=(t,n)=>{const r={enabled:!n.disableVirtualization,enabledForColumns:!0,renderContext:Xf};return(0,e.A)({},t,{virtualization:r})};var Kf=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}(Kf||{});const Yf={top:0,left:0},Zf=Object.freeze(new Map),Qf="undefined"!==typeof window&&/jsdom/.test(window.navigator.userAgent),$f=()=>{const n=el(),r=ta(),o=$a(n,El),i=$a(n,Uf)&&!Qf,a=$a(n,Gf)&&!Qf,l=$a(n,Xl),c=l.viewportOuterSize,u=$a(n,Th),d=$a(n,Cl),h=u.bottom.length>0,[p,f]=t.useState(Zf),g=it(),m=$a(n,Yp),v=$a(n,Jp),y=$a(n,zf),b=$a(n,Bf),_=Lf(n,r),w=n.current.rootElementRef,x=n.current.mainElementRef,A=n.current.virtualScrollerRef,E=t.useRef(null),S=t.useRef(null),C=l.contentSize.height,M=l.columnsTotalWidth,R=$a(n,kl);!function(e,n,r){const o=t.useRef(null);o.current=n,(0,Ve.A)((()=>{if(!1===r||"undefined"===typeof ResizeObserver)return Xp;let t=0;const n=e.current,i=new ResizeObserver((e=>{o.current(e)}));return n&&i.observe(n),()=>{t&&cancelAnimationFrame(t),i.disconnect()}}),[e,r])}(x,(()=>n.current.resize()));const T=t.useRef(Yf),P=t.useRef(Yf),k=t.useRef(Xf),I=$a(n,Hf),O=(0,ln.A)(),L=t.useRef(void 0),N=(0,Ha.A)((()=>((e,t,n,r,o)=>({direction:Kf.NONE,buffer:ig(e,Kf.NONE,t,n,r,o)}))(g.direction,r.rowBufferPx,r.columnBufferPx,15*l.rowHeight,300))).current,F={rowIndex:t.useMemo((()=>m?_.rows.findIndex((e=>e.id===m.id)):-1),[m,_.rows]),columnIndex:t.useMemo((()=>m?o.findIndex((e=>e.field===m.field)):-1),[m,o])},D=t.useCallback((t=>{if(function(e,t){if(e===t)return!0;return e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}(t,n.current.state.virtualization.renderContext))return;const r=t.firstRowIndex!==k.current.firstRowIndex||t.lastRowIndex!==k.current.lastRowIndex;n.current.setState((n=>(0,e.A)({},n,{virtualization:(0,e.A)({},n.virtualization,{renderContext:t})}))),l.isReady&&r&&(k.current=t,n.current.publishEvent("renderedRowsIntervalChange",t)),P.current=T.current}),[n,l.isReady]),B=()=>{const e={top:A.current.scrollTop,left:A.current.scrollLeft},t=e.left-T.current.left,o=e.top-T.current.top,s=0!==t||0!==o;T.current=e;const c=s?function(e,t){if(0===e&&0===t)return Kf.NONE;return Math.abs(t)>=Math.abs(e)?t>0?Kf.DOWN:Kf.UP:e>0?Kf.RIGHT:Kf.LEFT}(t,o):Kf.NONE,u=Math.abs(T.current.top-P.current.top),d=Math.abs(T.current.left-P.current.left),h=u>=l.rowHeight||d>=50,p=N.direction!==c;if(!(h||p))return I;if(p)switch(c){case Kf.NONE:case Kf.LEFT:case Kf.RIGHT:L.current=void 0;break;default:L.current=I}N.direction=c,N.buffer=ig(g.direction,c,r.rowBufferPx,r.columnBufferPx,15*l.rowHeight,300);const f=eg(Jf(n,r,i,a),T.current,N);return He.flushSync((()=>{D(f)})),O.start(1e3,B),f},z=()=>{const e=eg(Jf(n,r,i,a),T.current,N);D(e)},j=(0,Re.A)((e=>{const{scrollTop:t,scrollLeft:r}=e.currentTarget;if(t<0)return;if("ltr"===g.direction&&r<0)return;if("rtl"===g.direction&&r>0)return;const o=B();n.current.publishEvent("scrollPositionChange",{top:t,left:r,renderContext:o})})),U=(0,Re.A)((e=>{n.current.publishEvent("virtualScrollerWheel",{},e)})),G=(0,Re.A)((e=>{n.current.publishEvent("virtualScrollerTouchMove",{},e)})),H=c.width&&M>=c.width,V=t.useMemo((()=>({overflowX:H?void 0:"hidden",overflowY:r.autoHeight?"hidden":void 0})),[H,r.autoHeight]),W=t.useMemo((()=>{const e=Math.max(C,1),t={width:H?M:"auto",height:e};return r.autoHeight&&(0===_.rows.length?t.height=zh(n):t.height=C),t}),[n,M,C,H,r.autoHeight,_.rows.length]);return t.useEffect((()=>{n.current.publishEvent("virtualScrollerContentSizeChange")}),[n,W]),(0,Ve.A)((()=>{n.current.resize()}),[n,y.currentPageTotalHeight]),(0,Ve.A)((()=>{i&&(A.current.scrollLeft=0,A.current.scrollTop=0)}),[i,w,A]),((e,n)=>{const r=t.useRef(!1);(0,Ve.A)((()=>r.current||!e?qp:(r.current=!0,n())),[r.current||e])})(0!==c.width,(()=>{const e=eg(Jf(n,r,i,a),T.current,N);D(e),n.current.publishEvent("scrollPositionChange",{top:T.current.top,left:T.current.left,renderContext:e})})),n.current.register("private",{updateRenderContext:z}),Hl(n,"columnsChange",z),Hl(n,"filteredRowsSet",z),Hl(n,"rowExpansionChange",z),{renderContext:I,setPanels:f,getRows:function(){var t,i,a;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c.rows&&!_.range)return[];const f=null!==(t=c.renderContext)&&void 0!==t?t:I,w=!h&&void 0===c.position||h&&"bottom"===c.position,x=void 0!==c.position;let A;switch(c.position){case"top":A=0;break;case"bottom":A=u.top.length+_.rows.length;break;case void 0:A=u.top.length}const E=null!==(i=c.rows)&&void 0!==i?i:_.rows,S=f.firstRowIndex,C=Math.min(f.lastRowIndex,E.length),M=c.rows?uc(0,c.rows.length):uc(S,C);let T=-1;x||-1===F.rowIndex||(F.rowIndex<S&&(T=F.rowIndex,M.unshift(T)),F.rowIndex>=C&&(T=F.rowIndex,M.push(T)));const P=[],k=null===(a=r.slotProps)||void 0===a?void 0:a.row,O=Ml(n);return M.forEach((t=>{var i;const{id:a,model:u}=E[t];if(R){const e=d.left.length,t=o.length-d.right.length;n.current.calculateColSpan({rowId:a,minFirstColumn:e,maxLastColumn:t,columns:o}),d.left.length>0&&n.current.calculateColSpan({rowId:a,minFirstColumn:0,maxLastColumn:d.left.length,columns:o}),d.right.length>0&&n.current.calculateColSpan({rowId:a,minFirstColumn:o.length-d.right.length,maxLastColumn:o.length,columns:o})}const h=(null===m||void 0===m?void 0:m.id)===a,S=n.current.rowHasAutoHeight(a)?"auto":n.current.unstable_getRowHeight(a);let C;C=null!=b[a]&&n.current.isRowSelectable(a);let M=!1;void 0===c.position&&(M=0===t);let I=!1;if(w)if(x)I=t===E.length-1;else{t===_.rows.length-1&&(I=!0)}const N=t===T;let D=null;if(null!==v&&v.id===a){D="view"===n.current.getCellParams(a,v.field).cellMode?v.field:null}let B=f;!x&&L.current&&t>=L.current.firstRowIndex&&t<L.current.lastRowIndex&&(B=L.current);const z=og(O,B,g.direction,d.left.length),j=((null===_||void 0===_||null===(i=_.range)||void 0===i?void 0:i.firstRowIndex)||0)+A+t;P.push((0,s.jsx)(r.slots.row,(0,e.A)({row:u,rowId:a,index:j,selected:C,offsetTop:c.rows?void 0:y.positions[t],offsetLeft:z,dimensions:l,rowHeight:S,tabbableCell:D,pinnedColumns:d,visibleColumns:o,renderContext:B,focusedColumnIndex:h?F.columnIndex:void 0,isFirstVisible:M,isLastVisible:I,isNotVisible:N},k),a));const U=p.get(a);var G,H;(U&&P.push(U),I)&&P.push(null===(G=(H=n.current).getInfiniteLoadingTriggerElement)||void 0===G?void 0:G.call(H,{lastRowId:a}))})),P},getContainerProps:()=>({ref:x}),getScrollerProps:()=>({ref:A,tabIndex:-1,onScroll:j,onWheel:U,onTouchMove:G,style:V,role:"presentation"}),getContentProps:()=>({style:W,role:"presentation"}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:E,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:S,role:"presentation"})}};function Jf(e,t,n,r){var o;const i=Xl(e.current.state),s=Of(e,t),a=El(e),l=e.current.state.rows.dataRowIds.at(-1),c=a.at(-1);return{enabled:n,enabledForColumns:r,apiRef:e,autoHeight:t.autoHeight,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:void 0!==l?e.current.unstable_getRowHeight(l):0,lastColumnWidth:null!==(o=null===c||void 0===c?void 0:c.computedWidth)&&void 0!==o?o:0,rowsMeta:zf(e.current.state),columnPositions:Ml(e),rows:s.rows,range:s.range,pinnedColumns:Cl(e),visibleColumns:a}}function eg(e,t,n){let r;if(e.enabled){const{top:o,left:i}=t,s=Math.abs(i)+e.leftPinnedWidth,a=Math.min(tg(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1),l=e.autoHeight?a+e.rows.length:tg(e,o+e.viewportInnerHeight);let c=0,u=e.columnPositions.length;if(e.enabledForColumns){let t=!1;const[r,o]=rg({firstIndex:a,lastIndex:l,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});for(let n=r;n<o&&!t;n+=1){const r=e.rows[n];t=e.apiRef.current.rowHasAutoHeight(r.id)}t||(c=ng(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=ng(s+e.viewportInnerWidth,e.columnPositions))}r={firstRowIndex:a,lastRowIndex:l,firstColumnIndex:c,lastColumnIndex:u}}else r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.visibleColumns.length};const o=function(e,t,n){const[r,o]=rg({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[i,s]=rg({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns.left.length,maxLastIndex:e.visibleColumns.length-e.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=function(e){let{firstColumnToRender:t,apiRef:n,firstRowToRender:r,lastRowToRender:o,visibleRows:i}=e,s=t;for(let a=r;a<o;a+=1)if(i[a]){const e=i[a].id,r=n.current.unstable_getCellColSpanInfo(e,t);r&&r.spannedByColSpan&&(s=r.leftVisibleCellIndex)}return s}({firstColumnToRender:i,apiRef:e.apiRef,firstRowToRender:r,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}(e,r,n);return o}function tg(e,t,n){var r,o;const i=e.apiRef.current.getLastMeasuredRowIndex();let s=i===1/0;null!==(r=e.range)&&void 0!==r&&r.lastRowIndex&&!s&&(s=i>=e.range.lastRowIndex);const a=cc(i-((null===(o=e.range)||void 0===o?void 0:o.firstRowIndex)||0),0,e.rowsMeta.positions.length);return s||e.rowsMeta.positions[a]>=t?ng(t,e.rowsMeta.positions,n):function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return ng(e,t,r,Math.floor(n/2),Math.min(n,t.length))}(t,e.rowsMeta.positions,a,n)}function ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(t.length<=0)return-1;if(r>=o)return r;const i=r+Math.floor((o-r)/2),s=t[i];let a;if(null!==n&&void 0!==n&&n.atStart){a=e-((i===t.length-1?n.lastPosition:t[i+1])-s)<s}else a=e<=s;return a?ng(e,t,n,r,i):ng(e,t,n,i+1,o)}function rg(e){let{firstIndex:t,lastIndex:n,bufferBefore:r,bufferAfter:o,minFirstIndex:i,maxLastIndex:s,positions:a,lastSize:l}=e;const c=a[t]-r,u=a[n]+o,d=ng(c,a,{atStart:!0,lastPosition:a[a.length-1]+l}),h=ng(u,a);return[cc(d,i,s),cc(h,i,s)]}function og(e,t,n,r){var o,i;const s=("ltr"===n?1:-1)*(null!==(o=e[t.firstColumnIndex])&&void 0!==o?o:0)-(null!==(i=e[r])&&void 0!==i?i:0);return Math.abs(s)}function ig(e,t,n,r,o,i){if("rtl"===e)switch(t){case Kf.LEFT:t=Kf.RIGHT;break;case Kf.RIGHT:t=Kf.LEFT}switch(t){case Kf.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case Kf.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case Kf.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case Kf.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case Kf.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const sg=qi("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>"overlayType"!==e,overridesResolver:(e,t)=>t.overlayWrapper})((e=>{let{overlayType:t}=e;return{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:"loadingOverlay"===t?5:4}})),ag=qi("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>"overlayType"!==e,overridesResolver:(e,t)=>t.overlayWrapperInner})({}),lg=e=>{const{classes:t}=e;return(0,L.A)({root:["overlayWrapper"],inner:["overlayWrapperInner"]},$s,t)};function cg(t){const n=Nl(),r=ta(),o=Lf(n,r),i=$a(n,Xl);let a=i.viewportOuterSize.height-i.headersTotalHeight-(i.hasScrollX?i.scrollbarSize:0);(r.autoHeight&&0===o.rows.length||0===a)&&(a=zh(n));const l=lg((0,e.A)({},t,{classes:r.classes}));return(0,s.jsx)(sg,{className:(0,O.A)(l.root),overlayType:t.overlayType,children:(0,s.jsx)(ag,(0,e.A)({className:(0,O.A)(l.inner),style:{height:a,width:i.viewportOuterSize.width}},t))})}function ug(){const t=Nl(),n=ta(),r=$a(t,bh),o=$a(t,mf),i=$a(t,_h),a=!i&&r>0&&0===o;let l=null,c="";var u,d,h;i||0!==r||(l=(0,s.jsx)(n.slots.noRowsOverlay,(0,e.A)({},null===(u=n.slotProps)||void 0===u?void 0:u.noRowsOverlay)),c="noRowsOverlay");a&&(l=(0,s.jsx)(n.slots.noResultsOverlay,(0,e.A)({},null===(d=n.slotProps)||void 0===d?void 0:d.noResultsOverlay)),c="noResultsOverlay");i&&(l=(0,s.jsx)(n.slots.loadingOverlay,(0,e.A)({},null===(h=n.slotProps)||void 0===h?void 0:h.loadingOverlay)),c="loadingOverlay");return null===l?null:(0,s.jsx)(cg,{overlayType:c,children:l})}const dg=e=>e.columnMenu;const hg=Hp((function(){const e=el(),n=ta(),r=$a(e,El),o=$a(e,bf),i=$a(e,af),a=$a(e,ef),l=$a(e,Jp),c=$a(e,tf),u=$a(e,Zp),d=$a(e,Qp),h=$a(e,Fp),p=$a(e,dg),f=$a(e,Al),g=$a(e,Np),m=!(null===c&&null===a&&null===l),v=t.useRef(null);return e.current.register("private",{columnHeadersContainerRef:v}),(0,s.jsx)(n.slots.columnHeaders,{ref:v,visibleColumns:r,filterColumnLookup:o,sortColumnLookup:i,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:c,columnHeaderFocus:u,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:f,columnGroupsHeaderStructure:g,hasOtherElementInTabSequence:m})}));function pg(e){return e.signature===jl.DataGrid?e.checkboxSelection&&!0!==e.disableMultipleRowSelection:!e.disableMultipleRowSelection}const fg=qi("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})({flexGrow:1,position:"relative",overflow:"hidden"}),gg=t.forwardRef(((t,n)=>{const r=(()=>{const e=el(),t=ta(),n=$a(e,El),r=$a(e,bh),o=$a(e,Fp),i=$a(e,Ph);let s="grid";return t.treeData&&(s="treegrid"),{role:s,"aria-colcount":n.length,"aria-rowcount":o+1+i+r,"aria-multiselectable":pg(t)}})(),o=ta();return(0,s.jsx)(fg,(0,e.A)({ref:n,ownerState:o,className:t.className,tabIndex:-1},r,{children:t.children}))})),mg=()=>(0,L.A)({root:["topContainer"]},$s,{}),vg=qi("div")({position:"sticky",zIndex:4,top:0,"&::after":{content:'" "',position:"absolute",zIndex:5,bottom:0,left:0,right:0,height:1,width:"var(--DataGrid-rowWidth)",backgroundColor:"var(--DataGrid-rowBorderColor)"}});function yg(t){const n=mg();return(0,s.jsx)(vg,(0,e.A)({},t,{className:(0,O.A)(n.root,t.className,Js["container--top"]),role:"presentation"}))}const bg=()=>(0,L.A)({root:["bottomContainer"]},$s,{}),_g=qi("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function wg(t){const n=bg();return(0,s.jsx)(_g,(0,e.A)({},t,{className:(0,O.A)(n.root,t.className,Js["container--bottom"]),role:"presentation"}))}const xg=qi("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),Ag=t.forwardRef((function(t,n){var r;const o=ta(),i=((e,t)=>{const{classes:n}=e,r={root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]};return(0,L.A)(r,$s,n)})(o,!o.autoHeight&&"auto"===(null===(r=t.style)||void 0===r?void 0:r.minHeight));return(0,s.jsx)(xg,(0,e.A)({ref:n},t,{ownerState:o,className:(0,O.A)(i.root,t.className)}))})),Eg=qi("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Sg=qi("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--DataGrid-rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),Cg=qi(Sg)({left:0,borderRight:"1px solid var(--DataGrid-rowBorderColor)"}),Mg=qi(Sg)({right:0,borderLeft:"1px solid var(--DataGrid-rowBorderColor)"}),Rg=qi("div")({flexGrow:1,borderTop:"1px solid var(--DataGrid-rowBorderColor)"});const Tg=Hp((function(){const e=Nl(),{viewportOuterSize:t,minimumSize:n,hasScrollX:r,hasScrollY:o,scrollbarSize:i,leftPinnedWidth:a,rightPinnedWidth:l}=$a(e,Xl),c=r?i:0,u=t.height-n.height-c,d=Math.max(c,u);return 0===d?null:(0,s.jsxs)(Eg,{className:Js.filler,role:"presentation",style:{height:d},children:[a>0&&(0,s.jsx)(Cg,{className:Js["filler--pinnedLeft"],style:{width:a}}),(0,s.jsx)(Rg,{}),l>0&&(0,s.jsx)(Mg,{className:Js["filler--pinnedRight"],style:{width:l+(o?i:0)}})]})})),Pg=["className"],kg=qi("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),Ig=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,Pg),i=Nl(),a=ta(),l=(e=>{const{classes:t}=e;return(0,L.A)({root:["virtualScrollerRenderZone"]},$s,t)})(a),c=$a(i,(()=>{var e;const t=Hf(i);return null!==(e=zf(i.current.state).positions[t.firstRowIndex])&&void 0!==e?e:0}));return(0,s.jsx)(kg,(0,e.A)({ref:n,className:(0,O.A)(l.root,r),ownerState:a,style:{transform:"translate3d(0, ".concat(c,"px, 0)")}},o))})),Og=qi("div")({position:"absolute",display:"inline-block",zIndex:6,"& > div":{display:"inline-block"},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),Lg=qi(Og)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),Ng=qi(Og)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Fg=qi("div")({display:"inline-block"}),Dg=t.forwardRef((function(e,n){const r=el(),o=ta(),i=t.useRef(!1),a=t.useRef(0),l=t.useRef(null),c=t.useRef(null),u=((e,t)=>{const{classes:n}=e,r={root:["scrollbar","scrollbar--".concat(t)],content:["scrollbarContent"]};return(0,L.A)(r,$s,n)})(o,e.position),d=$a(r,Xl),h="vertical"===e.position?"height":"width",p="vertical"===e.position?"scrollTop":"scrollLeft",f="vertical"===e.position?d.hasScrollX:d.hasScrollY,g=d.minimumSize[h]+(f?d.scrollbarSize:0),m=("vertical"===e.position?d.viewportInnerSize.height:d.viewportOuterSize.width)*(g/d.viewportOuterSize[h]),v=(0,Re.A)((()=>{const e=r.current.virtualScrollerRef.current,t=l.current;if(e[p]===a.current)return;if(i.current)return void(i.current=!1);i.current=!0;const n=e[p]/g;t[p]=n*m,a.current=e[p]})),y=(0,Re.A)((()=>{const e=r.current.virtualScrollerRef.current,t=l.current;if(i.current)return void(i.current=!1);i.current=!0;const n=t[p]/m;e[p]=n*g}));(0,Va.A)((()=>{const e=r.current.virtualScrollerRef.current,t=l.current;return e.addEventListener("scroll",v,{capture:!0}),t.addEventListener("scroll",y,{capture:!0}),()=>{e.removeEventListener("scroll",v,{capture:!0}),t.removeEventListener("scroll",y,{capture:!0})}})),t.useEffect((()=>{c.current.style.setProperty(h,"".concat(m,"px"))}),[m,h]);const b="vertical"===e.position?Lg:Ng;return(0,s.jsx)(b,{ref:(0,ye.A)(n,l),className:u.root,tabIndex:-1,children:(0,s.jsx)(Fg,{ref:c,className:u.content})})})),Bg=qi("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({position:"relative",height:"100%",overflow:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function zg(t){const n=Nl(),r=ta(),o=$a(n,Xl),i=((e,t)=>{const{classes:n}=e,r={root:["main",t.rightPinnedWidth>0&&"main--hasPinnedRight"],scroller:["virtualScroller"]};return(0,L.A)(r,$s,n)})(r,o),a=$f(),{getContainerProps:l,getScrollerProps:c,getContentProps:u,getRenderZoneProps:d,getScrollbarVerticalProps:h,getScrollbarHorizontalProps:p,getRows:f}=a,g=f();return(0,s.jsxs)(gg,(0,e.A)({className:i.root},l(),{children:[(0,s.jsx)(Wp,{scrollDirection:"left"}),(0,s.jsx)(Wp,{scrollDirection:"right"}),(0,s.jsxs)(Bg,(0,e.A)({className:i.scroller},c(),{ownerState:r,children:[(0,s.jsxs)(yg,{children:[(0,s.jsx)(hg,{}),(0,s.jsx)(r.slots.pinnedRows,{position:"top",virtualScroller:a})]}),(0,s.jsx)(ug,{}),(0,s.jsx)(Ag,(0,e.A)({},u(),{children:(0,s.jsxs)(Ig,(0,e.A)({},d(),{children:[g,(0,s.jsx)(r.slots.detailPanels,{virtualScroller:a})]}))})),g.length>0&&(0,s.jsx)(Tg,{}),(0,s.jsx)(wg,{children:(0,s.jsx)(r.slots.pinnedRows,{position:"bottom",virtualScroller:a})})]})),o.hasScrollY&&(0,s.jsx)(Dg,(0,e.A)({position:"vertical"},h())),o.hasScrollX&&(0,s.jsx)(Dg,(0,e.A)({position:"horizontal"},p())),t.children]}))}function jg(){var t;const n=ta();return n.hideFooter?null:(0,s.jsx)(n.slots.footer,(0,e.A)({},null===(t=n.slotProps)||void 0===t?void 0:t.footer))}function Ug(e){let{privateApiRef:n,props:r,children:o}=e;const i=t.useRef(n.current.getPublicApi());return(0,s.jsx)(ea.Provider,{value:r,children:(0,s.jsx)(Ja.Provider,{value:n,children:(0,s.jsx)(Ll.Provider,{value:i,children:o})})})}const Gg=function(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),Hg=()=>{},Vg={debug:Hg,info:Hg,warn:Hg,error:Hg},Wg=["debug","info","warn","error"];function Xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;const r=Wg.indexOf(t);if(-1===r)throw new Error("MUI X: Log level ".concat(t," not recognized."));const o=Wg.reduce(((t,o,i)=>(t[o]=i>=r?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const[s,...a]=r;n[o]("MUI X: ".concat(e," - ").concat(s),...a)}:Hg,t)),{});return o}class qg{static create(e){return new qg(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.getSnapshot=()=>this.value,this.update=e=>{this.value=e,this.listeners.forEach((t=>t(e)))},this.value=e,this.listeners=new Set}}class Kg{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e){const t=this.events[e];if(!t)return;const n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys());for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];for(let a=n.length-1;a>=0;a-=1){const e=n[a];t.highPriority.has(e)&&e.apply(this,i)}for(let a=0;a<r.length;a+=1){const e=r[a];t.regular.has(e)&&e.apply(this,i)}}once(e,t){const n=this;this.on(e,(function r(){n.removeListener(e,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];t.apply(n,i)}))}}const Yg=Symbol("mui.api_private");let Zg=0;function Qg(e,n){var r;const o=t.useRef(),i=t.useRef();i.current||(i.current=function(e){var t;const n=null===(t=e.current)||void 0===t?void 0:t[Yg];if(n)return n;const r={},o={state:r,store:qg.create(r),instanceId:{id:Zg}};return Zg+=1,o.getPublicApi=()=>e.current,o.register=(t,n)=>{Object.keys(n).forEach((r=>{const i=n[r],s=o[r];if(!0===(null===s||void 0===s?void 0:s.spying)?s.target=i:o[r]=i,"public"===t){const t=e.current,n=t[r];!0===(null===n||void 0===n?void 0:n.spying)?n.target=i:t[r]=i}}))},o.register("private",{caches:{},eventManager:new Kg}),o}(o)),o.current||(o.current=function(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[Yg]:e.current}}(i));const s=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,s,a={}]=t;if(a.defaultMuiPrevented=!1,(e=>void 0!==e.isPropagationStopped)(a)&&a.isPropagationStopped())return;const l=n.signature===jl.DataGridPro?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(o,s,a,l)}),[i,n.signature]),a=t.useCallback(((e,t,n)=>{i.current.eventManager.on(e,t,n);const r=i.current;return()=>{r.eventManager.removeListener(e,t)}}),[i]);return Wf(i,{subscribeEvent:a,publishEvent:s},"public"),!e||null!==(r=e.current)&&void 0!==r&&r.state||(e.current=o.current),t.useImperativeHandle(e,(()=>o.current),[o]),t.useEffect((()=>{const e=i.current;return()=>{e.publishEvent("unmount")}}),[i]),i}function $g(e){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(e)}function Jg(e){var t=function(e,t){if("object"!=$g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$g(t)?t:t+""}const em="none",tm={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},nm=(n,r)=>{const o=Qg(n,r);return(e=>{const n=t.useRef(null),r=t.useRef(null),o=t.useRef(null);e.current.register("public",{rootElementRef:n}),e.current.register("private",{mainElementRef:r,virtualScrollerRef:o})})(o),(n=>{const r=it();n.current.state.theme||(n.current.state.theme=r);const o=t.useRef(!0);t.useEffect((()=>{o.current?o.current=!1:n.current.setState((t=>(0,e.A)({},t,{theme:r})))}),[n,r])})(o),((e,n)=>{Wf(e,{getLogger:t.useCallback((e=>Gg?Xg(e,"debug",n.logger):n.logLevel?Xg(e,n.logLevel.toString(),n.logger):Vg),[n.logLevel,n.logger])},"private")})(o,r),(n=>{const r=t.useRef({}),[,o]=t.useState(),i=t.useCallback((e=>{r.current[e.stateId]=e}),[]),s=t.useCallback(((e,t)=>{let o;if(o=sc(e)?e(n.current.state):e,n.current.state===o)return!1;let i=!1;const s=[];if(Object.keys(r.current).forEach((e=>{const t=r.current[e],a=t.stateSelector(n.current.state,n.current.instanceId),l=t.stateSelector(o,n.current.instanceId);l!==a&&(s.push({stateId:t.stateId,hasPropChanged:l!==t.propModel}),void 0!==t.propModel&&l!==t.propModel&&(i=!0))})),s.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(s[0].stateId,", therefore, you're not allowed to update ").concat(s.map((e=>e.stateId)).join(", ")," in the same transaction."));if(i||(n.current.state=o,n.current.publishEvent&&n.current.publishEvent("stateChange",o),n.current.store.update(o)),1===s.length){const{stateId:e,hasPropChanged:a}=s[0],l=r.current[e],c=l.stateSelector(o,n.current.instanceId);l.propOnChange&&a&&l.propOnChange(c,{reason:t,api:n.current}),i||n.current.publishEvent(l.changeEvent,c,{reason:t})}return!i}),[n]),a=t.useCallback(((t,r,o)=>n.current.setState((n=>(0,e.A)({},n,{[t]:r(n[t])})),o)),[n]),l=t.useCallback((()=>o((()=>n.current.state))),[n]),c={updateControlState:a,registerControlState:i};Wf(n,{setState:s,forceUpdate:l},"public"),Wf(n,c,"private")})(o),(e=>{const n=t.useRef({}),r=t.useRef(!1),o=t.useCallback((e=>{!r.current&&e&&(r.current=!0,Object.values(e.appliers).forEach((e=>{e()})),r.current=!1)}),[]),i=t.useCallback(((e,t,r)=>{n.current[e]||(n.current[e]={processors:new Map,processorsAsArray:[],appliers:{}});const i=n.current[e];return i.processors.get(t)!==r&&(i.processors.set(t,r),i.processorsAsArray=Array.from(n.current[e].processors.values()),o(i)),()=>{n.current[e].processors.delete(t),n.current[e].processorsAsArray=Array.from(n.current[e].processors.values())}}),[o]),s=t.useCallback(((e,t,r)=>(n.current[e]||(n.current[e]={processors:new Map,processorsAsArray:[],appliers:{}}),n.current[e].appliers[t]=r,()=>{const r=n.current[e].appliers,o=(0,f.A)(r,[t].map(Jg));n.current[e].appliers=o})),[]),a=t.useCallback((e=>{o(n.current[e])}),[o]),l={unstable_applyPipeProcessors:t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,s]=t;if(!n.current[o])return i;const a=n.current[o].processorsAsArray;let l=i;for(let n=0;n<a.length;n+=1)l=a[n](l,s);return l}),[])};Wf(e,{registerPipeProcessor:i,registerPipeApplier:s,requestPipeProcessorsApplication:a},"private"),Wf(e,l,"public")})(o),(e=>{const n=t.useRef(new Map),r=t.useRef({}),o=t.useCallback(((t,n,o)=>{const i=()=>{const e=r.current[n],o=(0,f.A)(e,[t].map(Jg));r.current[n]=o};r.current[n]||(r.current[n]={});const s=r.current[n],a=s[t];return s[t]=o,a&&a!==o?(t===e.current.getActiveStrategy(tm[n])&&e.current.publishEvent("activeStrategyProcessorChange",n),i):i}),[e]),i=t.useCallback(((t,n)=>{const o=e.current.getActiveStrategy(tm[t]);if(null==o)throw new Error("Can't apply a strategy processor before defining an active strategy");const i=r.current[t];if(!i||!i[o])throw new Error('No processor found for processor "'.concat(t,'" on strategy "').concat(o,'"'));return(0,i[o])(n)}),[e]),s=t.useCallback((e=>{var t;const r=Array.from(n.current.entries()).find((t=>{let[,n]=t;return n.group===e&&n.isAvailable()}));return null!==(t=null===r||void 0===r?void 0:r[0])&&void 0!==t?t:em}),[]),a=t.useCallback(((t,r,o)=>{n.current.set(r,{group:t,isAvailable:o}),e.current.publishEvent("strategyAvailabilityChange")}),[e]);Wf(e,{registerStrategyProcessor:o,applyStrategyProcessor:i,getActiveStrategy:s,setStrategyAvailability:a},"private")})(o),((e,n)=>{const r=t.useCallback((e=>{if(null==n.localeText[e])throw new Error("Missing translation for key ".concat(e,"."));return n.localeText[e]}),[n.localeText]);e.current.register("public",{getLocaleText:r})})(o,r),o.current.register("private",{rootProps:r}),o},rm=(e,n,r)=>{const o=t.useRef(!1);o.current||(n.current.state=e(n.current.state,r,n),o.current=!0)};function om(e,n){const r=t.useRef(null);if(r.current)return r.current;const o=e.current.getLogger(n);return r.current=o,o}const im=(e,n,r,o,i)=>{var s;const a=om(e,"useNativeEventListener"),[l,c]=t.useState(!1),u=t.useRef(o),d=sc(n)?n():null!==(s=null===n||void 0===n?void 0:n.current)&&void 0!==s?s:null,h=t.useCallback((e=>u.current&&u.current(e)),[]);t.useEffect((()=>{u.current=o}),[o]),t.useEffect((()=>{if(d&&r&&!l){a.debug("Binding native ".concat(r," event")),d.addEventListener(r,h,i),c(!0);const t=()=>{a.debug("Clearing native ".concat(r," event")),d.removeEventListener(r,h,i)};e.current.subscribeEvent("unmount",t)}}),[d,h,r,l,a,i,e])},sm=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],am=t.forwardRef((function(n,r){var o;const{field:i,id:a,value:l,rowNode:c,hasFocus:u,tabIndex:d}=n,h=(0,f.A)(n,sm),p=Nl(),g=ta(),m=(e=>{const{classes:t}=e;return(0,L.A)({root:["checkboxInput"]},$s,t)})({classes:g.classes}),v=t.useRef(null),y=t.useRef(null),b=(0,ye.A)(v,r);t.useLayoutEffect((()=>{if(0===d){const e=p.current.getCellElement(a,i);e&&(e.tabIndex=-1)}}),[p,d,a,i]),t.useEffect((()=>{if(u){var e;const t=null===(e=v.current)||void 0===e?void 0:e.querySelector("input");null===t||void 0===t||t.focus({preventScroll:!0})}else y.current&&y.current.stop({})}),[u]);const _=t.useCallback((e=>{" "===e.key&&e.stopPropagation()}),[]);if("footer"===c.type||"pinnedRow"===c.type)return null;const w=p.current.isRowSelectable(a),x=p.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,s.jsx)(g.slots.baseCheckbox,(0,e.A)({ref:b,tabIndex:d,checked:l,onChange:e=>{const t={value:e.target.checked,id:a};p.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:m.root,inputProps:{"aria-label":x},onKeyDown:_,disabled:!w,touchRippleRef:y},null===(o=g.slotProps)||void 0===o?void 0:o.baseCheckbox,h))})),lm=am,cm=["field","colDef"],um=t.forwardRef((function(n,r){var o;const i=(0,f.A)(n,cm),[,a]=t.useState(!1),l=Nl(),c=ta(),u=(e=>{const{classes:t}=e;return(0,L.A)({root:["checkboxInput"]},$s,t)})({classes:c.classes}),d=$a(l,ef),h=$a(l,Nf),p=$a(l,hf),g=$a(l,If),m=t.useMemo((()=>"function"!==typeof c.isRowSelectable?h:h.filter((e=>!!l.current.getRow(e)&&c.isRowSelectable(l.current.getRowParams(e))))),[l,c.isRowSelectable,h]),v=t.useMemo((()=>(c.pagination&&c.checkboxSelectionVisibleOnly?g:p).reduce(((e,t)=>(e[t]=!0,e)),{})),[c.pagination,c.checkboxSelectionVisibleOnly,g,p]),y=t.useMemo((()=>m.filter((e=>v[e])).length),[m,v]),b=y>0&&y<Object.keys(v).length,_=y>0,w=null!==d&&d.field===n.field?0:-1;t.useLayoutEffect((()=>{const e=l.current.getColumnHeaderElement(n.field);0===w&&e&&(e.tabIndex=-1)}),[w,l,n.field]);const x=t.useCallback((e=>{" "===e.key&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!_})}),[l,_]),A=t.useCallback((()=>{a((e=>!e))}),[]);t.useEffect((()=>l.current.subscribeEvent("rowSelectionChange",A)),[l,A]);const E=l.current.getLocaleText(_?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,s.jsx)(c.slots.baseCheckbox,(0,e.A)({ref:r,indeterminate:b,checked:_,onChange:e=>{const t={value:e.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",t)},className:u.root,inputProps:{"aria-label":E},tabIndex:w,onKeyDown:x,disabled:!pg(c)},null===(o=c.slotProps)||void 0===o?void 0:o.baseCheckbox,i))})),dm="__check__",hm=(0,e.A)({},Kh,{type:"custom",field:dm,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(e,t,n,r)=>void 0!==Bf(r)[r.current.getRowId(t)],renderHeader:t=>(0,s.jsx)(um,(0,e.A)({},t)),renderCell:t=>(0,s.jsx)(lm,(0,e.A)({},t))});function pm(e,t,n){if("string"===typeof e){if(n){const n=e.replace(/"/g,'""');return[t,"\n","\r",'"'].some((t=>e.includes(t)))?'"'.concat(n,'"'):n}return e}return e}const fm=(e,t)=>{const{delimiterCharacter:n,ignoreValueFormatter:r,shouldAppendQuotes:o}=t;let i;if(r){var s;const t=e.colDef.type;if("number"===t)i=String(e.value);else if("date"===t||"dateTime"===t){var a;i=null===(a=e.value)||void 0===a?void 0:a.toISOString()}else i="function"===typeof(null===(s=e.value)||void 0===s?void 0:s.toString)?e.value.toString():e.value}else i=e.formattedValue;return pm(i,n,o)};Wa(["MUI X: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class gm{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.delimiterCharacter),null===e||void 0===e?this.rowString+="":"function"===typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(e,this.options.delimiterCharacter,this.options.shouldAppendQuotes):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}function mm(e){const{columns:t,rowIds:n,delimiterCharacter:r,includeHeaders:o,includeColumnGroupsHeaders:i,ignoreValueFormatter:s,apiRef:a,shouldAppendQuotes:l}=e,c=n.reduce(((e,n)=>"".concat(e).concat((e=>{let{id:t,columns:n,getCellParams:r,delimiterCharacter:o,ignoreValueFormatter:i,shouldAppendQuotes:s}=e;const a=new gm({delimiterCharacter:o,shouldAppendQuotes:s});return n.forEach((e=>{const n=r(t,e.field);a.addValue(fm(n,{delimiterCharacter:o,ignoreValueFormatter:i,shouldAppendQuotes:s}))})),a.getRowString()})({id:n,columns:t,getCellParams:a.current.getCellParams,delimiterCharacter:r,ignoreValueFormatter:s,shouldAppendQuotes:l}),"\r\n")),"").trim();if(!o)return c;const u=t.filter((e=>e.field!==hm.field)),d=[];if(i){const e=a.current.getAllGroupDetails();let t=0;const n=u.reduce(((e,n)=>{const r=a.current.getColumnGroupPath(n.field);return e[n.field]=r,t=Math.max(t,r.length),e}),{});for(let o=0;o<t;o+=1){const t=new gm({delimiterCharacter:r,sanitizeCellValue:pm,shouldAppendQuotes:l});d.push(t),u.forEach((r=>{const i=(n[r.field]||[])[o],s=e[i];t.addValue(s?s.headerName||s.groupId:"")}))}}const h=new gm({delimiterCharacter:r,sanitizeCellValue:pm,shouldAppendQuotes:l});u.forEach((e=>{h.addValue(e.headerName||e.field)})),d.push(h);const p="".concat(d.map((e=>e.getRowString())).join("\r\n"),"\r\n");return"".concat(p).concat(c).trim()}function vm(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const ym=(e,n)=>{const r=n.ignoreValueFormatterDuringExport,o=("object"===typeof r?null===r||void 0===r?void 0:r.clipboardExport:r)||!1,i=n.clipboardCopyCellDelimiter,s=t.useCallback((t=>{if(!t.ctrlKey&&!t.metaKey||"c"!==t.key.toLowerCase()||t.shiftKey||t.altKey)return;if(function(e){var t;return!(null===(t=window.getSelection())||void 0===t||!t.toString())||!!(e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}(t.target))return;let n="";if(e.current.getSelectedRows().size>0)n=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1});else{const t=Yp(e);if(t){const r=e.current.getCellParams(t.id,t.field);n=fm(r,{delimiterCharacter:i,ignoreValueFormatter:o,shouldAppendQuotes:!1})}}var r;n=e.current.unstable_applyPipeProcessors("clipboardCopy",n),n&&(r=n,navigator.clipboard?navigator.clipboard.writeText(r).catch((()=>{vm(r)})):vm(r),e.current.publishEvent("clipboardCopy",n))}),[e,o,i]);im(e,e.current.rootElementRef,"keydown",s),Wl(e,"clipboardCopy",n.onClipboardCopy)},bm=t=>(0,e.A)({},t,{columnMenu:{open:!1}}),_m=e=>{const n=t.useRef(!0);n.current&&(n.current=!1,e())},wm=(e,n,r)=>{const o=t.useRef(),i=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),s=t.useCallback((()=>{o.current=e.current.registerPipeProcessor(n,i.current,r)}),[e,r,n]);_m((()=>{s()}));const a=t.useRef(!0);t.useEffect((()=>(a.current?a.current=!1:s(),()=>{o.current&&(o.current(),o.current=null)})),[s])},xm=(e,n,r)=>{const o=t.useRef(),i=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),s=t.useCallback((()=>{o.current=e.current.registerPipeApplier(n,i.current,r)}),[e,r,n]);_m((()=>{s()}));const a=t.useRef(!0);t.useEffect((()=>(a.current?a.current=!1:s(),()=>{o.current&&(o.current(),o.current=null)})),[s])},Am=(t,n,r)=>{var o,i,s,a,l;const c=Up({apiRef:r,columnsToUpsert:n.columns,initialState:null===(o=n.initialState)||void 0===o?void 0:o.columns,columnVisibilityModel:null!==(i=null!==(s=n.columnVisibilityModel)&&void 0!==s?s:null===(a=n.initialState)||void 0===a||null===(a=a.columns)||void 0===a?void 0:a.columnVisibilityModel)&&void 0!==i?i:{},keepOnlyColumnsToUpsert:!0});return(0,e.A)({},t,{columns:c,pinnedColumns:null!==(l=t.pinnedColumns)&&void 0!==l?l:yl})};function Em(t){return n=>(0,e.A)({},n,{columns:t})}const Sm=(t,n)=>{var r,o,i;return(0,e.A)({},t,{density:null!==(r=null!==(o=null===(i=n.initialState)||void 0===i?void 0:i.density)&&void 0!==o?o:n.density)&&void 0!==r?r:"standard"})};const Cm=e=>{let{apiRef:t,options:n}=e;const r=xl(t);if(n.fields)return n.fields.reduce(((e,t)=>{const n=r.find((e=>e.field===t));return n&&e.push(n),e}),[]);return(n.allColumns?r:El(t)).filter((e=>!e.disableExport))},Mm=e=>{var t,n;let{apiRef:r}=e;const o=ff(r),i=Eh(r),s=r.current.getSelectedRows(),a=o.filter((e=>"footer"!==i[e].type)),l=Th(r),c=(null===l||void 0===l||null===(t=l.top)||void 0===t?void 0:t.map((e=>e.id)))||[],u=(null===l||void 0===l||null===(n=l.bottom)||void 0===n?void 0:n.map((e=>e.id)))||[];return a.unshift(...c),a.push(...u),s.size>0?a.filter((e=>s.has(e))):a},Rm=["hideMenu","options"],Tm=["hideMenu","options"];function Pm(t){const n=Nl(),{hideMenu:r,options:o}=t,i=(0,f.A)(t,Rm);return(0,s.jsx)(wa,(0,e.A)({onClick:()=>{n.current.exportDataAsCsv(o),null===r||void 0===r||r()}},i,{children:n.current.getLocaleText("toolbarExportCSV")}))}function km(t){const n=Nl(),{hideMenu:r,options:o}=t,i=(0,f.A)(t,Tm);return(0,s.jsx)(wa,(0,e.A)({onClick:()=>{n.current.exportDataAsPrint(o),null===r||void 0===r||r()}},i,{children:n.current.getLocaleText("toolbarExportPrint")}))}const Im=(e,n)=>{const r=om(e,"useGridCsvExport"),o=n.ignoreValueFormatterDuringExport,i=("object"===typeof o?null===o||void 0===o?void 0:o.csvExport:o)||!1,a=t.useCallback((function(){var t,n,o,s;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.debug("Get data as CSV");return mm({columns:Cm({apiRef:e,options:a}),rowIds:(null!==(t=a.getRowsToExport)&&void 0!==t?t:Mm)({apiRef:e}),delimiterCharacter:a.delimiter||",",includeHeaders:null===(n=a.includeHeaders)||void 0===n||n,includeColumnGroupsHeaders:null===(o=a.includeColumnGroupsHeaders)||void 0===o||o,ignoreValueFormatter:i,apiRef:e,shouldAppendQuotes:null===(s=a.shouldAppendQuotes)||void 0===s||s})}),[r,e,i]),l=t.useCallback((e=>{r.debug("Export data as CSV");const t=a(e);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled";const r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.download=r,n.click(),void setTimeout((()=>{URL.revokeObjectURL(t)}))}throw new Error("MUI X: exportAs not supported.")}(new Blob([null!==e&&void 0!==e&&e.utf8WithBom?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",null===e||void 0===e?void 0:e.fileName)}),[r,a]);Wf(e,{getDataAsCsv:a,exportDataAsCsv:l},"public");const c=t.useCallback(((e,t)=>{var n;return null!==(n=t.csvOptions)&&void 0!==n&&n.disableToolbarButton?e:[...e,{component:(0,s.jsx)(Pm,{options:t.csvOptions}),componentName:"csvExport"}]}),[]);wm(e,"exportMenu",c)},Om=(t,n,r)=>{var o,i;let s=t.paginationModel;const a=t.rowCount,l=null!==(o=null===r||void 0===r?void 0:r.pageSize)&&void 0!==o?o:s.pageSize,c=null!==(i=null===r||void 0===r?void 0:r.page)&&void 0!==i?i:s.page,u=_f(a,l,c);!r||(null===r||void 0===r?void 0:r.page)===s.page&&(null===r||void 0===r?void 0:r.pageSize)===s.pageSize||(s=r);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e:Math.max(Math.min(e,t-1),0)}(s.page,u);return d!==s.page&&(s=(0,e.A)({},s,{page:d})),xf(s.pageSize,n),s};const Lm=(n,r)=>{const o=om(n,"useGridPrintExport"),i=t.useRef(null),a=t.useRef(null),l=t.useRef({}),c=t.useRef([]);t.useEffect((()=>{i.current=(0,Me.A)(n.current.rootElementRef.current)}),[n]);const u=t.useCallback(((e,t,r)=>new Promise((o=>{const i=Cm({apiRef:n,options:{fields:e,allColumns:t}}).map((e=>e.field)),s=xl(n),a={};s.forEach((e=>{a[e.field]=i.includes(e.field)})),r&&(a[hm.field]=!0),n.current.setColumnVisibilityModel(a),o()}))),[n]),d=t.useCallback((e=>{const t=e({apiRef:n}).map((e=>n.current.getRow(e)));n.current.setRows(t)}),[n]),h=t.useCallback(((t,o)=>{var s,a;const l=(0,e.A)({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},o),c=t.contentDocument;if(!c)return;const u=zf(n.current.state),d=n.current.rootElementRef.current,h=d.cloneNode(!0);h.querySelector(".".concat(Js.main)).style.overflow="visible",h.style.contain="size";let p=(null===(s=d.querySelector(".".concat(Js.toolbarContainer)))||void 0===s?void 0:s.offsetHeight)||0,f=(null===(a=d.querySelector(".".concat(Js.footerContainer)))||void 0===a?void 0:a.offsetHeight)||0;var g,m;l.hideToolbar&&(null===(g=h.querySelector(".".concat(Js.toolbarContainer)))||void 0===g||g.remove(),p=0);l.hideFooter&&(null===(m=h.querySelector(".".concat(Js.footerContainer)))||void 0===m||m.remove(),f=0);const v=u.currentPageTotalHeight+Gp(n,r)+p+f;h.style.height="".concat(v,"px"),h.style.boxSizing="content-box";const y=h.querySelector(".".concat(Js.footerContainer));y.style.position="absolute",y.style.width="100%",y.style.top="".concat(v-f,"px");const b=document.createElement("div");b.appendChild(h),c.body.innerHTML=b.innerHTML;const _="function"===typeof l.pageStyle?l.pageStyle():l.pageStyle;if("string"===typeof _){const e=c.createElement("style");e.appendChild(c.createTextNode(_)),c.head.appendChild(e)}l.bodyClassName&&c.body.classList.add(...l.bodyClassName.split(" "));const w=[];if(l.copyStyles){const e=d.getRootNode(),t=("ShadowRoot"===e.constructor.name?e:i.current).querySelectorAll("style, link[rel='stylesheet']");for(let n=0;n<t.length;n+=1){const e=t[n];if("STYLE"===e.tagName){const t=c.createElement(e.tagName),n=e.sheet;if(n){let e="";for(let t=0;t<n.cssRules.length;t+=1)"string"===typeof n.cssRules[t].cssText&&(e+="".concat(n.cssRules[t].cssText,"\r\n"));t.appendChild(c.createTextNode(e)),c.head.appendChild(t)}}else if(e.getAttribute("href")){const t=c.createElement(e.tagName);for(let n=0;n<e.attributes.length;n+=1){const r=e.attributes[n];r&&t.setAttribute(r.nodeName,r.nodeValue||"")}w.push(new Promise((e=>{t.addEventListener("load",(()=>e()))}))),c.head.appendChild(t)}}}Promise.all(w).then((()=>{t.contentWindow.print()}))}),[n,i,r]),p=t.useCallback((e=>{var t;i.current.body.removeChild(e),n.current.restoreState(a.current||{}),null!==(t=a.current)&&void 0!==t&&null!==(t=t.columns)&&void 0!==t&&t.columnVisibilityModel||n.current.setColumnVisibilityModel(l.current),n.current.unstable_setVirtualization(!0),n.current.setRows(c.current),a.current=null,l.current={},c.current=[]}),[n]),f=t.useCallback((async t=>{var s;if(o.debug("Export data as Print"),!n.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(a.current=n.current.exportState(),l.current=Al(n),c.current=n.current.getSortedRows(),r.pagination){const t={page:0,pageSize:mf(n)};n.current.setState((n=>(0,e.A)({},n,{pagination:(0,e.A)({},n.pagination,{paginationModel:Om(n.pagination,"DataGridPro",t)})}))),n.current.forceUpdate()}await u(null===t||void 0===t?void 0:t.fields,null===t||void 0===t?void 0:t.allColumns,null===t||void 0===t?void 0:t.includeCheckboxes),d(null!==(s=null===t||void 0===t?void 0:t.getRowsToExport)&&void 0!==s?s:Mm),n.current.unstable_setVirtualization(!1),await new Promise((e=>{requestAnimationFrame((()=>{e()}))}));const f=function(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}(null===t||void 0===t?void 0:t.fileName);f.onload=()=>{h(f,t);f.contentWindow.matchMedia("print").addEventListener("change",(e=>{!1===e.matches&&p(f)}))},i.current.body.appendChild(f)}),[r,o,n,h,p,u,d]);Wf(n,{exportDataAsPrint:f},"public");const g=t.useCallback(((e,t)=>{var n;return null!==(n=t.printOptions)&&void 0!==n&&n.disableToolbarButton?e:[...e,{component:(0,s.jsx)(km,{options:t.printOptions}),componentName:"printExport"}]}),[]);wm(n,"exportMenu",g)},Nm=(e,n,r,o)=>{const i=t.useCallback((()=>{e.current.registerStrategyProcessor(n,r,o)}),[e,o,r,n]);_m((()=>{i()}));const s=t.useRef(!0);t.useEffect((()=>{s.current?s.current=!1:i()}),[i])},Fm=(t,n,r)=>{var o,i,s;const a=null!==(o=null!==(i=n.filterModel)&&void 0!==i?i:null===(s=n.initialState)||void 0===s||null===(s=s.filter)||void 0===s?void 0:s.filterModel)&&void 0!==o?o:jd();return(0,e.A)({},t,{filter:{filterModel:qd(a,n.disableMultipleColumnsFiltering,r),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},Dm=e=>e.filteredRowsLookup;function Bm(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function zm(){return rl(Object.values)}const jm=t=>(0,e.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Um="__detail_panel_toggle__";function Gm(e,t){return e.closest(".".concat(t))}function Hm(e){return e.replace(/["\\]/g,"\\$&")}function Vm(e){return".".concat(Js.row,'[data-id="').concat(Hm(String(e)),'"]')}function Wm(e){return 1===e.target.nodeType&&!e.currentTarget.contains(e.target)}function Xm(e,t){return e.rootElementRef.current.querySelector(".".concat(Js[t]))}const qm=e=>{let{api:t,colIndex:n,position:r,filterFn:o}=e;if(null===n)return[];const i=[];return Ym(t).forEach((e=>{e.getAttribute("data-id")&&e.querySelectorAll(".".concat(Js["left"===r?"cell--pinnedLeft":"cell--pinnedRight"])).forEach((e=>{const t=Zm(e);null!==t&&o(t)&&i.push(e)}))})),i};const Km=e=>{var t;let{api:n,colIndex:r,position:o,filterFn:i}=e;if(null===(t=n.columnHeadersContainerRef)||void 0===t||!t.current)return[];if(null===r)return[];const s=[];return n.columnHeadersContainerRef.current.querySelectorAll(".".concat(Js["left"===o?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"])).forEach((e=>{const t=Zm(e);null!==t&&i(t)&&s.push(e)})),s};function Ym(e){return e.virtualScrollerRef.current.querySelectorAll(":scope > div > div > .".concat(Js.row))}function Zm(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const Qm=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,direction:o}=e;if("rtl"===o){if(t<r)return t+1}else if("ltr"===o&&t>n)return t-1;return null},$m=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,direction:o}=e;if("rtl"===o){if(t>n)return t-1}else if("ltr"===o&&t<r)return t+1;return null},Jm=(e,n)=>{const r=om(e,"useGridKeyboardNavigation"),o=Lf(e,n).rows,i=it(),s=t.useMemo((()=>function(e,t){const n=Th(e)||{};return[...n.top||[],...t,...n.bottom||[]]}(e,o)),[e,o]),a="DataGrid"!==n.signature&&n.headerFilters,l=t.useCallback((function(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const i=df(e),s=e.current.unstable_getCellColSpanInfo(n,t);s&&s.spannedByColSpan&&("left"===o?t=s.leftVisibleCellIndex:"right"===o&&(t=s.rightVisibleCellIndex));const a=i.findIndex((e=>e.id===n));r.debug("Navigating to cell row ".concat(a,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:a});const l=e.current.getVisibleColumns()[t].field;e.current.setCellFocus(n,l)}),[e,r]),c=t.useCallback(((t,n)=>{r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(o,n)}),[e,r]),u=t.useCallback(((t,n)=>{r.debug("Navigating to header filter col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(o,n)}),[e,r]),d=t.useCallback(((t,n,o)=>{r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const{field:i}=e.current.getVisibleColumns()[t];e.current.setColumnGroupHeaderFocus(i,n,o)}),[e,r]),h=t.useCallback((e=>{var t;return null===(t=s[e])||void 0===t?void 0:t.id}),[s]),p=t.useCallback(((t,n)=>{const r=n.currentTarget.querySelector(".".concat(Js.columnHeaderTitleContainerContent));if(!!r&&r.contains(n.target)&&t.field!==hm.field)return;const o=e.current.getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,f=s.length>0?0:null,g=s.length-1,m=El(e).length-1,v=Fp(e);let y=!0;switch(n.key){case"ArrowDown":null!==f&&(a?u(p,n):l(p,h(f)));break;case"ArrowRight":{const e=$m({currentColIndex:p,firstColIndex:0,lastColIndex:m,direction:i.direction});null!==e&&c(e,n);break}case"ArrowLeft":{const e=Qm({currentColIndex:p,firstColIndex:0,lastColIndex:m,direction:i.direction});null!==e&&c(e,n);break}case"ArrowUp":v>0&&d(p,v-1,n);break;case"PageDown":null!==f&&null!==g&&l(p,h(Math.min(f+o,g)));break;case"Home":c(0,n);break;case"End":c(m,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:y=!1}y&&n.preventDefault()}),[e,s.length,a,u,l,h,i.direction,c,d]),f=t.useCallback(((t,n)=>{const r=Pp(e)===t.field,o=kp(e)===t.field;if(r||o||!ep(n.key))return;const a=e.current.getViewportPageSize(),d=t.field?e.current.getColumnIndex(t.field):0,p=s.length-1,f=El(e).length-1;let g=!0;switch(n.key){case"ArrowDown":{const e=h(0);null!=e&&l(d,e);break}case"ArrowRight":{const e=$m({currentColIndex:d,firstColIndex:0,lastColIndex:f,direction:i.direction});null!==e&&u(e,n);break}case"ArrowLeft":{const r=Qm({currentColIndex:d,firstColIndex:0,lastColIndex:f,direction:i.direction});null!==r?u(r,n):e.current.setColumnHeaderFilterFocus(t.field,n);break}case"ArrowUp":c(d,n);break;case"PageDown":null!==p&&l(d,h(Math.min(0+a,p)));break;case"Home":u(0,n);break;case"End":u(f,n);break;case" ":break;default:g=!1}g&&n.preventDefault()}),[e,s.length,u,i.direction,c,l,h]),g=t.useCallback(((t,n)=>{const r=Qp(e);if(null===r)return;const{field:o,depth:i}=r,{fields:a,depth:u,maxDepth:p}=t,f=e.current.getViewportPageSize(),g=e.current.getColumnIndex(o),m=o?e.current.getColumnIndex(o):0,v=s.length-1,y=El(e).length-1;let b=!0;switch(n.key){case"ArrowDown":u===p-1?c(g,n):d(g,i+1,n);break;case"ArrowUp":u>0&&d(g,i-1,n);break;case"ArrowRight":{const e=a.length-a.indexOf(o)-1;g+e+1<=y&&d(g+e+1,i,n);break}case"ArrowLeft":{const e=a.indexOf(o);g-e-1>=0&&d(g-e-1,i,n);break}case"PageDown":null!==v&&l(m,h(Math.min(0+f,v)));break;case"Home":d(0,i,n);break;case"End":d(y,i,n);break;case" ":break;default:b=!1}b&&n.preventDefault()}),[e,s.length,c,d,l,h]),m=t.useCallback(((t,n)=>{if(Wm(n))return;const r=e.current.getCellParams(t.id,t.field);if(r.cellMode===la.Edit||!ep(n.key))return;if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:n,cell:r}))return;if(0===s.length)return;const o=i.direction,d=e.current.getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,f=s.findIndex((e=>e.id===t.id)),g=s.length-1,m=El(e).length-1;let v=!0;switch(n.key){case"ArrowDown":f<g&&l(p,h(f+1));break;case"ArrowUp":f>0?l(p,h(f-1)):a?u(p,n):c(p,n);break;case"ArrowRight":{const e=$m({currentColIndex:p,firstColIndex:0,lastColIndex:m,direction:o});null!==e&&l(e,h(f),"rtl"===o?"left":"right");break}case"ArrowLeft":{const e=Qm({currentColIndex:p,firstColIndex:0,lastColIndex:m,direction:o});null!==e&&l(e,h(f),"rtl"===o?"right":"left");break}case"Tab":n.shiftKey&&p>0?l(p-1,h(f),"left"):!n.shiftKey&&p<m&&l(p+1,h(f),"right");break;case" ":{if(t.field===Um)break;const e=t.colDef;if(e&&"__tree_data_group__"===e.field)break;!n.shiftKey&&f<g&&l(p,h(Math.min(f+d,g)));break}case"PageDown":f<g&&l(p,h(Math.min(f+d,g)));break;case"PageUp":{const e=Math.max(f-d,0);e!==f&&e>=0?l(p,h(e)):c(p,n);break}case"Home":n.ctrlKey||n.metaKey||n.shiftKey?l(0,h(0)):l(0,h(f));break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?l(m,h(g)):l(m,h(f));break;default:v=!1}v&&n.preventDefault()}),[e,s,i.direction,l,h,a,u,c]),v=t.useCallback(((e,t)=>{let{event:n}=t;return" "!==n.key&&e}),[]);wm(e,"canStartEditing",v),Hl(e,"columnHeaderKeyDown",p),Hl(e,"headerFilterKeyDown",f),Hl(e,"columnGroupHeaderKeyDown",g),Hl(e,"cellKeyDown",m)},ev=(t,n)=>{var r,o,i,s,a,l,c;const u=(0,e.A)({},wf(n.autoPageSize),null!==(r=n.paginationModel)&&void 0!==r?r:null===(o=n.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.paginationModel);xf(u.pageSize,n.signature);const d=null!==(i=n.rowCount)&&void 0!==i?i:null===(s=n.initialState)||void 0===s||null===(s=s.pagination)||void 0===s?void 0:s.rowCount,h=null!==(a=null!==(l=n.paginationMeta)&&void 0!==l?l:null===(c=n.initialState)||void 0===c||null===(c=c.pagination)||void 0===c?void 0:c.meta)&&void 0!==a?a:{};return(0,e.A)({},t,{pagination:{paginationModel:u,rowCount:d,meta:h}})},tv=(n,r)=>{((n,r)=>{var o;const i=om(n,"useGridPaginationMeta"),s=$a(n,Cf);n.current.registerControlState({stateId:"paginationMeta",propModel:r.paginationMeta,propOnChange:r.onPaginationMetaChange,stateSelector:Cf,changeEvent:"paginationMetaChange"});const a=t.useCallback((t=>{s!==t&&(i.debug("Setting 'paginationMeta' to",t),n.current.setState((n=>(0,e.A)({},n,{pagination:(0,e.A)({},n.pagination,{meta:t})}))))}),[n,i,s]);Wf(n,{setPaginationMeta:a},"public");const l=t.useCallback(((t,o)=>{var i;const s=Cf(n);return o.exportOnlyDirtyModels&&null==r.paginationMeta&&null==(null===(i=r.initialState)||void 0===i||null===(i=i.pagination)||void 0===i?void 0:i.meta)?t:(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{meta:s})})}),[n,r.paginationMeta,null===(o=r.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.meta]),c=t.useCallback(((t,r)=>{var o;const i=null!==(o=r.stateToRestore.pagination)&&void 0!==o&&o.meta?r.stateToRestore.pagination.meta:Cf(n);return n.current.setState((t=>(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{meta:i})}))),t}),[n]);wm(n,"exportState",l),wm(n,"restoreState",c),t.useEffect((()=>{r.paginationMeta&&n.current.setPaginationMeta(r.paginationMeta)}),[n,r.paginationMeta])})(n,r),((n,r)=>{var o;const i=om(n,"useGridPaginationModel"),s=$a(n,pl),a=Math.floor(r.rowHeight*s);n.current.registerControlState({stateId:"paginationModel",propModel:r.paginationModel,propOnChange:r.onPaginationModelChange,stateSelector:Ef,changeEvent:"paginationModelChange"});const l=t.useCallback((e=>{const t=Ef(n);e!==t.page&&(i.debug("Setting page to ".concat(e)),n.current.setPaginationModel({page:e,pageSize:t.pageSize}))}),[n,i]),c=t.useCallback((e=>{const t=Ef(n);e!==t.pageSize&&(i.debug("Setting page size to ".concat(e)),n.current.setPaginationModel({pageSize:e,page:t.page}))}),[n,i]),u=t.useCallback((t=>{const o=Ef(n);t!==o&&(i.debug("Setting 'paginationModel' to",t),n.current.setState((n=>(0,e.A)({},n,{pagination:(0,e.A)({},n.pagination,{paginationModel:Om(n.pagination,r.signature,t)})}))))}),[n,i,r.signature]);Wf(n,{setPage:l,setPageSize:c,setPaginationModel:u},"public");const d=t.useCallback(((t,o)=>{var i;const s=Ef(n);return!o.exportOnlyDirtyModels||null!=r.paginationModel||null!=(null===(i=r.initialState)||void 0===i||null===(i=i.pagination)||void 0===i?void 0:i.paginationModel)||0!==s.page&&s.pageSize!==(r.autoPageSize?0:100)?(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{paginationModel:s})}):t}),[n,r.paginationModel,null===(o=r.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.paginationModel,r.autoPageSize]),h=t.useCallback(((t,o)=>{var i,s;const a=null!==(i=o.stateToRestore.pagination)&&void 0!==i&&i.paginationModel?(0,e.A)({},wf(r.autoPageSize),null===(s=o.stateToRestore.pagination)||void 0===s?void 0:s.paginationModel):Ef(n);return n.current.setState((t=>(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{paginationModel:Om(t.pagination,r.signature,a)})}))),t}),[n,r.autoPageSize,r.signature]);wm(n,"exportState",d),wm(n,"restoreState",h);const p=t.useCallback((()=>{if(!r.autoPageSize)return;const e=n.current.getRootDimensions(),t=Math.floor(e.viewportInnerSize.height/a);n.current.setPageSize(t)}),[n,r.autoPageSize,a]),f=t.useCallback((e=>{if(null==e)return;const t=Ef(n),r=Tf(n);t.page>r-1&&n.current.setPage(Math.max(0,r-1))}),[n]);Hl(n,"viewportInnerSizeChange",p),Hl(n,"paginationModelChange",(()=>{var e;const t=Ef(n);null!==(e=n.current.virtualScrollerRef)&&void 0!==e&&e.current&&n.current.scrollToIndexes({rowIndex:t.page*t.pageSize})})),Hl(n,"rowCountChange",f),t.useEffect((()=>{n.current.setState((t=>(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{paginationModel:Om(t.pagination,r.signature,r.paginationModel)})})))}),[n,r.paginationModel,r.paginationMode,r.signature]),t.useEffect(p,[p])})(n,r),((n,r)=>{var o;const i=om(n,"useGridRowCount"),s=$a(n,vf),a=$a(n,Sf),l=$a(n,Cf),c=$a(n,Ef),u=(0,Ha.A)((()=>Ef(n).pageSize));n.current.registerControlState({stateId:"paginationRowCount",propModel:r.rowCount,propOnChange:r.onRowCountChange,stateSelector:Sf,changeEvent:"rowCountChange"});const d=t.useCallback((t=>{a!==t&&(i.debug("Setting 'rowCount' to",t),n.current.setState((n=>(0,e.A)({},n,{pagination:(0,e.A)({},n.pagination,{rowCount:t})}))))}),[n,i,a]);Wf(n,{setRowCount:d},"public");const h=t.useCallback(((t,o)=>{var i;const s=Sf(n);return o.exportOnlyDirtyModels&&null==r.rowCount&&null==(null===(i=r.initialState)||void 0===i||null===(i=i.pagination)||void 0===i?void 0:i.rowCount)?t:(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{rowCount:s})})}),[n,r.rowCount,null===(o=r.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.rowCount]),p=t.useCallback(((t,r)=>{var o;const i=null!==(o=r.stateToRestore.pagination)&&void 0!==o&&o.rowCount?r.stateToRestore.pagination.rowCount:Sf(n);return n.current.setState((t=>(0,e.A)({},t,{pagination:(0,e.A)({},t.pagination,{rowCount:i})}))),t}),[n]);wm(n,"exportState",h),wm(n,"restoreState",p);const f=t.useCallback((e=>{"client"!==r.paginationMode&&u.current&&e.pageSize!==u.current&&(u.current=e.pageSize,-1===a&&n.current.setPage(0))}),[r.paginationMode,u,a,n]);Hl(n,"paginationModelChange",f),t.useEffect((()=>{"client"===r.paginationMode?n.current.setRowCount(s):null!=r.rowCount&&n.current.setRowCount(r.rowCount)}),[n,r.paginationMode,s,r.rowCount]);const g=!1===l.hasNextPage;t.useEffect((()=>{g&&-1===a&&n.current.setRowCount(c.pageSize*c.page+s)}),[n,s,g,a,c])})(n,r)},nv=(t,n)=>{var r,o;return(0,e.A)({},t,{preferencePanel:null!==(r=null===(o=n.initialState)||void 0===o?void 0:o.preferencePanel)&&void 0!==r?r:{open:!1}})},rv=e=>e.editRows,ov=["id","field"],iv=["id","field"],sv=(Wa(["MUI X: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, for example `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see https://mui.com/x/react-data-grid/editing/#server-side-persistence."],"error"),["id"]),av=["id"],lv=(Wa(["MUI X: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, for example `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see https://mui.com/x/react-data-grid/editing/#server-side-persistence."],"error"),t=>(0,e.A)({},t,{editRows:{}})),cv=(n,r)=>{((n,r)=>{const[o,i]=t.useState({}),s=t.useRef(o),a=t.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:c,cellModesModel:u,onCellModesModelChange:d}=r,h=e=>function(){r.editMode===aa.Cell&&e(...arguments)},p=t.useCallback(((e,t)=>{const r=n.current.getCellParams(e,t);if(!n.current.isCellEditable(r))throw new Error("MUI X: The cell with id=".concat(e," and field=").concat(t," is not editable."))}),[n]),g=t.useCallback(((e,t,r)=>{if(n.current.getCellMode(e,t)!==r)throw new Error("MUI X: The cell with id=".concat(e," and field=").concat(t," is not in ").concat(r," mode."))}),[n]),m=t.useCallback(((t,r)=>{if(!t.isEditable)return;if(t.cellMode===la.Edit)return;const o=(0,e.A)({},t,{reason:Yh.cellDoubleClick});n.current.publishEvent("cellEditStart",o,r)}),[n]),v=t.useCallback(((t,r)=>{if(t.cellMode===la.View)return;if(n.current.getCellMode(t.id,t.field)===la.View)return;const o=(0,e.A)({},t,{reason:Zh.cellFocusOut});n.current.publishEvent("cellEditStop",o,r)}),[n]),y=t.useCallback(((t,r)=>{if(t.cellMode===la.Edit){if(229===r.which)return;let o;if("Escape"===r.key?o=Zh.escapeKeyDown:"Enter"===r.key?o=Zh.enterKeyDown:"Tab"===r.key&&(o=r.shiftKey?Zh.shiftTabKeyDown:Zh.tabKeyDown,r.preventDefault()),o){const i=(0,e.A)({},t,{reason:o});n.current.publishEvent("cellEditStop",i,r)}}else if(t.isEditable){let o;if(!n.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:r,cellParams:t,editMode:"cell"}))return;if(Jh(r)?o=Yh.printableKeyDown:tp(r)?o=Yh.pasteKeyDown:"Enter"===r.key?o=Yh.enterKeyDown:"Backspace"!==r.key&&"Delete"!==r.key||(o=Yh.deleteKeyDown),o){const i=(0,e.A)({},t,{reason:o,key:r.key});n.current.publishEvent("cellEditStart",i,r)}}}),[n]),b=t.useCallback((e=>{const{id:t,field:r,reason:o}=e,i={id:t,field:r};o!==Yh.printableKeyDown&&o!==Yh.deleteKeyDown&&o!==Yh.pasteKeyDown||(i.deleteValue=!0),n.current.startCellEditMode(i)}),[n]),_=t.useCallback((e=>{const{id:t,field:r,reason:o}=e;let i;n.current.runPendingEditCellValueMutation(t,r),o===Zh.enterKeyDown?i="below":o===Zh.tabKeyDown?i="right":o===Zh.shiftTabKeyDown&&(i="left");const s="escapeKeyDown"===o;n.current.stopCellEditMode({id:t,field:r,ignoreModifications:s,cellToFocusAfter:i})}),[n]);var w;Hl(n,"cellDoubleClick",h(m)),Hl(n,"cellFocusOut",h(v)),Hl(n,"cellKeyDown",h(y)),Hl(n,"cellEditStart",h(b)),Hl(n,"cellEditStop",h(_)),Wl(n,"cellEditStart",r.onCellEditStart),Wl(n,"cellEditStop",(w=r.onCellEditStop,async function(){if(w){var e;const{id:t,field:r}=arguments.length<=0?void 0:arguments[0];(null===(e=n.current.state.editRows[t][r])||void 0===e?void 0:e.error)||w(...arguments)}}));const x=t.useCallback(((e,t)=>{const r=rv(n.current.state);return r[e]&&r[e][t]?la.Edit:la.View}),[n]),A=(0,Re.A)((e=>{const t=e!==r.cellModesModel;d&&t&&d(e,{api:n.current}),r.cellModesModel&&t||(i(e),s.current=e,n.current.publishEvent("cellModesModelChange",e))})),E=t.useCallback(((t,n,r)=>{const o=(0,e.A)({},s.current);if(null!==r)o[t]=(0,e.A)({},o[t],{[n]:(0,e.A)({},r)});else{const e=o[t],r=(0,f.A)(e,[n].map(Jg));o[t]=r,0===Object.keys(o[t]).length&&delete o[t]}A(o)}),[A]),S=t.useCallback(((t,r,o)=>{n.current.setState((n=>{const i=(0,e.A)({},n.editRows);return null!==o?i[t]=(0,e.A)({},i[t],{[r]:(0,e.A)({},o)}):(delete i[t][r],0===Object.keys(i[t]).length&&delete i[t]),(0,e.A)({},n,{editRows:i})})),n.current.forceUpdate()}),[n]),C=t.useCallback((t=>{const{id:n,field:r}=t,o=(0,f.A)(t,ov);p(n,r),g(n,r,la.View),E(n,r,(0,e.A)({mode:la.Edit},o))}),[p,g,E]),M=(0,Re.A)((e=>{const{id:t,field:r,deleteValue:o,initialValue:i}=e;let s=n.current.getCellValue(t,r);if(o)switch(n.current.getColumn(r).type){case"boolean":s=!1;break;case"date":case"dateTime":case"number":s=void 0;break;case"singleSelect":s=null;break;default:s=""}else i&&(s=i);S(t,r,{value:s,error:!1,isProcessingProps:!1}),n.current.setCellFocus(t,r)})),R=t.useCallback((t=>{const{id:n,field:r}=t,o=(0,f.A)(t,iv);g(n,r,la.Edit),E(n,r,(0,e.A)({mode:la.View},o))}),[g,E]),T=(0,Re.A)((async e=>{const{id:t,field:r,ignoreModifications:o,cellToFocusAfter:i="none"}=e;g(t,r,la.Edit),n.current.runPendingEditCellValueMutation(t,r);const s=()=>{S(t,r,null),E(t,r,null),"none"!==i&&n.current.moveFocusToRelativeCell(t,r,i)};if(o)return void s();const u=rv(n.current.state),{error:d,isProcessingProps:h}=u[t][r];if(d||h)return a.current[t][r].mode=la.Edit,void E(t,r,{mode:la.Edit});const p=n.current.getRowWithUpdatedValuesFromCellEditing(t,r);if(l){const e=e=>{a.current[t][r].mode=la.Edit,E(t,r,{mode:la.Edit}),c&&c(e)};try{const r=n.current.getRow(t);Promise.resolve(l(p,r)).then((e=>{n.current.updateRows([e]),s()})).catch(e)}catch(f){e(f)}}else n.current.updateRows([p]),s()})),P=t.useCallback((async t=>{var r;const{id:o,field:i,value:s,debounceMs:a,unstable_skipValueParser:l}=t;p(o,i),g(o,i,la.Edit);const c=n.current.getColumn(i),u=n.current.getRow(o);let d=s;c.valueParser&&!l&&(d=c.valueParser(s,u,c,n));let h=rv(n.current.state),f=(0,e.A)({},h[o][i],{value:d,changeReason:a?"debouncedSetEditCellValue":"setEditCellValue"});if(c.preProcessEditCellProps){const t=s!==h[o][i].value;f=(0,e.A)({},f,{isProcessingProps:!0}),S(o,i,f),f=await Promise.resolve(c.preProcessEditCellProps({id:o,row:u,props:f,hasChanged:t}))}return n.current.getCellMode(o,i)!==la.View&&(h=rv(n.current.state),f=(0,e.A)({},f,{isProcessingProps:!1}),f.value=c.preProcessEditCellProps?h[o][i].value:d,S(o,i,f),h=rv(n.current.state),!(null!==(r=h[o])&&void 0!==r&&null!==(r=r[i])&&void 0!==r&&r.error))}),[n,p,g,S]),k={setCellEditingEditCellValue:P,getRowWithUpdatedValuesFromCellEditing:t.useCallback(((t,r)=>{const o=n.current.getColumn(r),i=rv(n.current.state),s=n.current.getRow(t);if(!i[t]||!i[t][r])return n.current.getRow(t);const{value:a}=i[t][r];return o.valueSetter?o.valueSetter(a,s,o,n):(0,e.A)({},s,{[r]:a})}),[n])};Wf(n,{getCellMode:x,startCellEditMode:C,stopCellEditMode:R},"public"),Wf(n,k,"private"),t.useEffect((()=>{u&&A(u)}),[u,A]),(0,Ve.A)((()=>{const t=Ah(n),r=a.current;a.current=hc(o),Object.entries(o).forEach((n=>{let[o,i]=n;Object.entries(i).forEach((n=>{var i,s;let[a,l]=n;const c=(null===(i=r[o])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.mode)||la.View,u=null!==(s=t[o])&&void 0!==s?s:o;l.mode===la.Edit&&c===la.View?M((0,e.A)({id:u,field:a},l)):l.mode===la.View&&c===la.Edit&&T((0,e.A)({id:u,field:a},l))}))}))}),[n,o,M,T])})(n,r),((n,r)=>{const[o,i]=t.useState({}),s=t.useRef(o),a=t.useRef({}),l=t.useRef(),c=t.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:d,rowModesModel:h,onRowModesModelChange:p}=r,g=e=>function(){r.editMode===aa.Row&&e(...arguments)},m=t.useCallback(((e,t)=>{const r=n.current.getCellParams(e,t);if(!n.current.isCellEditable(r))throw new Error("MUI X: The cell with id=".concat(e," and field=").concat(t," is not editable."))}),[n]),v=t.useCallback(((e,t)=>{if(n.current.getRowMode(e)!==t)throw new Error("MUI X: The row with id=".concat(e," is not in ").concat(t," mode."))}),[n]),y=t.useCallback((e=>{const t=rv(n.current.state);return Object.values(t[e]).some((e=>e.error))}),[n]),b=t.useCallback(((t,r)=>{if(!t.isEditable)return;if(n.current.getRowMode(t.id)===ca.Edit)return;const o=n.current.getRowParams(t.id),i=(0,e.A)({},o,{field:t.field,reason:ia.cellDoubleClick});n.current.publishEvent("rowEditStart",i,r)}),[n]),_=t.useCallback((e=>{c.current=e}),[]),w=t.useCallback(((t,r)=>{t.isEditable&&n.current.getRowMode(t.id)!==ca.View&&(c.current=null,l.current=setTimeout((()=>{var o;if((null===(o=c.current)||void 0===o?void 0:o.id)!==t.id){if(!n.current.getRow(t.id))return;if(n.current.getRowMode(t.id)===ca.View)return;if(y(t.id))return;const o=n.current.getRowParams(t.id),i=(0,e.A)({},o,{field:t.field,reason:sa.rowFocusOut});n.current.publishEvent("rowEditStop",i,r)}})))}),[n,y]);t.useEffect((()=>()=>{clearTimeout(l.current)}),[]);const x=t.useCallback(((t,r)=>{if(t.cellMode===ca.Edit){if(229===r.which)return;let o;if("Escape"===r.key)o=sa.escapeKeyDown;else if("Enter"===r.key)o=sa.enterKeyDown;else if("Tab"===r.key){const e=Sl(n).filter((e=>n.current.getColumn(e).type===Cp||n.current.isCellEditable(n.current.getCellParams(t.id,e))));if(r.shiftKey?t.field===e[0]&&(o=sa.shiftTabKeyDown):t.field===e[e.length-1]&&(o=sa.tabKeyDown),r.preventDefault(),!o){const o=e.findIndex((e=>e===t.field)),i=e[r.shiftKey?o-1:o+1];n.current.setCellFocus(t.id,i)}}if(o){if(o!==sa.escapeKeyDown&&y(t.id))return;const i=(0,e.A)({},n.current.getRowParams(t.id),{reason:o,field:t.field});n.current.publishEvent("rowEditStop",i,r)}}else if(t.isEditable){let o;if(!n.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:r,cellParams:t,editMode:"row"}))return;if(Jh(r)||tp(r)?o=ia.printableKeyDown:"Enter"===r.key?o=ia.enterKeyDown:"Backspace"!==r.key&&"Delete"!==r.key||(o=ia.deleteKeyDown),o){const i=n.current.getRowParams(t.id),s=(0,e.A)({},i,{field:t.field,reason:o});n.current.publishEvent("rowEditStart",s,r)}}}),[n,y]),A=t.useCallback((e=>{const{id:t,field:r,reason:o}=e,i={id:t,fieldToFocus:r};o!==ia.printableKeyDown&&o!==ia.deleteKeyDown||(i.deleteValue=!!r),n.current.startRowEditMode(i)}),[n]),E=t.useCallback((e=>{const{id:t,reason:r,field:o}=e;let i;n.current.runPendingEditCellValueMutation(t),r===sa.enterKeyDown?i="below":r===sa.tabKeyDown?i="right":r===sa.shiftTabKeyDown&&(i="left");const s="escapeKeyDown"===r;n.current.stopRowEditMode({id:t,ignoreModifications:s,field:o,cellToFocusAfter:i})}),[n]);Hl(n,"cellDoubleClick",g(b)),Hl(n,"cellFocusIn",g(_)),Hl(n,"cellFocusOut",g(w)),Hl(n,"cellKeyDown",g(x)),Hl(n,"rowEditStart",g(A)),Hl(n,"rowEditStop",g(E)),Wl(n,"rowEditStart",r.onRowEditStart),Wl(n,"rowEditStop",r.onRowEditStop);const S=t.useCallback((e=>{if(r.editMode===aa.Cell)return ca.View;const t=rv(n.current.state);return t[e]&&Object.keys(t[e]).length>0?ca.Edit:ca.View}),[n,r.editMode]),C=(0,Re.A)((e=>{const t=e!==r.rowModesModel;p&&t&&p(e,{api:n.current}),r.rowModesModel&&t||(i(e),s.current=e,n.current.publishEvent("rowModesModelChange",e))})),M=t.useCallback(((t,n)=>{const r=(0,e.A)({},s.current);null!==n?r[t]=(0,e.A)({},n):delete r[t],C(r)}),[C]),R=t.useCallback(((t,r)=>{n.current.setState((n=>{const o=(0,e.A)({},n.editRows);return null!==r?o[t]=r:delete o[t],(0,e.A)({},n,{editRows:o})})),n.current.forceUpdate()}),[n]),T=t.useCallback(((t,r,o)=>{n.current.setState((n=>{const i=(0,e.A)({},n.editRows);return null!==o?i[t]=(0,e.A)({},i[t],{[r]:(0,e.A)({},o)}):(delete i[t][r],0===Object.keys(i[t]).length&&delete i[t]),(0,e.A)({},n,{editRows:i})})),n.current.forceUpdate()}),[n]),P=t.useCallback((t=>{const{id:n}=t,r=(0,f.A)(t,sv);v(n,ca.View),M(n,(0,e.A)({mode:ca.Edit},r))}),[v,M]),k=(0,Re.A)((e=>{const{id:t,fieldToFocus:r,deleteValue:o,initialValue:i}=e,s=_l(n).reduce(((e,s)=>{if(!n.current.getCellParams(t,s).isEditable)return e;let a=n.current.getCellValue(t,s);return r===s&&(o||i)&&(a=o?"":i),e[s]={value:a,error:!1,isProcessingProps:!1},e}),{});R(t,s),r&&n.current.setCellFocus(t,r)})),I=t.useCallback((t=>{const{id:n}=t,r=(0,f.A)(t,av);v(n,ca.Edit),M(n,(0,e.A)({mode:ca.View},r))}),[v,M]),O=(0,Re.A)((e=>{const{id:t,ignoreModifications:r,field:o,cellToFocusAfter:i="none"}=e;n.current.runPendingEditCellValueMutation(t);const s=()=>{"none"!==i&&o&&n.current.moveFocusToRelativeCell(t,o,i),R(t,null),M(t,null)};if(r)return void s();const l=rv(n.current.state),c=n.current.getRow(t);if(Object.values(l[t]).some((e=>e.isProcessingProps)))return void(a.current[t].mode=ca.Edit);if(y(t))return a.current[t].mode=ca.Edit,void M(t,{mode:ca.Edit});const h=n.current.getRowWithUpdatedValuesFromRowEditing(t);if(u){const e=e=>{a.current[t].mode=ca.Edit,M(t,{mode:ca.Edit}),d&&d(e)};try{Promise.resolve(u(h,c)).then((e=>{n.current.updateRows([e]),s()})).catch(e)}catch(p){e(p)}}else n.current.updateRows([h]),s()})),L=t.useCallback((t=>{const{id:r,field:o,value:i,debounceMs:s,unstable_skipValueParser:a}=t;m(r,o);const l=n.current.getColumn(o),c=n.current.getRow(r);let u=i;l.valueParser&&!a&&(u=l.valueParser(i,c,l,n));let d=rv(n.current.state),h=(0,e.A)({},d[r][o],{value:u,changeReason:s?"debouncedSetEditCellValue":"setEditCellValue"});return l.preProcessEditCellProps||T(r,o,h),new Promise((t=>{const i=[];if(l.preProcessEditCellProps){const s=h.value!==d[r][o].value;h=(0,e.A)({},h,{isProcessingProps:!0}),T(r,o,h);const a=d[r],p=(0,f.A)(a,[o].map(Jg)),g=Promise.resolve(l.preProcessEditCellProps({id:r,row:c,props:h,hasChanged:s,otherFieldsProps:p})).then((i=>{n.current.getRowMode(r)!==ca.View?(d=rv(n.current.state),(i=(0,e.A)({},i,{isProcessingProps:!1})).value=l.preProcessEditCellProps?d[r][o].value:u,T(r,o,i)):t(!1)}));i.push(g)}Object.entries(d[r]).forEach((s=>{let[a,l]=s;if(a===o)return;const u=n.current.getColumn(a);if(!u.preProcessEditCellProps)return;l=(0,e.A)({},l,{isProcessingProps:!0}),T(r,a,l),d=rv(n.current.state);const h=d[r],p=(0,f.A)(h,[a].map(Jg)),g=Promise.resolve(u.preProcessEditCellProps({id:r,row:c,props:l,hasChanged:!1,otherFieldsProps:p})).then((o=>{n.current.getRowMode(r)!==ca.View?(o=(0,e.A)({},o,{isProcessingProps:!1}),T(r,a,o)):t(!1)}));i.push(g)})),Promise.all(i).then((()=>{n.current.getRowMode(r)===ca.Edit?(d=rv(n.current.state),t(!d[r][o].error)):t(!1)}))}))}),[n,m,T]),N={setRowEditingEditCellValue:L,getRowWithUpdatedValuesFromRowEditing:t.useCallback((t=>{const r=rv(n.current.state),o=n.current.getRow(t);if(!r[t])return n.current.getRow(t);let i=(0,e.A)({},o);return Object.entries(r[t]).forEach((e=>{let[t,r]=e;const o=n.current.getColumn(t);o.valueSetter?i=o.valueSetter(r.value,i,o,n):i[t]=r.value})),i}),[n])};Wf(n,{getRowMode:S,startRowEditMode:P,stopRowEditMode:I},"public"),Wf(n,N,"private"),t.useEffect((()=>{h&&C(h)}),[h,C]),(0,Ve.A)((()=>{const t=Ah(n),r=a.current;a.current=hc(o),Object.entries(o).forEach((n=>{var o,i;let[s,a]=n;const l=(null===(o=r[s])||void 0===o?void 0:o.mode)||ca.View,c=null!==(i=t[s])&&void 0!==i?i:s;a.mode===ca.Edit&&l===ca.View?k((0,e.A)({id:c},a)):a.mode===ca.View&&l===ca.Edit&&O((0,e.A)({id:c},a))}))}),[n,o,k,O])})(n,r);const o=t.useRef({}),{isCellEditable:i}=r,s=t.useCallback((e=>!Dh(e.rowNode)&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(!i||i(e))))),[i]);t.useEffect((()=>{const e=o.current;return()=>{Object.entries(e).forEach((t=>{let[n,r]=t;Object.keys(r).forEach((t=>{const[r]=e[n][t];clearTimeout(r),delete e[n][t]}))}))}}),[]);const a=t.useCallback(((e,t)=>{if(o.current[e])if(t){if(o.current[e][t]){const[,n]=o.current[e][t];n()}}else Object.keys(o.current[e]).forEach((t=>{const[,n]=o.current[e][t];n()}))}),[]),l=t.useCallback((e=>{const{id:t,field:i,debounceMs:s}=e;return new Promise((a=>{((e,t,n,r)=>{if(!n)return void r();if(o.current[e]||(o.current[e]={}),o.current[e][t]){const[n]=o.current[e][t];clearTimeout(n)}const i=setTimeout((()=>{r(),delete o.current[e][t]}),n);o.current[e][t]=[i,()=>{const[n]=o.current[e][t];clearTimeout(n),r(),delete o.current[e][t]}]})(t,i,s,(async()=>{const o=r.editMode===aa.Row?n.current.setRowEditingEditCellValue:n.current.setCellEditingEditCellValue;if(n.current.getCellMode(t,i)===la.Edit){const t=await o(e);a(t)}}))}))}),[n,r.editMode]),c=t.useCallback(((e,t)=>r.editMode===aa.Cell?n.current.getRowWithUpdatedValuesFromCellEditing(e,t):n.current.getRowWithUpdatedValuesFromRowEditing(e)),[n,r.editMode]),u=t.useCallback(((e,t)=>{var r,o;return null!==(r=null===(o=rv(n.current.state)[e])||void 0===o?void 0:o[t])&&void 0!==r?r:null}),[n]),d={runPendingEditCellValueMutation:a};Wf(n,{isCellEditable:s,setEditCellValue:l,getRowWithUpdatedValues:c,unstable_getEditCellMeta:u},"public"),Wf(n,d,"private")},uv=(t,n,r)=>(r.current.caches.rows=Lh({rows:n.rows,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),(0,e.A)({},t,{rows:Fh({apiRef:r,rowCountProp:n.rowCount,loadingProp:n.loading,previousTree:null,previousTreeDepths:null})})),dv=(n,r)=>{const o=om(n,"useGridRows"),i=Lf(n,r),s=t.useRef(Date.now()),a=(0,ln.A)(),l=t.useCallback((e=>{const t=xh(n)[e];if(t)return t;const r=n.current.getRowNode(e);return r&&Dh(r)?{[Ih]:e}:null}),[n]),c=r.getRowId,u=t.useCallback((e=>Ih in e?e[Ih]:c?c(e):e.id),[c]),d=t.useMemo((()=>i.rows.reduce(((e,t,n)=>{let{id:r}=t;return e[r]=n,e}),{})),[i.rows]),h=t.useCallback((t=>{let{cache:o,throttle:i}=t;const l=()=>{s.current=Date.now(),n.current.setState((t=>(0,e.A)({},t,{rows:Fh({apiRef:n,rowCountProp:r.rowCount,loadingProp:r.loading,previousTree:Eh(n),previousTreeDepths:Ch(n)})}))),n.current.publishEvent("rowsSet"),n.current.forceUpdate()};if(a.clear(),n.current.caches.rows=o,!i)return void l();const c=r.throttleRowsMs-(Date.now()-s.current);c>0?a.start(c,l):l()}),[r.throttleRowsMs,r.rowCount,r.loading,n,a]),p=t.useCallback((e=>{o.debug("Updating all rows, new length ".concat(e.length));const t=Lh({rows:e,getRowId:r.getRowId,loading:r.loading,rowCount:r.rowCount}),i=n.current.caches.rows;t.rowsBeforePartialUpdates=i.rowsBeforePartialUpdates,h({cache:t,throttle:!0})}),[o,r.getRowId,r.loading,r.rowCount,h,n]),f=t.useCallback((t=>{if(r.signature===jl.DataGrid&&t.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const o=[];t.forEach((t=>{const i=Oh(t,r.getRowId,"A row was provided without id when calling updateRows():"),s=n.current.getRowNode(i);if("pinnedRow"===(null===s||void 0===s?void 0:s.type)){const r=n.current.caches.pinnedRows,o=r.idLookup[i];o&&(r.idLookup[i]=(0,e.A)({},o,t))}else o.push(t)}));const i=(t=>{var n,r,o;let{previousCache:i,getRowId:s,updates:a}=t;if("full"===i.updates.type)throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const l=new Map;a.forEach((t=>{const n=Oh(t,s,"A row was provided without id when calling updateRows():");l.has(n)?l.set(n,(0,e.A)({},l.get(n),t)):l.set(n,t)}));const c={type:"partial",actions:{insert:[...null!==(n=i.updates.actions.insert)&&void 0!==n?n:[]],modify:[...null!==(r=i.updates.actions.modify)&&void 0!==r?r:[]],remove:[...null!==(o=i.updates.actions.remove)&&void 0!==o?o:[]]},idToActionLookup:(0,e.A)({},i.updates.idToActionLookup)},u=(0,e.A)({},i.dataRowIdToModelLookup),d=(0,e.A)({},i.dataRowIdToIdLookup),h={insert:{},modify:{},remove:{}};l.forEach(((t,n)=>{const r=c.idToActionLookup[n];if("delete"===t._action){if("remove"===r||!u[n])return;return null!=r&&(h[r][n]=!0),c.actions.remove.push(n),delete u[n],void delete d[n]}const o=u[n];if(o)return"remove"===r?(h.remove[n]=!0,c.actions.modify.push(n)):null==r&&c.actions.modify.push(n),void(u[n]=(0,e.A)({},o,t));"remove"===r?(h.remove[n]=!0,c.actions.insert.push(n)):null==r&&c.actions.insert.push(n),u[n]=t,d[n]=n}));const p=Object.keys(h);for(let e=0;e<p.length;e+=1){const t=p[e],n=h[t];Object.keys(n).length>0&&(c.actions[t]=c.actions[t].filter((e=>!n[e])))}return{dataRowIdToModelLookup:u,dataRowIdToIdLookup:d,updates:c,rowsBeforePartialUpdates:i.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:i.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:i.rowCountPropBeforePartialUpdates}})({updates:o,getRowId:r.getRowId,previousCache:n.current.caches.rows});h({cache:i,throttle:!0})}),[r.signature,r.getRowId,h,n]),g=t.useCallback((()=>{const e=Rh(n),t=xh(n);return new Map(e.map((e=>{var n;return[e,null!==(n=t[e])&&void 0!==n?n:{}]})))}),[n]),m=t.useCallback((()=>bh(n)),[n]),v=t.useCallback((()=>Rh(n)),[n]),y=t.useCallback((e=>d[e]),[d]),b=t.useCallback(((t,r)=>{const o=n.current.getRowNode(t);if(!o)throw new Error("MUI X: No row with id #".concat(t," found."));if("group"!==o.type)throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const i=(0,e.A)({},o,{childrenExpanded:r});n.current.setState((n=>(0,e.A)({},n,{rows:(0,e.A)({},n.rows,{tree:(0,e.A)({},n.rows.tree,{[t]:i})})}))),n.current.forceUpdate(),n.current.publishEvent("rowExpansionChange",i)}),[n]),_=t.useCallback((e=>{var t;return null!==(t=Eh(n)[e])&&void 0!==t?t:null}),[n]),w=t.useCallback((e=>{let{skipAutoGeneratedRows:t=!0,groupId:r,applySorting:o,applyFiltering:i}=e;const s=Eh(n);let a;if(o){const e=s[r];if(!e)return[];const o=rf(n);a=[];for(let n=o.findIndex((e=>e===r))+1;n<o.length&&s[o[n]].depth>e.depth;n+=1){const e=o[n];t&&Dh(s[e])||a.push(e)}}else a=Bh(s,r,t);if(i){const e=uf(n);a=a.filter((t=>!1!==e[t]))}return a}),[n]),x=t.useCallback(((t,r)=>{const i=n.current.getRowNode(t);if(!i)throw new Error("MUI X: No row with id #".concat(t," found."));if(i.parent!==kh)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==i.type)throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");n.current.setState((i=>{const s=Eh(i,n.current.instanceId)[kh],a=s.children,l=a.findIndex((e=>e===t));if(-1===l||l===r)return i;o.debug("Moving row ".concat(t," to index ").concat(r));const c=[...a];return c.splice(r,0,c.splice(l,1)[0]),(0,e.A)({},i,{rows:(0,e.A)({},i.rows,{tree:(0,e.A)({},i.rows.tree,{[kh]:(0,e.A)({},s,{children:c})})})})})),n.current.publishEvent("rowsSet")}),[n,o]),A={getRow:l,getRowId:u,getRowModels:g,getRowsCount:m,getAllRowIds:v,setRows:p,updateRows:f,getRowNode:_,getRowIndexRelativeToVisibleRows:y,unstable_replaceRows:t.useCallback(((t,o)=>{if(r.signature===jl.DataGrid&&o.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0===o.length)return;if(Mh(n)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const i=(0,e.A)({},Eh(n)),s=(0,e.A)({},xh(n)),a=(0,e.A)({},Ah(n)),l=i[kh],c=[...l.children],u=new Set;for(let e=0;e<o.length;e+=1){const n=o[e],l=Oh(n,r.getRowId,"A row was provided without id when calling replaceRows()."),[d]=c.splice(t+e,1,l);u.has(d)||(delete s[d],delete a[d],delete i[d]);const h={id:l,depth:0,parent:kh,type:"leaf",groupingKey:null};s[l]=n,a[l]=l,i[l]=h,u.add(l)}i[kh]=(0,e.A)({},l,{children:c});const d=c.filter((e=>{var t;return"leaf"===(null===(t=i[e])||void 0===t?void 0:t.type)}));n.current.caches.rows.dataRowIdToModelLookup=s,n.current.caches.rows.dataRowIdToIdLookup=a,n.current.setState((t=>(0,e.A)({},t,{rows:(0,e.A)({},t.rows,{dataRowIdToModelLookup:s,dataRowIdToIdLookup:a,dataRowIds:d,tree:i})}))),n.current.publishEvent("rowsSet")}),[n,r.signature,r.getRowId])},E={setRowIndex:x,setRowChildrenExpansion:b,getRowGroupChildren:w},S=t.useCallback((()=>{let t;o.info("Row grouping pre-processing have changed, regenerating the row tree"),t=n.current.caches.rows.rowsBeforePartialUpdates===r.rows?(0,e.A)({},n.current.caches.rows,{updates:{type:"full",rows:Rh(n)}}):Lh({rows:r.rows,getRowId:r.getRowId,loading:r.loading,rowCount:r.rowCount}),h({cache:t,throttle:!1})}),[o,n,r.rows,r.getRowId,r.loading,r.rowCount,h]),C=t.useCallback((e=>{"rowTreeCreation"===e&&S()}),[S]),M=t.useCallback((()=>{n.current.getActiveStrategy("rowTree")!==Sh(n)&&S()}),[n,S]);Hl(n,"activeStrategyProcessorChange",C),Hl(n,"strategyAvailabilityChange",M);const R=t.useCallback((()=>{n.current.setState((t=>{const o=n.current.unstable_applyPipeProcessors("hydrateRows",{tree:Eh(t,n.current.instanceId),treeDepths:Ch(t,n.current.instanceId),dataRowIds:Rh(t,n.current.instanceId),dataRowIdToModelLookup:xh(t,n.current.instanceId),dataRowIdToIdLookup:Ah(t,n.current.instanceId)});return(0,e.A)({},t,{rows:(0,e.A)({},t.rows,o,{totalTopLevelRowCount:Nh({tree:o.tree,rowCountProp:r.rowCount})})})})),n.current.publishEvent("rowsSet"),n.current.forceUpdate()}),[n,r.rowCount]);xm(n,"hydrateRows",R),Wf(n,A,"public"),Wf(n,E,r.signature===jl.DataGrid?"private":"public");const T=t.useRef(!0);t.useEffect((()=>{if(T.current)return void(T.current=!1);const t=n.current.caches.rows.rowsBeforePartialUpdates===r.rows,i=n.current.caches.rows.loadingPropBeforePartialUpdates===r.loading,s=n.current.caches.rows.rowCountPropBeforePartialUpdates===r.rowCount;if(t)return i||(n.current.setState((t=>(0,e.A)({},t,{rows:(0,e.A)({},t.rows,{loading:r.loading})}))),n.current.caches.rows.loadingPropBeforePartialUpdates=r.loading,n.current.forceUpdate()),void(s||(n.current.setState((t=>(0,e.A)({},t,{rows:(0,e.A)({},t.rows,{totalRowCount:Math.max(r.rowCount||0,t.rows.totalRowCount),totalTopLevelRowCount:Math.max(r.rowCount||0,t.rows.totalTopLevelRowCount)})}))),n.current.caches.rows.rowCountPropBeforePartialUpdates=r.rowCount,n.current.forceUpdate()));o.debug("Updating all rows, new length ".concat(r.rows.length)),h({cache:Lh({rows:r.rows,getRowId:r.getRowId,loading:r.loading,rowCount:r.rowCount}),throttle:!1})}),[r.rows,r.rowCount,r.getRowId,r.loading,o,h,n])},hv=t=>"full"===t.updates.type?(t=>{const n={[kh]:(0,e.A)({},{type:"group",id:kh,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:t})};for(let e=0;e<t.length;e+=1){const r=t[e];n[r]={id:r,depth:0,parent:kh,type:"leaf",groupingKey:null}}return{groupingName:em,tree:n,treeDepths:{0:t.length},dataRowIds:t}})(t.updates.rows):(t=>{let{previousTree:n,actions:r}=t;const o=(0,e.A)({},n),i={};for(let e=0;e<r.remove.length;e+=1){const t=r.remove[e];i[t]=!0,delete o[t]}for(let e=0;e<r.insert.length;e+=1){const t=r.insert[e];o[t]={id:t,depth:0,parent:kh,type:"leaf",groupingKey:null}}const s=o[kh];let a=[...s.children,...r.insert];return Object.values(i).length&&(a=a.filter((e=>!i[e]))),o[kh]=(0,e.A)({},s,{children:a}),{groupingName:em,tree:o,treeDepths:{0:a.length},dataRowIds:a}})({previousTree:t.previousTree,actions:t.updates.actions});class pv extends Error{}function fv(e){const n=t.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),r=t.useCallback((t=>{const n=e.current.getRow(t);if(!n)throw new pv("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:n}}),[e]),o=t.useCallback(((t,n)=>{const r=e.current.getColumn(n),o=e.current.getRow(t),i=e.current.getRowNode(t);if(!o||!i)throw new pv("No row with id #".concat(t," found"));const s=o[n],a=null!==r&&void 0!==r&&r.valueGetter?r.valueGetter(s,o,r,e):s,l=Yp(e),c=Jp(e),u={id:t,field:n,row:o,rowNode:i,colDef:r,cellMode:e.current.getCellMode(t,n),hasFocus:null!==l&&l.field===n&&l.id===t,tabIndex:c&&c.field===n&&c.id===t?0:-1,value:a,formattedValue:a,isEditable:!1};return r&&r.valueFormatter&&(u.formattedValue=r.valueFormatter(a,o,r,e)),u.isEditable=r&&e.current.isCellEditable(u),u}),[e]),i=t.useCallback(((t,n)=>{const r=e.current.getColumn(n),o=e.current.getRow(t);if(!o)throw new pv("No row with id #".concat(t," found"));return r&&r.valueGetter?r.valueGetter(o[r.field],o,r,e):o[n]}),[e]),s=t.useCallback(((t,n)=>{const r=n.field;if(!n||!n.valueGetter)return t[r];const o=t[n.field];return n.valueGetter(o,t,n,e)}),[e]),a=t.useCallback(((t,n)=>{const r=s(t,n);return n&&n.valueFormatter?n.valueFormatter(r,t,n,e):r}),[e,s]),l=t.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(Hm(t),'"]'))}(e.current.rootElementRef.current,t):null),[e]),c=t.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(Vm(t))}(e.current.rootElementRef.current,t):null),[e]),u=t.useCallback(((t,n)=>e.current.rootElementRef.current?function(e,t){let{id:n,field:r}=t;const o=Vm(n),i=".".concat(Js.cell,'[data-field="').concat(Hm(r),'"]'),s="".concat(o," ").concat(i);return e.querySelector(s)}(e.current.rootElementRef.current,{id:t,field:n}):null),[e]);Wf(e,{getCellValue:i,getCellParams:o,getCellElement:u,getRowValue:s,getRowFormattedValue:a,getRowParams:r,getRowElement:c,getColumnHeaderParams:n,getColumnHeaderElement:l},"public")}const gv=(e,t)=>null==e||Array.isArray(e)?e:t&&t[0]===e?t:[e],mv=(t,n)=>{var r;return(0,e.A)({},t,{rowSelection:n.rowSelection&&null!==(r=gv(n.rowSelectionModel))&&void 0!==r?r:[]})},vv=(n,r)=>{const o=(e=>{const{classes:n}=e;return t.useMemo((()=>(0,L.A)({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},$s,n)),[n])})({classes:r.classes}),i=t.useCallback((t=>{const i=(0,e.A)({},hm,{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:n.current.getLocaleText("checkboxSelectionHeaderName")}),s=r.checkboxSelection,a=null!=t.lookup[dm];return s&&!a?(t.lookup[dm]=i,t.orderedFields=[dm,...t.orderedFields]):!s&&a?(delete t.lookup[dm],t.orderedFields=t.orderedFields.filter((e=>e!==dm))):s&&a&&(t.lookup[dm]=(0,e.A)({},i,t.lookup[dm])),t}),[n,o,r.checkboxSelection]);wm(n,"hydrateColumns",i)},yv=(t,n)=>{var r,o,i;const s=null!==(r=null!==(o=n.sortModel)&&void 0!==o?o:null===(i=n.initialState)||void 0===i||null===(i=i.sorting)||void 0===i?void 0:i.sortModel)&&void 0!==r?r:[];return(0,e.A)({},t,{sorting:{sortModel:Zl(s,n.disableMultipleColumnsSorting),sortedRows:[]}})};function bv(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,i=o+r;return r>t?o:i-t>n?i-t:o<n?o:void 0}const _v={width:0,height:0},wv={isReady:!1,root:_v,viewportOuterSize:_v,viewportInnerSize:_v,contentSize:_v,minimumSize:_v,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},xv=t=>{const n=wv;return(0,e.A)({},t,{dimensions:n})};function Av(n,r){var o;const i=om(n,"useResizeContainer"),s=t.useRef(!1),a=t.useRef(_v),l=$a(n,zf),c=$a(n,Cl),u=$a(n,pl),d=Math.floor(r.rowHeight*u),h=Math.floor(r.columnHeaderHeight*u),p=Math.floor((null!==(o=r.headerFilterHeight)&&void 0!==o?o:r.columnHeaderHeight)*u),f=(g=Rl(n),m=6,Math.round(g*10**m)/10**m);var g,m;const v=Gp(n,r),y=c.left.reduce(((e,t)=>e+t.computedWidth),0),b=c.right.reduce(((e,t)=>e+t.computedWidth),0),[_,w]=t.useState(),x=t.useMemo((()=>function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;const o=()=>{t=void 0,e(...n)};function i(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];n=i,void 0===t&&(t=setTimeout(o,r))}return i.clear=()=>{clearTimeout(t),t=void 0},i}(w,r.resizeThrottleMs)),[r.resizeThrottleMs]),A=t.useRef(),E=(0,Re.A)((t=>{n.current.setState((n=>(0,e.A)({},n,{dimensions:t})))})),S=t.useCallback((()=>{var e,t;const r=n.current.mainElementRef.current;if(!r)return;const o=(0,Pe.A)(r).getComputedStyle(r),i=parseFloat(o.height)||0,s=parseFloat(o.width)||0,a=i!==(null===(e=A.current)||void 0===e?void 0:e.height),l=s!==(null===(t=A.current)||void 0===t?void 0:t.width);if(!A.current||a||l){const e={width:s,height:i};n.current.publishEvent("resize",e),A.current=e}}),[n]),C=t.useCallback((()=>{const e=Xl(n.current.state);if(!e.isReady)return 0;const t=Of(n,{pagination:r.pagination,paginationMode:r.paginationMode});if(r.getRowHeight){const e=Hf(n),r=e.lastRowIndex-e.firstRowIndex;return Math.min(r-1,t.rows.length)}const o=Math.floor(e.viewportInnerSize.height/d);return Math.min(o,t.rows.length)}),[n,r.pagination,r.paginationMode,r.getRowHeight,d]),M=t.useCallback((()=>{var e,t;const o=n.current.rootElementRef.current,i=function(e){var t,n;const r=Th(e);return{top:(null===r||void 0===r||null===(t=r.top)||void 0===t?void 0:t.reduce(((t,n)=>t+e.current.unstable_getRowHeight(n.id)),0))||0,bottom:(null===r||void 0===r||null===(n=r.bottom)||void 0===n?void 0:n.reduce(((t,n)=>t+e.current.unstable_getRowHeight(n.id)),0))||0}}(n),s=function(e,t,n){if(void 0!==n)return n;if(null===e||0===t)return 0;const r=(0,Me.A)(e),o=r.createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const i=o.offsetWidth-o.clientWidth;return e.removeChild(o),i}(o,f,r.scrollbarSize),c=v+i.top,u=i.bottom,g={width:f-y-b,height:l.currentPageTotalHeight};let m,_,w=!1,x=!1;if(r.autoHeight)x=!1,w=Math.round(f)>Math.round(a.current.width),m={width:a.current.width,height:c+u+g.height},_={width:Math.max(0,m.width-(x?s:0)),height:Math.max(0,m.height-(w?s:0))};else{m={width:a.current.width,height:a.current.height},_={width:Math.max(0,m.width-y-b),height:Math.max(0,m.height-c-u)};const e=g,t=_,n=e.width>t.width,r=e.height>t.height;(n||r)&&(x=r,w=e.width+(x?s:0)>t.width,w&&(x=e.height+s>t.height)),x&&(_.width-=s),w&&(_.height-=s)}const A=Math.max(m.width,f+(x?s:0)),S={width:f,height:c+g.height+u},C={isReady:!0,root:a.current,viewportOuterSize:m,viewportInnerSize:_,contentSize:g,minimumSize:S,hasScrollX:w,hasScrollY:x,scrollbarSize:s,headerHeight:h,headerFilterHeight:p,rowWidth:A,rowHeight:d,columnsTotalWidth:f,leftPinnedWidth:y,rightPinnedWidth:b,headersTotalHeight:v,topContainerHeight:c,bottomContainerHeight:u},M=n.current.state.dimensions;E(C),C.viewportInnerSize.width===M.viewportInnerSize.width&&C.viewportInnerSize.height===M.viewportInnerSize.height||n.current.publishEvent("viewportInnerSizeChange",C.viewportInnerSize),null===(e=(t=n.current).updateRenderContext)||void 0===e||e.call(t)}),[n,E,r.scrollbarSize,r.autoHeight,l.currentPageTotalHeight,d,h,p,f,v,y,b]),R={updateDimensions:M,getViewportPageSize:C};Wf(n,{resize:S,getRootDimensions:()=>n.current.state.dimensions},"public"),Wf(n,R,"private"),(0,Ve.A)((()=>{_&&(M(),n.current.publishEvent("debouncedResize",a.current))}),[n,_,M]);const T=n.current.rootElementRef.current,P=n.current.state.dimensions;(0,Ve.A)((()=>{if(!T)return;const e=(e,t)=>T.style.setProperty(e,t);e("--DataGrid-width","".concat(P.viewportOuterSize.width,"px")),e("--DataGrid-hasScrollX","".concat(Number(P.hasScrollX))),e("--DataGrid-hasScrollY","".concat(Number(P.hasScrollY))),e("--DataGrid-scrollbarSize","".concat(P.scrollbarSize,"px")),e("--DataGrid-rowWidth","".concat(P.rowWidth,"px")),e("--DataGrid-columnsTotalWidth","".concat(P.columnsTotalWidth,"px")),e("--DataGrid-leftPinnedWidth","".concat(P.leftPinnedWidth,"px")),e("--DataGrid-rightPinnedWidth","".concat(P.rightPinnedWidth,"px")),e("--DataGrid-headerHeight","".concat(P.headerHeight,"px")),e("--DataGrid-headersTotalHeight","".concat(P.headersTotalHeight,"px")),e("--DataGrid-topContainerHeight","".concat(P.topContainerHeight,"px")),e("--DataGrid-bottomContainerHeight","".concat(P.bottomContainerHeight,"px")),e("--height","".concat(P.rowHeight,"px"))}),[T,P]);const k=t.useRef(!0),I=t.useCallback((e=>{a.current=e;const t=/jsdom/.test(window.navigator.userAgent);if(0!==e.height||s.current||r.autoHeight||t||(i.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),s.current=!0),0!==e.width||s.current||t||(i.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),s.current=!0),k.current)return w(e),void(k.current=!1);x(e)}),[r.autoHeight,x,i]);(0,Ve.A)(M,[M]),Wl(n,"sortedRowsSet",M),Wl(n,"paginationModelChange",M),Wl(n,"columnsChange",M),Hl(n,"resize",I),Wl(n,"debouncedResize",r.onResize)}const Ev={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," of ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>"Group by ".concat(e),unGroupColumn:e=>"Stop grouping by ".concat(e),detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function Sv(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Cv(e){return parseFloat(e)}function Mv(e){return(0,z.Ay)("MuiSkeleton",e)}(0,B.A)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var Rv,Tv,Pv,kv;const Iv=["animation","className","component","height","style","variant","width"];let Ov,Lv,Nv,Fv;const Dv=(0,an.i7)(Ov||(Ov=Rv||(Rv=Jt(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),Bv=(0,an.i7)(Lv||(Lv=Tv||(Tv=Jt(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),zv=(0,N.Ay)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((t=>{let{theme:n,ownerState:r}=t;const o=Sv(n.shape.borderRadius)||"px",i=Cv(n.shape.borderRadius);return(0,e.A)({display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:Fa(n.palette.text.primary,"light"===n.palette.mode?.11:.13),height:"1.2em"},"text"===r.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(i).concat(o,"/").concat(Math.round(i/.6*10)/10).concat(o),"&:empty:before":{content:'"\\00a0"'}},"circular"===r.variant&&{borderRadius:"50%"},"rounded"===r.variant&&{borderRadius:(n.vars||n).shape.borderRadius},r.hasChildren&&{"& > *":{visibility:"hidden"}},r.hasChildren&&!r.width&&{maxWidth:"fit-content"},r.hasChildren&&!r.height&&{height:"auto"})}),(e=>{let{ownerState:t}=e;return"pulse"===t.animation&&(0,an.AH)(Nv||(Nv=Pv||(Pv=Jt(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),Dv)}),(e=>{let{ownerState:t,theme:n}=e;return"wave"===t.animation&&(0,an.AH)(Fv||(Fv=kv||(kv=Jt(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),Bv,(n.vars||n).palette.action.hover)})),jv=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:l="span",height:c,style:u,variant:d="text",width:h}=o,p=(0,f.A)(o,Iv),g=(0,e.A)({},o,{animation:i,component:l,variant:d,hasChildren:Boolean(p.children)}),m=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:s}=e,a={root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]};return(0,L.A)(a,Mv,t)})(g);return(0,s.jsx)(zv,(0,e.A)({as:l,ref:n,className:(0,O.A)(m.root,a),ownerState:g},p,{style:(0,e.A)({width:h,height:c},u)}))})),Uv=jv,Gv=["field","align","width","height"],Hv=function(e,t,n){const r=(o=e,()=>{let e=o+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296});var o;return()=>t+(n-t)*r()}(1e4,20,80);const Vv=Hp((function(t){const{align:n,width:r,height:o}=t,i=(0,f.A)(t,Gv),a=(e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton","cell--text".concat((0,ka.A)(t)),"withBorderColor"]};return(0,L.A)(r,$s,n)})({classes:ta().classes,align:n}),l=Math.round(Hv());return(0,s.jsx)("div",(0,e.A)({className:a.root,style:{height:o,maxWidth:r,minWidth:r}},i,{children:(0,s.jsx)(Uv,{width:"".concat(l,"%"),height:25})}))}));function Wv(e){return(0,z.Ay)("MuiBadge",e)}const Xv=(0,B.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),qv=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Kv=ss(),Yv=(0,N.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Zv=(0,N.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t["anchorOrigin".concat((0,ne.A)(n.anchorOrigin.vertical)).concat((0,ne.A)(n.anchorOrigin.horizontal)).concat((0,ne.A)(n.overlap))],"default"!==n.color&&t["color".concat((0,ne.A)(n.color))],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,r;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(r=t.vars)?r:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(Xv.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),Qv=t.forwardRef((function(t,n){var r,o,i,a,l,c;const u=Kv({props:t,name:"MuiBadge"}),{anchorOrigin:d={vertical:"top",horizontal:"right"},className:h,component:p,components:g={},componentsProps:m={},children:v,overlap:y="rectangular",color:b="default",invisible:_=!1,max:w=99,badgeContent:x,slots:A,slotProps:E,showZero:S=!1,variant:C="standard"}=u,M=(0,f.A)(u,qv),{badgeContent:R,invisible:T,max:P,displayValue:k}=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=fc({badgeContent:t,max:r});let s=n;!1!==n||0!==t||o||(s=!0);const{badgeContent:a,max:l=r}=s?i:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?"".concat(l,"+"):a}}({max:w,invisible:_,badgeContent:x,showZero:S}),I=fc({anchorOrigin:d,color:b,overlap:y,variant:C,badgeContent:x}),N=T||null==R&&"dot"!==C,{color:F=b,overlap:D=y,anchorOrigin:B=d,variant:z=C}=N?I:u,j="dot"!==z?k:void 0,U=(0,e.A)({},u,{badgeContent:R,invisible:N,max:P,displayValue:j,showZero:S,anchorOrigin:B,color:F,overlap:D,variant:z}),G=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,r&&"invisible","anchorOrigin".concat((0,ne.A)(n.vertical)).concat((0,ne.A)(n.horizontal)),"anchorOrigin".concat((0,ne.A)(n.vertical)).concat((0,ne.A)(n.horizontal)).concat((0,ne.A)(o)),"overlap".concat((0,ne.A)(o)),"default"!==t&&"color".concat((0,ne.A)(t))]};return(0,L.A)(a,Wv,s)})(U),H=null!=(r=null!=(o=null==A?void 0:A.root)?o:g.Root)?r:Yv,V=null!=(i=null!=(a=null==A?void 0:A.badge)?a:g.Badge)?i:Zv,W=null!=(l=null==E?void 0:E.root)?l:m.root,X=null!=(c=null==E?void 0:E.badge)?c:m.badge,q=Ce({elementType:H,externalSlotProps:W,externalForwardedProps:M,additionalProps:{ref:n,as:p},ownerState:U,className:(0,O.A)(null==W?void 0:W.className,G.root,h)}),K=Ce({elementType:V,externalSlotProps:X,ownerState:U,className:(0,O.A)(G.badge,null==X?void 0:X.className)});return(0,s.jsxs)(H,(0,e.A)({},q,{children:[v,(0,s.jsx)(V,(0,e.A)({},K,{children:j}))]}))})),$v=Qv,Jv=["className"],ey=qi("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})((()=>({display:"flex",visibility:"hidden",width:0}))),ty=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,Jv),i=ta(),a=(e=>{const{classes:t}=e;return(0,L.A)({root:["iconButtonContainer"]},$s,t)})(i);return(0,s.jsx)(ey,(0,e.A)({ref:n,className:(0,O.A)(a.root,r),ownerState:i},o))}));const ny=["className","selectedRowCount"],ry=qi("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}})),oy=t.forwardRef((function(t,n){const{className:r,selectedRowCount:o}=t,i=(0,f.A)(t,ny),a=Nl(),l=ta(),c=(e=>{const{classes:t}=e;return(0,L.A)({root:["selectedRowCount"]},$s,t)})(l),u=a.current.getLocaleText("footerRowSelected")(o);return(0,s.jsx)(ry,(0,e.A)({ref:n,className:(0,O.A)(c.root,r),ownerState:l},i,{children:u}))})),iy=["className"],sy=qi("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),ay=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,iy),i=ta(),a=(e=>{const{classes:t}=e;return(0,L.A)({root:["footerContainer","withBorderColor"]},$s,t)})(i);return(0,s.jsx)(sy,(0,e.A)({ref:n,className:(0,O.A)(a.root,r),ownerState:i},o))})),ly=t.forwardRef((function(t,n){var r,o;const i=Nl(),a=ta(),l=$a(i,wh),c=$a(i,Ff),u=$a(i,vf),d=!a.hideFooterSelectedRowCount&&c>0?(0,s.jsx)(oy,{selectedRowCount:c}):(0,s.jsx)("div",{}),h=a.hideFooterRowCount||a.pagination?null:(0,s.jsx)(a.slots.footerRowCount,(0,e.A)({},null===(r=a.slotProps)||void 0===r?void 0:r.footerRowCount,{rowCount:l,visibleRowCount:u})),p=a.pagination&&!a.hideFooterPagination&&a.slots.pagination&&(0,s.jsx)(a.slots.pagination,(0,e.A)({},null===(o=a.slotProps)||void 0===o?void 0:o.pagination));return(0,s.jsxs)(ay,(0,e.A)({ref:n},t,{children:[d,h,p]}))})),cy=["className","rowCount","visibleRowCount"],uy=qi("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2)}})),dy=t.forwardRef((function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,a=(0,f.A)(t,cy),l=Nl(),c=ta(),u=(e=>{const{classes:t}=e;return(0,L.A)({root:["rowCount"]},$s,t)})(c);if(0===o)return null;const d=i<o?l.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return(0,s.jsxs)(uy,(0,e.A)({ref:n,className:(0,O.A)(u.root,r),ownerState:c},a,{children:[l.current.getLocaleText("footerTotalRows")," ",d]}))}));function hy(e){return(0,z.Ay)("MuiCircularProgress",e)}(0,B.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var py,fy,gy,my;const vy=["className","color","disableShrink","size","style","thickness","value","variant"];let yy,by,_y,wy;const xy=44,Ay=(0,an.i7)(yy||(yy=py||(py=Jt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Ey=(0,an.i7)(by||(by=fy||(fy=Jt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Sy=(0,N.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,ne.A)(n.color))]]}})((t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({display:"inline-block"},"determinate"===n.variant&&{transition:r.transitions.create("transform")},"inherit"!==n.color&&{color:(r.vars||r).palette[n.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,an.AH)(_y||(_y=gy||(gy=Jt(["\n      animation: "," 1.4s linear infinite;\n    "]))),Ay)})),Cy=(0,N.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),My=(0,N.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,ne.A)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({stroke:"currentColor"},"determinate"===n.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,an.AH)(wy||(wy=my||(my=Jt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Ey)})),Ry=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:l=!1,size:c=40,style:u,thickness:d=3.6,value:h=0,variant:p="indeterminate"}=o,g=(0,f.A)(o,vy),m=(0,e.A)({},o,{color:a,disableShrink:l,size:c,thickness:d,value:h,variant:p}),v=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,"color".concat((0,ne.A)(r))],svg:["svg"],circle:["circle","circle".concat((0,ne.A)(n)),o&&"circleDisableShrink"]};return(0,L.A)(i,hy,t)})(m),y={},b={},_={};if("determinate"===p){const e=2*Math.PI*((xy-d)/2);y.strokeDasharray=e.toFixed(3),_["aria-valuenow"]=Math.round(h),y.strokeDashoffset="".concat(((100-h)/100*e).toFixed(3),"px"),b.transform="rotate(-90deg)"}return(0,s.jsx)(Sy,(0,e.A)({className:(0,O.A)(v.root,i),style:(0,e.A)({width:c,height:c},b,u),ownerState:m,ref:n,role:"progressbar"},_,g,{children:(0,s.jsx)(Cy,{className:v.svg,ownerState:m,viewBox:"".concat(22," ").concat(22," ").concat(xy," ").concat(xy),children:(0,s.jsx)(My,{className:v.circle,style:y,ownerState:m,cx:xy,cy:xy,r:(xy-d)/2,fill:"none",strokeWidth:d})})}))})),Ty=Ry,Py=["className"],ky=qi("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),Iy=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,Py),i=ta(),a=(e=>{const{classes:t}=e;return(0,L.A)({root:["overlay"]},$s,t)})(i);return(0,s.jsx)(ky,(0,e.A)({ref:n,className:(0,O.A)(a.root,r),ownerState:i},o))})),Oy=t.forwardRef((function(t,n){return(0,s.jsx)(Iy,(0,e.A)({ref:n},t,{children:(0,s.jsx)(Ty,{})}))})),Ly=t.forwardRef((function(t,n){const r=Nl().current.getLocaleText("noRowsLabel");return(0,s.jsx)(Iy,(0,e.A)({ref:n},t,{children:r}))}));const Ny=t.createContext();const Fy=t.createContext();function Dy(e){return(0,z.Ay)("MuiTableCell",e)}const By=(0,B.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),zy=["align","className","component","padding","scope","size","sortDirection","variant"],jy=(0,N.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,ne.A)(n.size))],"normal"!==n.padding&&t["padding".concat((0,ne.A)(n.padding))],"inherit"!==n.align&&t["align".concat((0,ne.A)(n.align))],n.stickyHeader&&t.stickyHeader]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},n.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?"1px solid ".concat(n.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===n.palette.mode?(0,F.a)((0,F.X4)(n.palette.divider,1),.88):(0,F.e$)((0,F.X4)(n.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===r.variant&&{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium},"body"===r.variant&&{color:(n.vars||n).palette.text.primary},"footer"===r.variant&&{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)},"small"===r.size&&{padding:"6px 16px",["&.".concat(By.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===r.padding&&{width:48,padding:"0 0 0 4px"},"none"===r.padding&&{padding:0},"left"===r.align&&{textAlign:"left"},"center"===r.align&&{textAlign:"center"},"right"===r.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===r.align&&{textAlign:"justify"},r.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default})})),Uy=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiTableCell"}),{align:a="inherit",className:l,component:c,padding:u,scope:d,size:h,sortDirection:p,variant:g}=i,m=(0,f.A)(i,zy),v=t.useContext(Ny),y=t.useContext(Fy),b=y&&"head"===y.variant;let _;_=c||(b?"th":"td");let w=d;"td"===_?w=void 0:!w&&b&&(w="col");const x=g||y&&y.variant,A=(0,e.A)({},i,{align:a,component:_,padding:u||(v&&v.padding?v.padding:"normal"),size:h||(v&&v.size?v.size:"medium"),sortDirection:p,stickyHeader:"head"===x&&v&&v.stickyHeader,variant:x}),E=(e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader","inherit"!==r&&"align".concat((0,ne.A)(r)),"normal"!==o&&"padding".concat((0,ne.A)(o)),"size".concat((0,ne.A)(i))]};return(0,L.A)(a,Dy,t)})(A);let S=null;return p&&(S="asc"===p?"ascending":"descending"),(0,s.jsx)(jy,(0,e.A)({as:_,ref:o,className:(0,O.A)(E.root,l),"aria-sort":S,scope:w,ownerState:A},m))})),Gy=Uy;function Hy(e){return(0,z.Ay)("MuiToolbar",e)}(0,B.A)("MuiToolbar",["root","gutters","regular","dense"]);const Vy=["className","component","disableGutters","variant"],Wy=(0,N.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}},"dense"===r.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),Xy=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:l=!1,variant:c="regular"}=o,u=(0,f.A)(o,Vy),d=(0,e.A)({},o,{component:a,disableGutters:l,variant:c}),h=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,L.A)(o,Hy,t)})(d);return(0,s.jsx)(Wy,(0,e.A)({as:a,className:(0,O.A)(h.root,i),ref:n,ownerState:d},u))})),qy=Xy,Ky=(0,_i.A)((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Yy=(0,_i.A)((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Zy=(0,_i.A)((0,s.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Qy=(0,_i.A)((0,s.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),$y=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Jy=t.forwardRef((function(t,n){var r,o,i,a,l,c,u,d;const{backIconButtonProps:h,count:p,disabled:g=!1,getItemAriaLabel:m,nextIconButtonProps:v,onPageChange:y,page:b,rowsPerPage:_,showFirstButton:w,showLastButton:x,slots:E={},slotProps:S={}}=t,C=(0,f.A)(t,$y),M=A(),R=null!=(r=E.firstButton)?r:ys,T=null!=(o=E.lastButton)?o:ys,P=null!=(i=E.nextButton)?i:ys,k=null!=(a=E.previousButton)?a:ys,I=null!=(l=E.firstButtonIcon)?l:Qy,O=null!=(c=E.lastButtonIcon)?c:Zy,L=null!=(u=E.nextButtonIcon)?u:Yy,N=null!=(d=E.previousButtonIcon)?d:Ky,F=M?T:R,D=M?P:k,B=M?k:P,z=M?R:T,j=M?S.lastButton:S.firstButton,U=M?S.nextButton:S.previousButton,G=M?S.previousButton:S.nextButton,H=M?S.firstButton:S.lastButton;return(0,s.jsxs)("div",(0,e.A)({ref:n},C,{children:[w&&(0,s.jsx)(F,(0,e.A)({onClick:e=>{y(e,0)},disabled:g||0===b,"aria-label":m("first",b),title:m("first",b)},j,{children:M?(0,s.jsx)(O,(0,e.A)({},S.lastButtonIcon)):(0,s.jsx)(I,(0,e.A)({},S.firstButtonIcon))})),(0,s.jsx)(D,(0,e.A)({onClick:e=>{y(e,b-1)},disabled:g||0===b,color:"inherit","aria-label":m("previous",b),title:m("previous",b)},null!=U?U:h,{children:M?(0,s.jsx)(L,(0,e.A)({},S.nextButtonIcon)):(0,s.jsx)(N,(0,e.A)({},S.previousButtonIcon))})),(0,s.jsx)(B,(0,e.A)({onClick:e=>{y(e,b+1)},disabled:g||-1!==p&&b>=Math.ceil(p/_)-1,color:"inherit","aria-label":m("next",b),title:m("next",b)},null!=G?G:v,{children:M?(0,s.jsx)(N,(0,e.A)({},S.previousButtonIcon)):(0,s.jsx)(L,(0,e.A)({},S.nextButtonIcon))})),x&&(0,s.jsx)(z,(0,e.A)({onClick:e=>{y(e,Math.max(0,Math.ceil(p/_)-1))},disabled:g||b>=Math.ceil(p/_)-1,"aria-label":m("last",b),title:m("last",b)},H,{children:M?(0,s.jsx)(I,(0,e.A)({},S.firstButtonIcon)):(0,s.jsx)(O,(0,e.A)({},S.lastButtonIcon))}))]}))})),eb=Jy;var tb=n(1014);function nb(e){return(0,z.Ay)("MuiTablePagination",e)}const rb=(0,B.A)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var ob;const ib=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],sb=(0,N.Ay)(Gy,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),ab=(0,N.Ay)(qy,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,n)=>(0,e.A)({["& .".concat(rb.actions)]:n.actions},n.toolbar)})((e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,["".concat(t.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(rb.actions)]:{flexShrink:0,marginLeft:20}}})),lb=(0,N.Ay)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),cb=(0,N.Ay)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})((t=>{let{theme:n}=t;return(0,e.A)({},n.typography.body2,{flexShrink:0})})),ub=(0,N.Ay)(Ti,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,n)=>(0,e.A)({["& .".concat(rb.selectIcon)]:n.selectIcon,["& .".concat(rb.select)]:n.select},n.input,n.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(rb.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),db=(0,N.Ay)(wa,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),hb=(0,N.Ay)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})((t=>{let{theme:n}=t;return(0,e.A)({},n.typography.body2,{flexShrink:0})}));function pb(e){let{from:t,to:n,count:r}=e;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function fb(e){return"Go to ".concat(e," page")}const gb=t.forwardRef((function(n,o){var i;const a=(0,r.A)({props:n,name:"MuiTablePagination"}),{ActionsComponent:l=eb,backIconButtonProps:c,className:u,colSpan:d,component:h=Gy,count:p,disabled:g=!1,getItemAriaLabel:m=fb,labelDisplayedRows:v=pb,labelRowsPerPage:y="Rows per page:",nextIconButtonProps:b,onPageChange:_,onRowsPerPageChange:w,page:x,rowsPerPage:A,rowsPerPageOptions:E=[10,25,50,100],SelectProps:S={},showFirstButton:C=!1,showLastButton:M=!1,slotProps:R={},slots:T={}}=a,P=(0,f.A)(a,ib),k=a,I=(e=>{const{classes:t}=e;return(0,L.A)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},nb,t)})(k),N=null!=(i=null==R?void 0:R.select)?i:S,F=N.native?"option":db;let D;h!==Gy&&"td"!==h||(D=d||1e3);const B=(0,tb.A)(N.id),z=(0,tb.A)(N.labelId);return(0,s.jsx)(sb,(0,e.A)({colSpan:D,ref:o,as:h,ownerState:k,className:(0,O.A)(I.root,u)},P,{children:(0,s.jsxs)(ab,{className:I.toolbar,children:[(0,s.jsx)(lb,{className:I.spacer}),E.length>1&&(0,s.jsx)(cb,{className:I.selectLabel,id:z,children:y}),E.length>1&&(0,s.jsx)(ub,(0,e.A)({variant:"standard"},!N.variant&&{input:ob||(ob=(0,s.jsx)(vr,{}))},{value:A,onChange:w,id:B,labelId:z},N,{classes:(0,e.A)({},N.classes,{root:(0,O.A)(I.input,I.selectRoot,(N.classes||{}).root),select:(0,O.A)(I.select,(N.classes||{}).select),icon:(0,O.A)(I.selectIcon,(N.classes||{}).icon)}),disabled:g,children:E.map((n=>(0,t.createElement)(F,(0,e.A)({},!be(F)&&{ownerState:k},{className:I.menuItem,key:n.label?n.label:n,value:n.value?n.value:n}),n.label?n.label:n)))})),(0,s.jsx)(hb,{className:I.displayedRows,children:v({from:0===p?0:x*A+1,to:-1===p?(x+1)*A:-1===A?p:Math.min(p,(x+1)*A),count:-1===p?-1:p,page:x})}),(0,s.jsx)(l,{className:I.actions,backIconButtonProps:c,count:p,nextIconButtonProps:b,onPageChange:_,page:x,rowsPerPage:A,showFirstButton:C,showLastButton:M,slotProps:R.actions,slots:T.actions,getItemAriaLabel:m,disabled:g})]})}))})),mb=gb,vb=(0,N.Ay)(mb)((e=>{let{theme:t}=e;return{["& .".concat(rb.selectLabel)]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},["& .".concat(rb.input)]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}}})),yb=e=>{let{from:t,to:n,count:r,estimated:o}=e;return o?"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(o>n?o:n)):"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))},bb=t.forwardRef((function(n,r){const o=Nl(),i=ta(),a=$a(o,Ef),l=$a(o,Sf),c=$a(o,Tf),{paginationMode:u,loading:d,estimatedRowCount:h}=i,p=t.useMemo((()=>-1===l&&"server"===u&&d?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{}),[d,u,l]),f=t.useMemo((()=>Math.max(0,c-1)),[c]),g=t.useMemo((()=>-1===l||a.page<=f?a.page:f),[f,a.page,l]),m=t.useCallback((e=>{const t=Number(e.target.value);o.current.setPageSize(t)}),[o]),v=t.useCallback(((e,t)=>{o.current.setPage(t)}),[o]);const y=(e=>{for(let t=0;t<i.pageSizeOptions.length;t+=1){const n=i.pageSizeOptions[t];if("number"===typeof n){if(n===e)return!0}else if(n.value===e)return!0}return!1})(a.pageSize)?i.pageSizeOptions:[],b=o.current.getLocaleText("MuiTablePagination"),_=(w=b.labelDisplayedRows||yb,x=h,e=>{let{from:t,to:n,count:r,page:o}=e;return w({from:t,to:n,count:r,page:o,estimated:x})});var w,x;return(0,s.jsx)(vb,(0,e.A)({ref:r,component:"div",count:l,page:g,rowsPerPageOptions:y,rowsPerPage:a.pageSize,onPageChange:v,onRowsPerPageChange:m},p,b,{labelDisplayedRows:_},n))})),_b=["className"],wb=qi("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function xb(t){const{className:n}=t,r=(0,f.A)(t,_b),o=ta(),i=(e=>{const{classes:t}=e;return(0,L.A)({root:["panelContent"]},$s,t)})(o);return(0,s.jsx)(wb,(0,e.A)({className:(0,O.A)(n,i.root),ownerState:o},r))}const Ab=["className"],Eb=qi("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}}));function Sb(t){const{className:n}=t,r=(0,f.A)(t,Ab),o=ta(),i=(e=>{const{classes:t}=e;return(0,L.A)({root:["panelFooter"]},$s,t)})(o);return(0,s.jsx)(Eb,(0,e.A)({className:(0,O.A)(n,i.root),ownerState:o},r))}const Cb=["className","slotProps"],Mb=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Rb=()=>!0,Tb=t.forwardRef((function(t,n){const{className:r,slotProps:o={}}=t,i=(0,f.A)(t,Cb),a=ta(),l=(e=>{const{classes:t}=e;return(0,L.A)({root:["panelWrapper"]},$s,t)})(a);return(0,s.jsx)(Ge,(0,e.A)({open:!0,disableEnforceFocus:!0,isEnabled:Rb},o.TrapFocus,{children:(0,s.jsx)(Mb,(0,e.A)({ref:n,tabIndex:-1,className:(0,O.A)(r,l.root),ownerState:a},i))}))})),Pb=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],kb=["InputComponentProps"],Ib=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})((e=>{let{theme:t}=e;return{display:"flex",padding:t.spacing(1)}})),Ob=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})((e=>{let{theme:t}=e;return{flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)}})),Lb=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),Nb=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),Fb=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Db=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),Bb=e=>e.headerName||e.field,zb=new Intl.Collator,jb=t.forwardRef((function(n,r){var o,i,a,l,c,u,d,h,p,g,m;const{item:v,hasMultipleFilters:y,deleteFilter:b,applyFilterChanges:_,showMultiFilterOperators:w,disableMultiFilterOperator:x,applyMultiFilterOperatorChanges:A,focusElementRef:E,logicOperators:S=[zd.And,zd.Or],columnsSort:C,filterColumns:M,deleteIconProps:R={},logicOperatorInputProps:T={},operatorInputProps:P={},columnInputProps:k={},valueInputProps:I={},readOnly:N}=n,F=(0,f.A)(n,Pb),D=Nl(),B=$a(D,wl),z=$a(D,Tl),j=$a(D,cf),U=(0,Yn.A)(),G=(0,Yn.A)(),H=(0,Yn.A)(),V=(0,Yn.A)(),W=ta(),X=(e=>{const{classes:t}=e;return(0,L.A)({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},$s,t)})(W),q=t.useRef(null),K=t.useRef(null),Y=null!==(o=j.logicOperator)&&void 0!==o?o:zd.And,Z=y&&S.length>0,Q=(null===(i=W.slotProps)||void 0===i?void 0:i.baseFormControl)||{},$=null!==(l=((null===(a=W.slotProps)||void 0===a?void 0:a.baseSelect)||{}).native)&&void 0!==l&&l,J=(null===(c=W.slotProps)||void 0===c?void 0:c.baseInputLabel)||{},ee=(null===(u=W.slotProps)||void 0===u?void 0:u.baseSelectOption)||{},{InputComponentProps:te}=I,ne=(0,f.A)(I,kb),{filteredColumns:re,selectedField:oe}=t.useMemo((()=>{let e=v.field;const t=!1===B[v.field].filterable?B[v.field]:null;if(t)return{filteredColumns:[t],selectedField:e};if(void 0===M||"function"!==typeof M)return{filteredColumns:z,selectedField:e};const n=M({field:v.field,columns:z,currentFilters:(null===j||void 0===j?void 0:j.items)||[]});return{filteredColumns:z.filter((t=>{const r=n.includes(t.field);return t.field!==v.field||r||(e=void 0),r})),selectedField:e}}),[M,null===j||void 0===j?void 0:j.items,z,v.field,B]),ie=t.useMemo((()=>{switch(C){case"asc":return re.sort(((e,t)=>zb.compare(Bb(e),Bb(t))));case"desc":return re.sort(((e,t)=>-zb.compare(Bb(e),Bb(t))));default:return re}}),[re,C]),se=v.field?D.current.getColumn(v.field):null,ae=t.useMemo((()=>{var e;return v.operator&&se?null===(e=se.filterOperators)||void 0===e?void 0:e.find((e=>e.value===v.operator)):null}),[v,se]),le=t.useCallback((t=>{const n=t.target.value,r=D.current.getColumn(n);if(r.field===se.field)return;const o=r.filterOperators.find((e=>e.value===v.operator))||r.filterOperators[0];let i=!o.InputComponent||o.InputComponent!==(null===ae||void 0===ae?void 0:ae.InputComponent)||r.type!==se.type?void 0:v.value;if("singleSelect"===r.type&&void 0!==i){const e=r,t=rp(e);Array.isArray(i)?i=i.filter((n=>void 0!==op(n,t,null===e||void 0===e?void 0:e.getOptionValue))):void 0===op(v.value,t,null===e||void 0===e?void 0:e.getOptionValue)&&(i=void 0)}_((0,e.A)({},v,{field:n,operator:o.value,value:i}))}),[D,_,v,se,ae]),ce=t.useCallback((t=>{const n=t.target.value,r=null===se||void 0===se?void 0:se.filterOperators.find((e=>e.value===n)),o=!(null!==r&&void 0!==r&&r.InputComponent)||(null===r||void 0===r?void 0:r.InputComponent)!==(null===ae||void 0===ae?void 0:ae.InputComponent);_((0,e.A)({},v,{operator:n,value:o?void 0:v.value}))}),[_,v,se,ae]),ue=t.useCallback((e=>{const t=e.target.value===zd.And.toString()?zd.And:zd.Or;A(t)}),[A]);return t.useImperativeHandle(E,(()=>({focus:()=>{var e;null!==ae&&void 0!==ae&&ae.InputComponent?null===q||void 0===q||null===(e=q.current)||void 0===e||e.focus():K.current.focus()}})),[ae]),(0,s.jsxs)(Ib,(0,e.A)({ref:r,className:X.root,"data-id":v.id,ownerState:W},F,{children:[(0,s.jsx)(Ob,(0,e.A)({variant:"standard",as:W.slots.baseFormControl},Q,R,{className:(0,O.A)(X.deleteIcon,Q.className,R.className),ownerState:W,children:(0,s.jsx)(W.slots.baseIconButton,(0,e.A)({"aria-label":D.current.getLocaleText("filterPanelDeleteIconLabel"),title:D.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{W.disableMultipleColumnsFiltering?void 0===v.value?b(v):_((0,e.A)({},v,{value:void 0})):b(v)},size:"small",disabled:N},null===(d=W.slotProps)||void 0===d?void 0:d.baseIconButton,{children:(0,s.jsx)(W.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,s.jsx)(Lb,(0,e.A)({variant:"standard",as:W.slots.baseFormControl},Q,T,{sx:(0,e.A)({display:Z?"flex":"none",visibility:w?"visible":"hidden"},Q.sx||{},T.sx||{}),className:(0,O.A)(X.logicOperatorInput,Q.className,T.className),ownerState:W,children:(0,s.jsx)(W.slots.baseSelect,(0,e.A)({inputProps:{"aria-label":D.current.getLocaleText("filterPanelLogicOperator")},value:null!==Y&&void 0!==Y?Y:"",onChange:ue,disabled:!!x||1===S.length,native:$},null===(h=W.slotProps)||void 0===h?void 0:h.baseSelect,{children:S.map((n=>(0,t.createElement)(W.slots.baseSelectOption,(0,e.A)({},ee,{native:$,key:n.toString(),value:n.toString()}),D.current.getLocaleText((e=>{switch(e){case zd.And:return"filterPanelOperatorAnd";case zd.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(n)))))}))})),(0,s.jsxs)(Nb,(0,e.A)({variant:"standard",as:W.slots.baseFormControl},Q,k,{className:(0,O.A)(X.columnInput,Q.className,k.className),ownerState:W,children:[(0,s.jsx)(W.slots.baseInputLabel,(0,e.A)({},J,{htmlFor:U,id:G,children:D.current.getLocaleText("filterPanelColumns")})),(0,s.jsx)(W.slots.baseSelect,(0,e.A)({labelId:G,id:U,label:D.current.getLocaleText("filterPanelColumns"),value:null!==oe&&void 0!==oe?oe:"",onChange:le,native:$,disabled:N},null===(p=W.slotProps)||void 0===p?void 0:p.baseSelect,{children:ie.map((n=>(0,t.createElement)(W.slots.baseSelectOption,(0,e.A)({},ee,{native:$,key:n.field,value:n.field}),Bb(n))))}))]})),(0,s.jsxs)(Fb,(0,e.A)({variant:"standard",as:W.slots.baseFormControl},Q,P,{className:(0,O.A)(X.operatorInput,Q.className,P.className),ownerState:W,children:[(0,s.jsx)(W.slots.baseInputLabel,(0,e.A)({},J,{htmlFor:H,id:V,children:D.current.getLocaleText("filterPanelOperator")})),(0,s.jsx)(W.slots.baseSelect,(0,e.A)({labelId:V,label:D.current.getLocaleText("filterPanelOperator"),id:H,value:v.operator,onChange:ce,native:$,inputRef:K,disabled:N},null===(g=W.slotProps)||void 0===g?void 0:g.baseSelect,{children:null===se||void 0===se||null===(m=se.filterOperators)||void 0===m?void 0:m.map((n=>(0,t.createElement)(W.slots.baseSelectOption,(0,e.A)({},ee,{native:$,key:n.value,value:n.value}),n.label||D.current.getLocaleText("filterOperator".concat((0,ka.A)(n.value))))))}))]})),(0,s.jsx)(Db,(0,e.A)({variant:"standard",as:W.slots.baseFormControl},Q,ne,{className:(0,O.A)(X.valueInput,Q.className,ne.className),ownerState:W,children:null!==ae&&void 0!==ae&&ae.InputComponent?(0,s.jsx)(ae.InputComponent,(0,e.A)({apiRef:D,item:v,applyValue:_,focusElementRef:q,disabled:N},ae.InputComponentProps,te),v.field):null}))]}))})),Ub=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Gb=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}),Hb=t.forwardRef((function(n,r){var o,i;const a=Nl(),l=ta(),c=$a(a,cf),u=$a(a,Tl),d=$a(a,Pl),h=t.useRef(null),p=t.useRef(null),{logicOperators:g=[zd.And,zd.Or],columnsSort:m,filterFormProps:v,getColumnForNewFilter:y,disableAddFilterButton:b=!1,disableRemoveAllButton:_=!1}=n,w=(0,f.A)(n,Ub),x=a.current.upsertFilterItem,A=t.useCallback((e=>{a.current.setFilterLogicOperator(e)}),[a]),E=t.useCallback((()=>{let e;if(y&&"function"===typeof y){const t=y({currentFilters:(null===c||void 0===c?void 0:c.items)||[],columns:u});if(null===t)return null;e=u.find((e=>{let{field:n}=e;return n===t}))}else e=u.find((e=>{var t;return null===(t=e.filterOperators)||void 0===t?void 0:t.length}));return e?Gb(e):null}),[null===c||void 0===c?void 0:c.items,u,y]),S=t.useCallback((()=>{if(void 0===y||"function"!==typeof y)return E();const e=c.items.length?c.items:[E()].filter(Boolean),t=y({currentFilters:e,columns:u});if(null===t)return null;const n=u.find((e=>{let{field:n}=e;return n===t}));return n?Gb(n):null}),[c.items,u,y,E]),C=t.useMemo((()=>c.items.length?c.items:(p.current||(p.current=E()),p.current?[p.current]:[])),[c.items,E]),M=C.length>1,{readOnlyFilters:R,validFilters:T}=t.useMemo((()=>C.reduce(((e,t)=>(d[t.field]?e.validFilters.push(t):e.readOnlyFilters.push(t),e)),{readOnlyFilters:[],validFilters:[]})),[C,d]),P=t.useCallback((()=>{const e=S();e&&a.current.upsertFilterItems([...C,e])}),[a,S,C]),k=t.useCallback((e=>{const t=1===T.length;a.current.deleteFilterItem(e),t&&a.current.hideFilterPanel()}),[a,T.length]),I=t.useCallback((()=>1===T.length&&void 0===T[0].value?(a.current.deleteFilterItem(T[0]),a.current.hideFilterPanel()):a.current.setFilterModel((0,e.A)({},c,{items:R}),"removeAllFilterItems")),[a,R,c,T]);return t.useEffect((()=>{g.length>0&&c.logicOperator&&!g.includes(c.logicOperator)&&A(g[0])}),[g,A,c.logicOperator]),t.useEffect((()=>{T.length>0&&h.current.focus()}),[T.length]),(0,s.jsxs)(Tb,(0,e.A)({ref:r},w,{children:[(0,s.jsxs)(xb,{children:[R.map(((t,n)=>(0,s.jsx)(jb,(0,e.A)({item:t,applyFilterChanges:x,deleteFilter:k,hasMultipleFilters:M,showMultiFilterOperators:n>0,disableMultiFilterOperator:1!==n,applyMultiFilterOperatorChanges:A,focusElementRef:null,readOnly:!0,logicOperators:g,columnsSort:m},v),null==t.id?n:t.id))),T.map(((t,n)=>(0,s.jsx)(jb,(0,e.A)({item:t,applyFilterChanges:x,deleteFilter:k,hasMultipleFilters:M,showMultiFilterOperators:R.length+n>0,disableMultiFilterOperator:R.length+n!==1,applyMultiFilterOperatorChanges:A,focusElementRef:n===T.length-1?h:null,logicOperators:g,columnsSort:m},v),null==t.id?n+R.length:t.id)))]}),l.disableMultipleColumnsFiltering||b&&_?null:(0,s.jsxs)(Sb,{children:[b?(0,s.jsx)("span",{}):(0,s.jsx)(l.slots.baseButton,(0,e.A)({onClick:P,startIcon:(0,s.jsx)(l.slots.filterPanelAddIcon,{})},null===(o=l.slotProps)||void 0===o?void 0:o.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),!_&&T.length>0?(0,s.jsx)(l.slots.baseButton,(0,e.A)({onClick:I,startIcon:(0,s.jsx)(l.slots.filterPanelRemoveAllIcon,{})},null===(i=l.slotProps)||void 0===i?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))}));function Vb(e){return(0,z.Ay)("MuiFormControlLabel",e)}const Wb=(0,B.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Xb=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],qb=(0,N.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Wb.label)]:t.label},t.root,t["labelPlacement".concat((0,ne.A)(n.labelPlacement))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(Wb.disabled)]:{cursor:"default"}},"start"===r.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===r.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===r.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(Wb.label)]:{["&.".concat(Wb.disabled)]:{color:(n.vars||n).palette.text.disabled}}})})),Kb=(0,N.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(Wb.error)]:{color:(t.vars||t).palette.error.main}}})),Yb=t.forwardRef((function(n,o){var i,a;const l=(0,r.A)({props:n,name:"MuiFormControlLabel"}),{className:c,componentsProps:u={},control:d,disabled:h,disableTypography:p,label:g,labelPlacement:m="end",required:v,slotProps:y={}}=l,b=(0,f.A)(l,Xb),_=ir(),w=null!=(i=null!=h?h:d.props.disabled)?i:null==_?void 0:_.disabled,x=null!=v?v:d.props.required,A={disabled:w,required:x};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof d.props[e]&&"undefined"!==typeof l[e]&&(A[e]=l[e])}));const E=rr({props:l,muiFormControl:_,states:["error"]}),S=(0,e.A)({},l,{disabled:w,labelPlacement:m,required:x,error:E.error}),C=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled","labelPlacement".concat((0,ne.A)(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,L.A)(s,Vb,t)})(S),M=null!=(a=y.typography)?a:u.typography;let R=g;return null==R||R.type===ce||p||(R=(0,s.jsx)(ce,(0,e.A)({component:"span"},M,{className:(0,O.A)(C.label,null==M?void 0:M.className),children:R}))),(0,s.jsxs)(qb,(0,e.A)({className:(0,O.A)(C.root,c),ownerState:S,ref:o},b,{children:[t.cloneElement(d,A),x?(0,s.jsxs)(os,{display:"block",children:[R,(0,s.jsxs)(Kb,{ownerState:S,"aria-hidden":!0,className:C.asterisk,children:["\u2009","*"]})]}):R]}))})),Zb=Yb,Qb=(e,t)=>{const n=new Set(Object.keys(e).filter((t=>!1===e[t]))),r=new Set(Object.keys(t).filter((e=>!1===t[e])));if(n.size!==r.size)return!1;let o=!0;return n.forEach((e=>{r.has(e)||(o=!1)})),o},$b=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,Jb=e=>{const{classes:t}=e;return(0,L.A)({root:["columnsManagement"],header:["columnsManagementHeader"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},$s,t)},e_=new Intl.Collator;function t_(n){var r,o,i;const a=Nl(),l=t.useRef(null),c=$a(a,xl),u=(0,Ha.A)((()=>Al(a))).current,d=$a(a,Al),h=ta(),[p,f]=t.useState(""),g=Jb(h),{sort:m,searchPredicate:v=$b,autoFocusSearchField:y=!0,disableShowHideToggle:b=!1,disableResetButton:_=!1,toggleAllMode:w="all",getTogglableColumns:x}=n,A=t.useMemo((()=>Qb(d,u)),[d,u]),E=t.useMemo((()=>{switch(m){case"asc":return[...c].sort(((e,t)=>e_.compare(e.headerName||e.field,t.headerName||t.field)));case"desc":return[...c].sort(((e,t)=>-e_.compare(e.headerName||e.field,t.headerName||t.field)));default:return c}}),[c,m]),S=e=>{const{name:t}=e.target;a.current.setColumnVisibility(t,!1===d[t])},C=t.useMemo((()=>{const e=x?x(E):null,t=e?E.filter((t=>{let{field:n}=t;return e.includes(n)})):E;return p?t.filter((e=>v(e,p.toLowerCase()))):t}),[E,p,v,x]),M=t.useCallback((t=>{const n=Al(a),r=(0,e.A)({},n),o=x?x(c):null;return("filteredOnly"===w?C:c).forEach((e=>{e.hideable&&(null==o||o.includes(e.field))&&(t?delete r[e.field]:r[e.field]=!1)})),a.current.setColumnVisibilityModel(r)}),[a,c,x,w,C]),R=t.useCallback((e=>{f(e.target.value)}),[]),T=t.useMemo((()=>C.filter((e=>e.hideable))),[C]),P=t.useMemo((()=>T.every((e=>null==d[e.field]||!1!==d[e.field]))),[d,T]),k=t.useMemo((()=>T.every((e=>!1===d[e.field]))),[d,T]),I=t.useRef(null);t.useEffect((()=>{y?l.current.focus():I.current&&"function"===typeof I.current.focus&&I.current.focus()}),[y]);let O=!1;const L=e=>!1===O&&!1!==e.hideable&&(O=!0,!0);return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(r_,{className:g.header,ownerState:h,children:(0,s.jsx)(h.slots.baseTextField,(0,e.A)({placeholder:a.current.getLocaleText("columnsManagementSearchTitle"),inputRef:l,value:p,onChange:R,variant:"outlined",size:"small",InputProps:{startAdornment:(0,s.jsx)(h.slots.baseInputAdornment,{position:"start",children:(0,s.jsx)(h.slots.quickFilterIcon,{})}),sx:{pl:1.5}},fullWidth:!0},null===(r=h.slotProps)||void 0===r?void 0:r.baseTextField))}),(0,s.jsxs)(n_,{className:g.root,ownerState:h,children:[C.map((t=>{var n;return(0,s.jsx)(Zb,{className:g.row,control:(0,s.jsx)(h.slots.baseCheckbox,(0,e.A)({disabled:!1===t.hideable,checked:!1!==d[t.field],onClick:S,name:t.field,sx:{p:.5},inputRef:L(t)?I:void 0},null===(n=h.slotProps)||void 0===n?void 0:n.baseCheckbox)),label:t.headerName||t.field},t.field)})),0===C.length&&(0,s.jsx)(i_,{ownerState:h,children:a.current.getLocaleText("columnsManagementNoColumns")})]}),b&&_||!(C.length>0)?null:(0,s.jsxs)(o_,{ownerState:h,className:g.footer,children:[b?(0,s.jsx)("span",{}):(0,s.jsx)(Zb,{control:(0,s.jsx)(h.slots.baseCheckbox,(0,e.A)({disabled:0===T.length,checked:P,indeterminate:!P&&!k,onClick:()=>M(!P),name:a.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},null===(o=h.slotProps)||void 0===o?void 0:o.baseCheckbox)),label:a.current.getLocaleText("columnsManagementShowHideAllText")}),_?null:(0,s.jsx)(h.slots.baseButton,(0,e.A)({onClick:()=>a.current.setColumnVisibilityModel(u),disabled:A},null===(i=h.slotProps)||void 0===i?void 0:i.baseButton,{children:"Reset"}))]})]})}const n_=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(e,t)=>t.columnsManagement})((e=>{let{theme:t}=e;return{padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"}})),r_=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(e,t)=>t.columnsManagementHeader})((e=>{let{theme:t}=e;return{padding:t.spacing(1.5,3)}})),o_=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(e,t)=>t.columnsManagementFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:"1px solid ".concat(t.palette.divider)}})),i_=(0,N.Ay)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(.5,0),color:t.palette.grey[500]}}));const s_=["children","className","classes"],a_=(0,B.A)("MuiDataGrid",["panel","paper"]),l_=(0,N.Ay)(nd,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),c_=(0,N.Ay)(V,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:"calc(100vw - ".concat(t.spacing(.5),")"),overflow:"auto"}})),u_=t.forwardRef(((n,r)=>{const{children:o,className:i}=n,a=(0,f.A)(n,s_),l=Nl(),c=ta(),u=a_,[d,h]=t.useState(!1),p=t.useCallback((()=>{l.current.hidePreferences()}),[l]),g=t.useCallback((e=>{Qh(e.key)&&l.current.hidePreferences()}),[l]),m=t.useMemo((()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{h(!0)},effect:()=>()=>{h(!1)}}]),[]),[v,y]=t.useState(null);return t.useEffect((()=>{var e;const t=null===(e=l.current.rootElementRef)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.querySelector('[data-id="gridPanelAnchor"]');t&&y(t)}),[l]),v?(0,s.jsx)(l_,(0,e.A)({ref:r,placement:"bottom-start",className:(0,O.A)(i,u.panel),ownerState:c,anchorEl:v,modifiers:m},a,{children:(0,s.jsx)(yp,{mouseEvent:"onMouseUp",onClickAway:p,children:(0,s.jsx)(c_,{className:u.paper,ownerState:c,elevation:8,onKeyDown:g,children:d&&o})})})):null}));let d_;const h_=(e,t,n,r,o)=>{const i=t===n-1;return!(e!==vl.LEFT||!i)||!!r&&(e===vl.LEFT||(e===vl.RIGHT?!i:!i||o))},p_=(e,t)=>e===vl.RIGHT&&0===t,f_=["column","rowId","editCellState","align","children","colIndex","width","className","style","gridHasScrollX","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","sectionIndex","sectionLength","gridHasFiller","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],g_=["changeReason","unstable_updateValueOnRender"];let m_=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const v_={[m_.LEFT]:vl.LEFT,[m_.RIGHT]:vl.RIGHT,[m_.NONE]:void 0,[m_.VIRTUAL]:void 0},y_={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:la.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}};const b_=t.forwardRef(((n,r)=>{var o,i;const{column:a,rowId:l,editCellState:c,align:u,colIndex:d,width:h,className:p,style:g,colSpan:m,disableDragEvents:v,isNotVisible:y,pinnedOffset:b,pinnedPosition:_,sectionIndex:w,sectionLength:x,gridHasFiller:A,onClick:E,onDoubleClick:S,onMouseDown:C,onMouseUp:M,onMouseOver:R,onKeyDown:T,onKeyUp:P,onDragEnter:k,onDragOver:I}=n,N=(0,f.A)(n,f_),F=Nl(),D=ta(),B=a.field,z=$a(F,(()=>{try{const e=F.current.getCellParams(l,B);return e.api=F.current,e}catch(e){if(e instanceof pv)return y_;throw e}}),Za),j=$a(F,(()=>F.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:l,field:B}))),{cellMode:U,hasFocus:G,isEditable:H=!1,value:V,formattedValue:W}=z,X="actions"===a.type&&(null===(o=a.getActions)||void 0===o?void 0:o.call(a,F.current.getRowParams(l)).some((e=>!e.props.disabled))),q="view"!==U&&H||X?-1:z.tabIndex,{classes:K,getCellClassName:Y}=D,Z=[$a(F,(()=>F.current.unstable_applyPipeProcessors("cellClassName",[],{id:l,field:B}).filter(Boolean).join(" ")))];a.cellClassName&&Z.push("function"===typeof a.cellClassName?a.cellClassName(z):a.cellClassName),"flex"===a.display&&Z.push(Js["cell--flex"]),Y&&Z.push(Y(z));const Q=null==W?V:W,$=t.useRef(null),J=(0,ye.A)(r,$),ee=t.useRef(null),te=null!==(i=D.cellSelection)&&void 0!==i&&i,ne=v_[_],re=(e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:i,isSelected:s,isSelectionMode:a,classes:l}=e,c={root:["cell","cell--text".concat((0,ka.A)(t)),s&&"selected",i&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===m_.LEFT&&"cell--pinnedLeft",o===m_.RIGHT&&"cell--pinnedRight",a&&!i&&"cell--selectionMode"]};return(0,L.A)(c,$s,l)})({align:u,showLeftBorder:p_(ne,w),showRightBorder:h_(ne,w,x,D.showCellVerticalBorder,A),isEditable:H,classes:D.classes,pinnedPosition:_,isSelected:j,isSelectionMode:te}),oe=t.useCallback((e=>t=>{const n=F.current.getCellParams(l,B||"");F.current.publishEvent(e,n,t),M&&M(t)}),[F,B,M,l]),ie=t.useCallback((e=>t=>{const n=F.current.getCellParams(l,B||"");F.current.publishEvent(e,n,t),C&&C(t)}),[F,B,C,l]),se=t.useCallback(((e,t)=>n=>{if(!F.current.getRow(l))return;const r=F.current.getCellParams(l,B||"");F.current.publishEvent(e,r,n),t&&t(n)}),[F,B,l]),ae=t.useMemo((()=>{if(y)return{padding:0,opacity:0,width:0,border:0};const t=(0,e.A)({"--width":"".concat(h,"px")},g);return _===m_.LEFT&&(t.left=b),_===m_.RIGHT&&(t.right=b),t}),[h,y,g,b,_]);if(t.useEffect((()=>{if(!G||U===la.Edit)return;const e=(0,Me.A)(F.current.rootElementRef.current);if($.current&&!$.current.contains(e.activeElement)){const e=$.current.querySelector('[tabindex="0"]'),t=ee.current||e||$.current;if(void 0===d_&&document.createElement("div").focus({get preventScroll(){return d_=!0,!1}}),d_)t.focus({preventScroll:!0});else{const e=F.current.getScrollPosition();t.focus(),F.current.scroll(e)}}}),[G,U,F]),z===y_)return null;let le,ce,ue=N.onFocus;if(null===c&&a.renderCell&&(le=a.renderCell(z)),null!==c&&a.renderEditCell){const t=F.current.getRowWithUpdatedValues(l,a.field),n=(0,f.A)(c,g_),r=(0,e.A)({},z,{row:t},n);le=a.renderEditCell(r),Z.push(Js["cell--editing"]),Z.push(null===K||void 0===K?void 0:K["cell--editing"])}if(void 0===le){const e=null===Q||void 0===Q?void 0:Q.toString();le=e,ce=e}t.isValidElement(le)&&X&&(le=t.cloneElement(le,{focusElementRef:ee}));const de=v?null:{onDragEnter:se("cellDragEnter",k),onDragOver:se("cellDragOver",I)};return(0,s.jsx)("div",(0,e.A)({ref:J,className:(0,O.A)(p,Z,re.root),role:"gridcell","data-field":B,"data-colindex":d,"aria-colindex":d+1,"aria-colspan":m,style:ae,title:ce,tabIndex:q,onClick:se("cellClick",E),onDoubleClick:se("cellDoubleClick",S),onMouseOver:se("cellMouseOver",R),onMouseDown:ie("cellMouseDown"),onMouseUp:oe("cellMouseUp"),onKeyDown:se("cellKeyDown",T),onKeyUp:se("cellKeyUp",P)},de,N,{onFocus:ue,children:le}))})),__=Hp(b_),w_={root:Js.scrollbarFiller,header:Js["scrollbarFiller--header"],borderTop:Js["scrollbarFiller--borderTop"],pinnedRight:Js["scrollbarFiller--pinnedRight"]};function x_(e){let{header:t,borderTop:n=!0,pinnedRight:r}=e;return(0,s.jsx)("div",{role:"presentation",className:(0,O.A)(w_.root,t&&w_.header,n&&w_.borderTop,r&&w_.pinnedRight)})}const A_=(e,t,n,r,o)=>{const i=o.hasScrollY?o.scrollbarSize:0;let s;switch(e){case vl.LEFT:s=r[n];break;case vl.RIGHT:s=o.columnsTotalWidth-r[n]-t+i;break;default:s=0}return s},E_=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","dimensions","renderContext","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function S_(e){let{width:t}=e;return t?(0,s.jsx)("div",{role:"presentation",className:(0,O.A)(Js.cell,Js.cellEmpty),style:{"--width":"".concat(t,"px")}}):null}const C_=t.forwardRef((function(n,r){const{selected:o,rowId:i,row:a,index:l,style:c,rowHeight:u,className:d,visibleColumns:h,pinnedColumns:p,offsetLeft:g,dimensions:m,renderContext:v,focusedColumnIndex:y,isFirstVisible:b,isLastVisible:_,isNotVisible:w,onClick:x,onDoubleClick:A,onMouseEnter:E,onMouseLeave:S,onMouseOut:C,onMouseOver:M}=n,R=(0,f.A)(n,E_),T=Nl(),P=t.useRef(null),k=ta(),I=Lf(T,k),N=$a(T,sf),F=$a(T,Mh),D=$a(T,Fp),B=$a(T,Ml),z=$a(T,rv),j=(0,ye.A)(P,r),U=T.current.getRowNode(i),G=m.hasScrollY?m.scrollbarSize:0,H=m.columnsTotalWidth<m.viewportOuterSize.width,V=void 0!==y,W=V&&y>=p.left.length&&y<v.firstColumnIndex,X=V&&y<h.length-p.right.length&&y>=v.lastColumnIndex,q=l+D+2,K=(e=>{const{editable:t,editing:n,selected:r,isFirstVisible:o,isLastVisible:i,rowHeight:s,classes:a}=e,l={root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",o&&"row--firstVisible",i&&"row--lastVisible","auto"===s&&"row--dynamicHeight"]};return(0,L.A)(l,$s,a)})({selected:o,isFirstVisible:b,isLastVisible:_,classes:k.classes,editing:T.current.getRowMode(i)===ca.Edit,editable:k.editMode===aa.Row,rowHeight:u});t.useLayoutEffect((()=>{"auto"===u&&P.current&&"undefined"===typeof ResizeObserver&&T.current.unstable_storeRowHeightMeasurement(i,P.current.clientHeight)}),[T,u,i]),t.useLayoutEffect((()=>{if(I.range){const e=T.current.getRowIndexRelativeToVisibleRows(i);null!=e&&T.current.unstable_setLastMeasuredRowIndex(e)}const e=P.current;if(!e||"auto"!==u||"undefined"===typeof ResizeObserver)return;const t=new ResizeObserver((e=>{const[t]=e,n=t.borderBoxSize&&t.borderBoxSize.length>0?t.borderBoxSize[0].blockSize:t.contentRect.height;T.current.unstable_storeRowHeightMeasurement(i,n)}));return t.observe(e),()=>t.disconnect()}),[T,I.range,l,u,i]);const Y=t.useCallback(((e,t)=>n=>{Wm(n)||T.current.getRow(i)&&(T.current.publishEvent(e,T.current.getRowParams(i),n),t&&t(n))}),[T,i]),Z=t.useCallback((e=>{const t=Gm(e.target,Js.cell),n=null===t||void 0===t?void 0:t.getAttribute("data-field");if(n){if(n===hm.field)return;if(n===Um)return;if("__reorder__"===n)return;if(T.current.getCellMode(i,n)===la.Edit)return;const e=T.current.getColumn(n);if((null===e||void 0===e?void 0:e.type)===Cp)return}Y("rowClick",x)(e)}),[T,x,Y,i]),{slots:Q,slotProps:$,disableColumnReorder:J}=k,ee=k.rowReordering,te=$a(T,(()=>(0,e.A)({},T.current.unstable_getRowInternalSizes(i))),Za);let ne=u;if("auto"===ne&&te){var re;const e=1,t=null!==(re=te.baseCenter)&&void 0!==re?re:0;t>0&&e>1&&(ne=t)}const oe=t.useMemo((()=>{if(w)return{opacity:0,width:0,height:0};const t=(0,e.A)({},c,{maxHeight:"auto"===u?"none":u,minHeight:ne,"--height":"number"===typeof u?"".concat(u,"px"):u});if(null!==te&&void 0!==te&&te.spacingTop){t["border"===k.rowSpacingType?"borderTopWidth":"marginTop"]=te.spacingTop}if(null!==te&&void 0!==te&&te.spacingBottom){const e="border"===k.rowSpacingType?"borderBottomWidth":"marginBottom";let n=t[e];"number"!==typeof n&&(n=parseInt(n||"0",10)),n+=te.spacingBottom,t[e]=n}return t}),[w,u,c,ne,te,k.rowSpacingType]),ie=T.current.unstable_applyPipeProcessors("rowClassName",[],i);if("function"===typeof k.getRowClassName){var se;const t=l-((null===(se=I.range)||void 0===se?void 0:se.firstRowIndex)||0),n=(0,e.A)({},T.current.getRowParams(i),{isFirstVisible:0===t,isLastVisible:t===I.rows.length-1,indexRelativeToCurrentPage:t});ie.push(k.getRowClassName(n))}const ae=function(t,n,r,o){var a,l,c,d;let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m_.NONE;const p=T.current.unstable_getCellColSpanInfo(i,r);if(null!==p&&void 0!==p&&p.spannedByColSpan)return null;const f=null!==(a=null===p||void 0===p?void 0:p.cellProps.width)&&void 0!==a?a:t.computedWidth,g=null!==(l=null===p||void 0===p?void 0:p.cellProps.colSpan)&&void 0!==l?l:1,v=A_(v_[h],t.computedWidth,r,B,m);var y;if("skeletonRow"===(null===U||void 0===U?void 0:U.type))return(0,s.jsx)(Q.skeletonCell,{width:f,height:u,field:t.field,align:null!==(y=t.align)&&void 0!==y?y:"left"},t.field);const b=null!==(c=null===(d=z[i])||void 0===d?void 0:d[t.field])&&void 0!==c?c:null,_="__reorder__"===t.field,w=Object.keys(z).length>0,x=!(J||t.disableReorder),A=ee&&!N.length&&F<=1&&!w,E=!(x||_&&A),S=h===m_.VIRTUAL;return(0,s.jsx)(Q.cell,(0,e.A)({column:t,width:f,rowId:i,align:t.align||"left",colIndex:r,colSpan:g,disableDragEvents:E,editCellState:b,isNotVisible:S,pinnedOffset:v,pinnedPosition:h,sectionIndex:n,sectionLength:o,gridHasFiller:H},null===$||void 0===$?void 0:$.cell),t.field)};if(!U)return null;const le=p.left.map(((e,t)=>ae(e,t,t,p.left.length,m_.LEFT))),ce=p.right.map(((e,t)=>{const n=h.length-p.right.length+t;return ae(e,t,n,p.right.length,m_.RIGHT)})),ue=h.length-p.left.length-p.right.length,de=[];W&&de.push(ae(h[y],y-p.left.length,y,ue,m_.VIRTUAL));for(let e=v.firstColumnIndex;e<v.lastColumnIndex;e+=1){const t=h[e],n=e-p.left.length;de.push(ae(t,n,e,ue))}X&&de.push(ae(h[y],y-p.left.length,y,ue,m_.VIRTUAL));const he=a?{onClick:Z,onDoubleClick:Y("rowDoubleClick",A),onMouseEnter:Y("rowMouseEnter",E),onMouseLeave:Y("rowMouseLeave",S),onMouseOut:Y("rowMouseOut",C),onMouseOver:Y("rowMouseOver",M)}:null,pe=m.viewportOuterSize.width-m.columnsTotalWidth-G,fe=Math.max(0,pe);return(0,s.jsxs)("div",(0,e.A)({ref:j,"data-id":i,"data-rowindex":l,role:"row",className:(0,O.A)(...ie,K.root,d),"aria-rowindex":q,"aria-selected":o,style:oe},he,R,{children:[le,(0,s.jsx)("div",{role:"presentation",className:Js.cellOffsetLeft,style:{width:g}}),de,fe>0&&(0,s.jsx)(S_,{width:fe}),ce.length>0&&(0,s.jsx)("div",{role:"presentation",className:Js.filler}),ce,0!==G&&(0,s.jsx)(x_,{pinnedRight:p.right.length>0})]}))})),M_=Hp(C_);function R_(t){var n;const{direction:r,index:o,sortingOrder:i,disabled:a}=t,l=Nl(),c=ta(),u=(e=>{const{classes:t}=e;return(0,L.A)({icon:["sortIcon"]},$s,t)})((0,e.A)({},t,{classes:c.classes})),d=function(t,n,r,o){let i;const a={};return"asc"===n?i=t.columnSortedAscendingIcon:"desc"===n?i=t.columnSortedDescendingIcon:(i=t.columnUnsortedIcon,a.sortingOrder=o),i?(0,s.jsx)(i,(0,e.A)({fontSize:"small",className:r},a)):null}(c.slots,r,u.icon,i);if(!d)return null;const h=(0,s.jsx)(c.slots.baseIconButton,(0,e.A)({tabIndex:-1,"aria-label":l.current.getLocaleText("columnHeaderSortIconLabel"),title:l.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:a},null===(n=c.slotProps)||void 0===n?void 0:n.baseIconButton,{children:d}));return(0,s.jsxs)(ty,{children:[null!=o&&(0,s.jsx)($v,{badgeContent:o,color:"default",children:h}),null==o&&h]})}const T_=t.memo(R_),P_=t.memo((n=>{var r,o;const{colDef:i,open:a,columnMenuId:l,columnMenuButtonId:c,iconButtonRef:u}=n,d=Nl(),h=ta(),p=(e=>{const{classes:t,open:n}=e,r={root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]};return(0,L.A)(r,$s,t)})((0,e.A)({},n,{classes:h.classes})),f=t.useCallback((e=>{e.preventDefault(),e.stopPropagation(),d.current.toggleColumnMenu(i.field)}),[d,i.field]);return(0,s.jsx)("div",{className:p.root,children:(0,s.jsx)(h.slots.baseTooltip,(0,e.A)({title:d.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},null===(r=h.slotProps)||void 0===r?void 0:r.baseTooltip,{children:(0,s.jsx)(h.slots.baseIconButton,(0,e.A)({ref:u,tabIndex:-1,className:p.button,"aria-label":d.current.getLocaleText("columnMenuLabel"),size:"small",onClick:f,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":a?l:void 0,id:c},null===(o=h.slotProps)||void 0===o?void 0:o.baseIconButton,{children:(0,s.jsx)(h.slots.columnMenuIcon,{fontSize:"small"})}))}))})}));function k_(t){let{columnMenuId:n,columnMenuButtonId:r,ContentComponent:o,contentComponentProps:i,field:a,open:l,target:c,onExited:u}=t;const d=Nl(),h=d.current.getColumn(a),p=(0,Re.A)((e=>{e&&(e.stopPropagation(),null!==c&&void 0!==c&&c.contains(e.target))||d.current.hideColumnMenu()}));return c&&h?(0,s.jsx)(Ap,{placement:"bottom-".concat("right"===h.align?"start":"end"),open:l,target:c,onClose:p,onExited:u,children:(0,s.jsx)(o,(0,e.A)({colDef:h,hideMenu:p,open:l,id:n,labelledby:r},i))}):null}const I_=["className"],O_=qi("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),L_=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,I_),i=ta(),a=(e=>{const{classes:t}=e;return(0,L.A)({root:["columnHeaderTitle"]},$s,t)})(i);return(0,s.jsx)(O_,(0,e.A)({ref:n,className:(0,O.A)(a.root,r),ownerState:i},o))}));function N_(n){var r;const{label:o,description:i}=n,a=ta(),l=t.useRef(null),[c,u]=t.useState(""),d=t.useCallback((()=>{if(!i&&null!==l&&void 0!==l&&l.current){const t=(e=l.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;u(t?o:"")}var e}),[i,o]);return(0,s.jsx)(a.slots.baseTooltip,(0,e.A)({title:i||c},null===(r=a.slotProps)||void 0===r?void 0:r.baseTooltip,{children:(0,s.jsx)(L_,{onMouseOver:d,ref:l,children:o})}))}const F_=["resizable","resizing","height","side"];var D_=function(e){return e.Left="left",e.Right="right",e}(D_||{});function B_(n){const{height:r,side:o=D_.Right}=n,i=(0,f.A)(n,F_),a=ta(),l=(e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&"columnSeparator--side".concat((0,ka.A)(o))],icon:["iconSeparator"]};return(0,L.A)(i,$s,r)})((0,e.A)({},n,{side:o,classes:a.classes})),c=t.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return(0,s.jsx)("div",(0,e.A)({className:l.root,style:{minHeight:r,opacity:a.showColumnVerticalBorder?0:1}},i,{onClick:c,children:(0,s.jsx)(a.slots.columnResizeIcon,{className:l.icon})}))}const z_=t.memo(B_),j_=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],U_=t.forwardRef((function(n,r){const{classes:o,columnMenuOpen:i,colIndex:a,height:l,isResizing:c,sortDirection:u,hasFocus:d,tabIndex:h,separatorSide:p,isDraggable:g,headerComponent:m,description:v,width:y,columnMenuIconButton:b=null,columnMenu:_=null,columnTitleIconButtons:w=null,headerClassName:x,label:A,resizable:E,draggableContainerProps:S,columnHeaderSeparatorProps:C,style:M}=n,R=(0,f.A)(n,j_),T=el(),P=ta(),k=t.useRef(null),[I,L]=t.useState(i),N=(0,ye.A)(k,r);let F="none";return null!=u&&(F="asc"===u?"ascending":"descending"),t.useEffect((()=>{I||L(i)}),[I,i]),t.useLayoutEffect((()=>{const e=T.current.state.columnMenu;if(d&&!e.open){var t;const e=k.current.querySelector('[tabindex="0"]')||k.current;null===e||void 0===e||e.focus(),null!==(t=T.current.columnHeadersContainerRef)&&void 0!==t&&t.current&&(T.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[T,d]),(0,s.jsxs)("div",(0,e.A)({ref:N,className:(0,O.A)(o.root,x),style:(0,e.A)({},M,{height:l,width:y,minWidth:y,maxWidth:y}),role:"columnheader",tabIndex:h,"aria-colindex":a+1,"aria-sort":F,"aria-label":null==m?A:void 0},R,{children:[(0,s.jsxs)("div",(0,e.A)({className:o.draggableContainer,draggable:g,role:"presentation"},S,{children:[(0,s.jsxs)("div",{className:o.titleContainer,role:"presentation",children:[(0,s.jsx)("div",{className:o.titleContainerContent,children:void 0!==m?m:(0,s.jsx)(N_,{label:A,description:v,columnWidth:y})}),w]}),b]})),(0,s.jsx)(z_,(0,e.A)({resizable:!P.disableColumnResize&&!!E,resizing:c,height:l,side:p},C)),_]}))}));const G_=Hp((function(n){var r,o,i,a;const{colDef:l,columnMenuOpen:c,colIndex:u,headerHeight:d,isResizing:h,isLast:p,sortDirection:f,sortIndex:g,filterItemsCounter:m,hasFocus:v,tabIndex:y,disableReorder:b,separatorSide:_,style:w,pinnedPosition:x,indexInSection:A,sectionLength:E,gridHasFiller:S}=n,C=el(),M=ta(),R=t.useRef(null),T=(0,Yn.A)(),P=(0,Yn.A)(),k=t.useRef(null),[I,N]=t.useState(c),F=t.useMemo((()=>!M.disableColumnReorder&&!b&&!l.disableReorder),[M.disableColumnReorder,b,l.disableReorder]);let D;l.renderHeader&&(D=l.renderHeader(C.current.getColumnHeaderParams(l.field)));const B=p_(x,A),z=h_(x,A,E,M.showCellVerticalBorder,S),j=(e=>{const{colDef:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,showLeftBorder:s,filterItemsCounter:a,pinnedPosition:l}=e,c=null!=o,u=null!=a&&a>0,d="number"===t.type,h={root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",c&&"columnHeader--sorted",u&&"columnHeader--filtered",d&&"columnHeader--numeric","withBorderColor",i&&"columnHeader--withRightBorder",s&&"columnHeader--withLeftBorder","left"===l&&"columnHeader--pinnedLeft","right"===l&&"columnHeader--pinnedRight"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return(0,L.A)(h,$s,n)})((0,e.A)({},n,{classes:M.classes,showRightBorder:z,showLeftBorder:B})),U=t.useCallback((e=>t=>{Wm(t)||C.current.publishEvent(e,C.current.getColumnHeaderParams(l.field),t)}),[C,l.field]),G=t.useMemo((()=>({onClick:U("columnHeaderClick"),onDoubleClick:U("columnHeaderDoubleClick"),onMouseOver:U("columnHeaderOver"),onMouseOut:U("columnHeaderOut"),onMouseEnter:U("columnHeaderEnter"),onMouseLeave:U("columnHeaderLeave"),onKeyDown:U("columnHeaderKeyDown"),onFocus:U("columnHeaderFocus"),onBlur:U("columnHeaderBlur")})),[U]),H=t.useMemo((()=>F?{onDragStart:U("columnHeaderDragStart"),onDragEnter:U("columnHeaderDragEnter"),onDragOver:U("columnHeaderDragOver"),onDragEnd:U("columnHeaderDragEnd")}:{}),[F,U]),V=t.useMemo((()=>({onMouseDown:U("columnSeparatorMouseDown"),onDoubleClick:U("columnSeparatorDoubleClick")})),[U]);t.useEffect((()=>{I||N(c)}),[I,c]);const W=t.useCallback((()=>{N(!1)}),[]),X=!M.disableColumnMenu&&!l.disableColumnMenu&&(0,s.jsx)(P_,{colDef:l,columnMenuId:T,columnMenuButtonId:P,open:I,iconButtonRef:k}),q=(0,s.jsx)(k_,{columnMenuId:T,columnMenuButtonId:P,field:l.field,open:c,target:k.current,ContentComponent:M.slots.columnMenu,contentComponentProps:null===(r=M.slotProps)||void 0===r?void 0:r.columnMenu,onExited:W}),K=null!==(o=l.sortingOrder)&&void 0!==o?o:M.sortingOrder,Y=(l.sortable||null!=f)&&!l.hideSortIcons&&!M.disableColumnSorting,Z=(0,s.jsxs)(t.Fragment,{children:[!M.disableColumnFilter&&(0,s.jsx)(M.slots.columnHeaderFilterIconButton,(0,e.A)({field:l.field,counter:m},null===(i=M.slotProps)||void 0===i?void 0:i.columnHeaderFilterIconButton)),Y&&(0,s.jsx)(T_,{direction:f,index:g,sortingOrder:K,disabled:!l.sortable})]});t.useLayoutEffect((()=>{const e=C.current.state.columnMenu;if(v&&!e.open){var t;const e=R.current.querySelector('[tabindex="0"]')||R.current;null===e||void 0===e||e.focus(),null!==(t=C.current.columnHeadersContainerRef)&&void 0!==t&&t.current&&(C.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[C,v]);const Q="function"===typeof l.headerClassName?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,$=null!==(a=l.headerName)&&void 0!==a?a:l.field;return(0,s.jsx)(U_,(0,e.A)({ref:R,classes:j,columnMenuOpen:c,colIndex:u,height:d,isResizing:h,sortDirection:f,hasFocus:v,tabIndex:y,separatorSide:_,isDraggable:F,headerComponent:D,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:X,columnTitleIconButtons:Z,headerClassName:(0,O.A)(Q,p&&Js["columnHeader--last"]),label:$,resizable:!M.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:q,draggableContainerProps:H,columnHeaderSeparatorProps:V,style:w},G))}));function H_(n){var r;const{groupId:o,width:i,depth:a,maxDepth:l,fields:c,height:u,colIndex:d,hasFocus:h,tabIndex:p,isLastColumn:f,pinnedPosition:g,style:m,indexInSection:v,sectionLength:y,gridHasFiller:b}=n,_=ta(),w=t.useRef(null),x=Nl(),A=$a(x,Lp),E=o?A[o]:{},{headerName:S=(null!==o&&void 0!==o?o:""),description:C="",headerAlign:M}=E;let R;const T=o&&(null===(r=A[o])||void 0===r?void 0:r.renderHeaderGroup),P=t.useMemo((()=>({groupId:o,headerName:S,description:C,depth:a,maxDepth:l,fields:c,colIndex:d,isLastColumn:f})),[o,S,C,a,l,c,d,f]);o&&T&&(R=T(P));const k=p_(g,v),I=h_(g,v,y,_.showCellVerticalBorder,b),O=(0,e.A)({},n,{classes:_.classes,showLeftBorder:k,showRightBorder:I,headerAlign:M,depth:a,isDragging:!1}),N=null!==S&&void 0!==S?S:o,F=(0,Yn.A)(),D=null===o?"empty-group-cell-".concat(F):o,B=(e=>{const{classes:t,headerAlign:n,isDragging:r,showLeftBorder:o,showRightBorder:i,groupId:s,pinnedPosition:a}=e,l={root:["columnHeader","left"===n&&"columnHeader--alignLeft","center"===n&&"columnHeader--alignCenter","right"===n&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder","withBorderColor",null===s?"columnHeader--emptyGroup":"columnHeader--filledGroup","left"===a&&"columnHeader--pinnedLeft","right"===a&&"columnHeader--pinnedRight"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return(0,L.A)(l,$s,t)})(O);t.useLayoutEffect((()=>{if(h){const e=w.current.querySelector('[tabindex="0"]')||w.current;null===e||void 0===e||e.focus()}}),[x,h]);const z=t.useCallback((e=>t=>{Wm(t)||x.current.publishEvent(e,P,t)}),[x,P]),j=t.useMemo((()=>({onKeyDown:z("columnGroupHeaderKeyDown"),onFocus:z("columnGroupHeaderFocus"),onBlur:z("columnGroupHeaderBlur")})),[z]),U="function"===typeof E.headerClassName?E.headerClassName(P):E.headerClassName;return(0,s.jsx)(U_,(0,e.A)({ref:w,classes:B,columnMenuOpen:!1,colIndex:d,height:u,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:p,isDraggable:!1,headerComponent:R,headerClassName:U,description:C,elementId:D,width:i,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!0,label:N,"aria-colspan":c.length,"data-fields":"|-".concat(c.join("-|-"),"-|"),style:m},j))}const V_=(0,N.Ay)("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})({display:"flex"}),W_=["className"],X_=qi("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),q_=t.forwardRef((function(t,n){const{className:r}=t,o=(0,f.A)(t,W_),i=ta(),a=(e=>{const{classes:t}=e;return(0,L.A)({root:["columnHeaders"]},$s,t)})(i);return(0,s.jsx)(X_,(0,e.A)({ref:n,className:(0,O.A)(r,a.root),ownerState:i},o,{role:"presentation"}))})),K_=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],Y_=t.forwardRef((function(n,r){const{visibleColumns:o,sortColumnLookup:i,filterColumnLookup:a,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:c,columnHeaderFocus:u,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:v}=n,y=(0,f.A)(n,K_),{getInnerProps:b,getColumnHeadersRow:_,getColumnGroupHeadersRows:w}=(n=>{const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:h,columnVisibility:p,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=n,[m,v]=t.useState(""),[y,b]=t.useState(""),_=el(),w=it(),x=ta(),A=$a(_,Gf),E=$a(_,Xl),S=$a(_,Ml),C=$a(_,Vf),M=$a(_,Cl),R=og(S,C,w.direction,M.left.length),T=E.columnsTotalWidth<E.viewportOuterSize.width;t.useEffect((()=>{_.current.columnHeadersContainerRef.current.scrollLeft=0}),[_]);const P=t.useCallback((e=>b(e.field)),[]),k=t.useCallback((()=>b("")),[]),I=t.useCallback((e=>v(e.field)),[]),L=t.useCallback((()=>v("")),[]),N=t.useMemo((()=>M.left.length?{firstColumnIndex:0,lastColumnIndex:M.left.length}:null),[M.left.length]),F=t.useMemo((()=>M.right.length?{firstColumnIndex:r.length-M.right.length,lastColumnIndex:r.length}:null),[M.right.length,r.length]);Hl(_,"columnResizeStart",P),Hl(_,"columnResizeStop",k),Hl(_,"columnHeaderDragStart",I),Hl(_,"columnHeaderDragEnd",L);const D=e=>{const{renderContext:t=C,maxLastColumn:n=r.length}=e||{},o=A?t.firstColumnIndex:0,i=A?t.lastColumnIndex:n;return{renderedColumns:r.slice(o,i),firstColumnToRender:o,lastColumnToRender:i}},B=function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=(null===e||void 0===e?void 0:e.position)===vl.RIGHT,a=void 0===(null===e||void 0===e?void 0:e.position),l=M.right.length>0&&i||0===M.right.length&&a,c=R-r;return(0,s.jsxs)(t.Fragment,{children:[a&&(0,s.jsx)("div",{role:"presentation",style:{width:c}}),n,a&&(0,s.jsx)("div",{role:"presentation",className:(0,O.A)(Js.filler,o&&Js["filler--borderTop"])}),l&&(0,s.jsx)(x_,{header:!0,borderTop:o,pinnedRight:i})]})},z=e=>{let t,{pinnedPosition:n,columnIndex:r,computedWidth:o}=e;if("left"===n||"right"===n){const e=A_(n,o,r,S,E);"left"===n&&(t={left:e}),"right"===n&&(t={right:e})}return t},j=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{renderedColumns:r,firstColumnToRender:l}=D(t),u=[];for(let d=0;d<r.length;d+=1){const p=r[d],f=l+d,v=0===f,b=null!==a&&a.field===p.field||v&&!g?0:-1,_=null!==c&&c.field===p.field,w=h.open&&h.field===p.field,x=null===t||void 0===t?void 0:t.position,A=z({pinnedPosition:x,columnIndex:f,computedWidth:p.computedWidth});u.push((0,s.jsx)(G_,(0,e.A)({},o[p.field],{columnMenuOpen:w,filterItemsCounter:i[p.field]&&i[p.field].length,headerHeight:E.headerHeight,isDragging:p.field===m,colDef:p,colIndex:f,isResizing:y===p.field,isLast:f===S.length-1,hasFocus:_,tabIndex:b,pinnedPosition:x,style:A,indexInSection:d,sectionLength:r.length,gridHasFiller:T},n),p.field))}return B(t,u,0)},U=t=>{var n,o;let{depth:i,params:a}=t;const c=D(a);if(0===c.renderedColumns.length)return null;const{renderedColumns:h,firstColumnToRender:g,lastColumnToRender:m}=c,v=f[i],y=r[g].field,b=null!==(n=_.current.getColumnGroupPath(y)[i])&&void 0!==n?n:null,w=v.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===b&&n.includes(y)})),x=r[m-1].field,A=null!==(o=_.current.getColumnGroupPath(x)[i])&&void 0!==o?o:null,S=v.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===A&&n.includes(x)})),C=v.slice(w,S+1).map((t=>(0,e.A)({},t,{columnFields:t.columnFields.filter((e=>!1!==p[e]))}))).filter((e=>e.columnFields.length>0)),M=C[0].columnFields.indexOf(y),R=C[0].columnFields.slice(0,M).reduce(((e,t)=>{var n;return e+(null!==(n=_.current.getColumn(t).computedWidth)&&void 0!==n?n:0)}),0);let P=g;const k=C.map(((e,t)=>{let{groupId:n,columnFields:o}=e;const c=null!==u&&u.depth===i&&o.includes(u.field),p=null!==l&&l.depth===i&&o.includes(l.field)?0:-1,f={groupId:n,width:o.reduce(((e,t)=>e+_.current.getColumn(t).computedWidth),0),fields:o,colIndex:P,hasFocus:c,tabIndex:p},g=a.position,m=z({pinnedPosition:g,columnIndex:P,computedWidth:f.width});P+=o.length;let v=t;return"left"===g&&(v=P-1),(0,s.jsx)(H_,{groupId:n,width:f.width,fields:f.fields,colIndex:f.colIndex,depth:i,isLastColumn:f.colIndex===r.length-f.fields.length,maxDepth:d,height:E.headerHeight,hasFocus:c,tabIndex:p,pinnedPosition:g,style:m,indexInSection:v,sectionLength:h.length,gridHasFiller:T},t)}));return B(a,k,R)};return{renderContext:C,leftRenderContext:N,rightRenderContext:F,pinnedColumns:M,visibleColumns:r,getCellOffsetStyle:z,getFillers:B,getColumnHeadersRow:()=>(0,s.jsxs)(V_,{role:"row","aria-rowindex":d+1,ownerState:x,children:[N&&j({position:vl.LEFT,renderContext:N,minFirstColumn:N.firstColumnIndex,maxLastColumn:N.lastColumnIndex},{disableReorder:!0}),j({renderContext:C,minFirstColumn:M.left.length,maxLastColumn:r.length-M.right.length}),F&&j({position:vl.RIGHT,renderContext:F,minFirstColumn:F.firstColumnIndex,maxLastColumn:F.lastColumnIndex},{disableReorder:!0,separatorSide:D_.Left})]}),getColumnsToRender:D,getColumnGroupHeadersRows:()=>{if(0===d)return null;const e=[];for(let t=0;t<d;t+=1)e.push((0,s.jsxs)(V_,{role:"row","aria-rowindex":t+1,ownerState:x,children:[N&&U({depth:t,params:{position:vl.LEFT,renderContext:N,minFirstColumn:N.firstColumnIndex,maxLastColumn:N.lastColumnIndex}}),U({depth:t,params:{renderContext:C}}),F&&U({depth:t,params:{position:vl.RIGHT,renderContext:F,minFirstColumn:F.firstColumnIndex,maxLastColumn:F.lastColumnIndex}})]},t));return e},isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:o,sortColumnLookup:i,filterColumnLookup:a,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:c,columnHeaderFocus:u,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:v});return(0,s.jsxs)(q_,(0,e.A)({ref:r},y,b(),{children:[w(),_()]}))})),Z_=Hp(Y_),Q_=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],$_=(0,N.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:n.vars?"rgba(".concat(n.vars.palette.dividerChannel," / 0.08)"):(0,F.X4)(n.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(t=>{let{ownerState:n}=t;return(0,e.A)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},r.children&&"vertical"!==r.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((n.vars||n).palette.divider)}})}),(t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((n.vars||n).palette.divider)}})}),(t=>{let{ownerState:n}=t;return(0,e.A)({},"right"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),J_=(0,N.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({display:"inline-block",paddingLeft:"calc(".concat(n.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(n.spacing(1)," * 1.2)")},"vertical"===r.orientation&&{paddingTop:"calc(".concat(n.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(n.spacing(1)," * 1.2)")})})),ew=t.forwardRef((function(t,n){const o=(0,r.A)({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,component:c=(a?"div":"hr"),flexItem:u=!1,light:d=!1,orientation:h="horizontal",role:p=("hr"!==c?"separator":void 0),textAlign:g="center",variant:m="fullWidth"}=o,v=(0,f.A)(o,Q_),y=(0,e.A)({},o,{absolute:i,component:c,flexItem:u,light:d,orientation:h,role:p,textAlign:g,variant:m}),b=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,L.A)(c,ua,r)})(y);return(0,s.jsx)($_,(0,e.A)({as:c,className:(0,O.A)(b.root,l),role:p,ref:n,ownerState:y},v,{children:a?(0,s.jsx)(J_,{className:b.wrapper,ownerState:y,children:a}):null}))}));ew.muiSkipListHighlight=!0;const tw=ew,nw=["displayOrder"],rw=["hideMenu","colDef","id","labelledby","className","children","open"],ow=(0,N.Ay)(Ao)((()=>({minWidth:248}))),iw=t.forwardRef((function(n,r){const{hideMenu:o,id:i,labelledby:a,className:l,children:c,open:u}=n,d=(0,f.A)(n,rw),h=t.useCallback((e=>{var t;$h(e.key)&&e.preventDefault(),t=e.key,($h(t)||Qh(t))&&o(e)}),[o]);return(0,s.jsx)(ow,(0,e.A)({id:i,ref:r,className:(0,O.A)(Js.menuList,l),"aria-labelledby":a,onKeyDown:h,autoFocus:u},d,{children:c}))})),sw=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],aw=(0,N.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ga.primary)]:t.primary},{["& .".concat(ga.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((t=>{let{ownerState:n}=t;return(0,e.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})})),lw=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiListItemText"}),{children:a,className:l,disableTypography:c=!1,inset:u=!1,primary:d,primaryTypographyProps:h,secondary:p,secondaryTypographyProps:g}=i,m=(0,f.A)(i,sw),{dense:v}=t.useContext(Wt);let y=null!=d?d:a,b=p;const _=(0,e.A)({},i,{disableTypography:c,inset:u,primary:!!y,secondary:!!b,dense:v}),w=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,s={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,L.A)(s,fa,t)})(_);return null==y||y.type===ce||c||(y=(0,s.jsx)(ce,(0,e.A)({variant:v?"body2":"body1",className:w.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:y}))),null==b||b.type===ce||c||(b=(0,s.jsx)(ce,(0,e.A)({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},g,{children:b}))),(0,s.jsxs)(aw,(0,e.A)({className:(0,O.A)(w.root,l),ownerState:_,ref:o},m,{children:[y,b]}))})),cw=lw;function uw(e){const{colDef:n,onClick:r}=e,o=Nl(),i=ta(),a=1===El(o).filter((e=>!0!==e.disableColumnMenu)).length,l=t.useCallback((e=>{a||(o.current.setColumnVisibility(n.field,!1),r(e))}),[o,n.field,r,a]);return i.disableColumnSelector||!1===n.hideable?null:(0,s.jsxs)(wa,{onClick:l,disabled:a,children:[(0,s.jsx)(Sa,{children:(0,s.jsx)(i.slots.columnMenuHideIcon,{fontSize:"small"})}),(0,s.jsx)(cw,{children:o.current.getLocaleText("columnMenuHideColumn")})]})}function dw(e){const{onClick:n}=e,r=Nl(),o=ta(),i=t.useCallback((e=>{n(e),r.current.showPreferences(Ol.columns)}),[r,n]);return o.disableColumnSelector?null:(0,s.jsxs)(wa,{onClick:i,children:[(0,s.jsx)(Sa,{children:(0,s.jsx)(o.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),(0,s.jsx)(cw,{children:r.current.getLocaleText("columnMenuManageColumns")})]})}const hw=["defaultSlots","defaultSlotProps","slots","slotProps"],pw={columnMenuSortItem:function(e){var n;const{colDef:r,onClick:o}=e,i=Nl(),a=$a(i,sf),l=ta(),c=t.useMemo((()=>{if(!r)return null;const e=a.find((e=>e.field===r.field));return null===e||void 0===e?void 0:e.sort}),[r,a]),u=null!==(n=r.sortingOrder)&&void 0!==n?n:l.sortingOrder,d=t.useCallback((e=>{o(e);const t=e.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(r.field,t===c?null:t)}),[i,r,o,c]);if(l.disableColumnSorting||!r||!r.sortable||!u.some((e=>!!e)))return null;const h=e=>{const t=i.current.getLocaleText(e);return"function"===typeof t?t(r):t};return(0,s.jsxs)(t.Fragment,{children:[u.includes("asc")&&"asc"!==c?(0,s.jsxs)(wa,{onClick:d,"data-value":"asc",children:[(0,s.jsx)(Sa,{children:(0,s.jsx)(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),(0,s.jsx)(cw,{children:h("columnMenuSortAsc")})]}):null,u.includes("desc")&&"desc"!==c?(0,s.jsxs)(wa,{onClick:d,"data-value":"desc",children:[(0,s.jsx)(Sa,{children:(0,s.jsx)(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),(0,s.jsx)(cw,{children:h("columnMenuSortDesc")})]}):null,u.includes(null)&&null!=c?(0,s.jsxs)(wa,{onClick:d,children:[(0,s.jsx)(Sa,{}),(0,s.jsx)(cw,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})},columnMenuFilterItem:function(e){const{colDef:n,onClick:r}=e,o=Nl(),i=ta(),a=t.useCallback((e=>{r(e),o.current.showFilterPanel(n.field)}),[o,n.field,r]);return i.disableColumnFilter||!n.filterable?null:(0,s.jsxs)(wa,{onClick:a,children:[(0,s.jsx)(Sa,{children:(0,s.jsx)(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),(0,s.jsx)(cw,{children:o.current.getLocaleText("columnMenuFilter")})]})},columnMenuColumnsItem:function(n){return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(uw,(0,e.A)({},n)),(0,s.jsx)(dw,(0,e.A)({},n))]})}},fw={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},gw=t.forwardRef((function(n,r){const{defaultSlots:o,defaultSlotProps:i,slots:a,slotProps:l}=n,c=(0,f.A)(n,hw),u=(n=>{const r=el(),{defaultSlots:o,defaultSlotProps:i,slots:s={},slotProps:a={},hideMenu:l,colDef:c,addDividers:u=!0}=n,d=t.useMemo((()=>(0,e.A)({},o,s)),[o,s]),h=t.useMemo((()=>{if(!a||0===Object.keys(a).length)return i;const t=(0,e.A)({},a);return Object.entries(i).forEach((n=>{let[r,o]=n;t[r]=(0,e.A)({},o,a[r]||{})})),t}),[i,a]),p=r.current.unstable_applyPipeProcessors("columnMenu",[],n.colDef),g=t.useMemo((()=>{const e=Object.keys(o);return Object.keys(s).filter((t=>!e.includes(t)))}),[s,o]);return t.useMemo((()=>{const t=Array.from(new Set([...p,...g])).filter((e=>null!=d[e])).sort(((e,t)=>{const n=h[e],r=h[t];return(Number.isFinite(null===n||void 0===n?void 0:n.displayOrder)?n.displayOrder:100)-(Number.isFinite(null===r||void 0===r?void 0:r.displayOrder)?r.displayOrder:100)}));return t.reduce(((n,r,o)=>{let i={colDef:c,onClick:l};const s=h[r];if(s){const t=(0,f.A)(s,nw);i=(0,e.A)({},i,t)}return u&&o!==t.length-1?[...n,[d[r],i],[tw,{}]]:[...n,[d[r],i]]}),[])}),[u,c,p,l,d,h,g])})((0,e.A)({},c,{defaultSlots:o,defaultSlotProps:i,slots:a,slotProps:l}));return(0,s.jsx)(iw,(0,e.A)({ref:r},c,{children:u.map(((t,n)=>{let[r,o]=t;return(0,s.jsx)(r,(0,e.A)({},o),n)}))}))})),mw=t.forwardRef((function(t,n){return(0,s.jsx)(gw,(0,e.A)({},t,{ref:n,defaultSlots:pw,defaultSlotProps:fw}))}));const vw=t.forwardRef((function(t,n){const r=Nl().current.getLocaleText("noResultsOverlayLabel");return(0,s.jsx)(Iy,(0,e.A)({ref:n},t,{children:r}))}));function yw(e){return(0,z.Ay)("PrivateSwitchBase",e)}(0,B.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bw=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],_w=(0,N.Ay)(In)((t=>{let{ownerState:n}=t;return(0,e.A)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),ww=(0,N.Ay)("input",{shouldForwardProp:Pt.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),xw=t.forwardRef((function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:g,inputRef:m,name:v,onBlur:y,onChange:b,onFocus:_,readOnly:w,required:x=!1,tabIndex:A,type:E,value:S}=t,C=(0,f.A)(t,bw),[M,R]=(0,li.A)({controlled:o,default:Boolean(l),name:"SwitchBase",state:"checked"}),T=ir();let P=c;T&&"undefined"===typeof P&&(P=T.disabled);const k="checkbox"===E||"radio"===E,I=(0,e.A)({},t,{checked:M,disabled:P,disableFocusRipple:u,edge:d}),N=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&"edge".concat((0,ne.A)(o))],input:["input"]};return(0,L.A)(i,yw,t)})(I);return(0,s.jsxs)(_w,(0,e.A)({component:"span",className:(0,O.A)(N.root,a),centerRipple:!0,focusRipple:!u,disabled:P,tabIndex:null,role:void 0,onFocus:e=>{_&&_(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{y&&y(e),T&&T.onBlur&&T.onBlur(e)},ownerState:I,ref:n},C,{children:[(0,s.jsx)(ww,(0,e.A)({autoFocus:r,checked:o,defaultChecked:l,className:N.input,disabled:P,id:k?p:void 0,name:v,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;R(t),b&&b(e,t)},readOnly:w,ref:m,required:x,ownerState:I,tabIndex:A,type:E},"checkbox"===E&&void 0===S?{}:{value:S},g)),M?i:h]}))})),Aw=xw,Ew=(0,_i.A)((0,s.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Sw=(0,_i.A)((0,s.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Cw=(0,_i.A)((0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Mw(e){return(0,z.Ay)("MuiCheckbox",e)}const Rw=(0,B.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Tw=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Pw=(0,N.Ay)(Aw,{shouldForwardProp:e=>(0,Pt.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,ne.A)(n.size))],"default"!==n.color&&t["color".concat((0,ne.A)(n.color))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,F.X4)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(Rw.checked,", &.").concat(Rw.indeterminate)]:{color:(n.vars||n).palette[r.color].main},["&.".concat(Rw.disabled)]:{color:(n.vars||n).palette.action.disabled}})})),kw=(0,s.jsx)(Sw,{}),Iw=(0,s.jsx)(Ew,{}),Ow=(0,s.jsx)(Cw,{}),Lw=t.forwardRef((function(n,o){var i,a;const l=(0,r.A)({props:n,name:"MuiCheckbox"}),{checkedIcon:c=kw,color:u="primary",icon:d=Iw,indeterminate:h=!1,indeterminateIcon:p=Ow,inputProps:g,size:m="medium",className:v}=l,y=(0,f.A)(l,Tw),b=h?p:d,_=h?p:c,w=(0,e.A)({},l,{color:u,indeterminate:h,size:m}),x=(t=>{const{classes:n,indeterminate:r,color:o,size:i}=t,s={root:["root",r&&"indeterminate","color".concat((0,ne.A)(o)),"size".concat((0,ne.A)(i))]},a=(0,L.A)(s,Mw,n);return(0,e.A)({},n,a)})(w);return(0,s.jsx)(Pw,(0,e.A)({type:"checkbox",inputProps:(0,e.A)({"data-indeterminate":h},g),icon:t.cloneElement(b,{fontSize:null!=(i=b.props.fontSize)?i:m}),checkedIcon:t.cloneElement(_,{fontSize:null!=(a=_.props.fontSize)?a:m}),ownerState:w,ref:o,className:(0,O.A)(x.root,v)},y,{classes:x}))})),Nw=Lw;function Fw(e){return(0,z.Ay)("MuiInputAdornment",e)}const Dw=(0,B.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Bw;const zw=["children","className","component","disablePointerEvents","disableTypography","position","variant"],jw=(0,N.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,ne.A)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===r.variant&&{["&.".concat(Dw.positionStart,"&:not(.").concat(Dw.hiddenLabel,")")]:{marginTop:16}},"start"===r.position&&{marginRight:8},"end"===r.position&&{marginLeft:8},!0===r.disablePointerEvents&&{pointerEvents:"none"})})),Uw=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiInputAdornment"}),{children:a,className:l,component:c="div",disablePointerEvents:u=!1,disableTypography:d=!1,position:h,variant:p}=i,g=(0,f.A)(i,zw),m=ir()||{};let v=p;p&&m.variant,m&&!v&&(v=m.variant);const y=(0,e.A)({},i,{hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:u,position:h,variant:v}),b=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,ne.A)(o)),s,r&&"hiddenLabel",i&&"size".concat((0,ne.A)(i))]};return(0,L.A)(a,Fw,t)})(y);return(0,s.jsx)(or.Provider,{value:null,children:(0,s.jsx)(jw,(0,e.A)({as:c,ownerState:y,className:(0,O.A)(b.root,l),ref:o},g,{children:"string"!==typeof a||d?(0,s.jsxs)(t.Fragment,{children:["start"===h?Bw||(Bw=(0,s.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,s.jsx)(ce,{color:"text.secondary",children:a})}))})})),Gw=Uw;function Hw(e){return(0,z.Ay)("MuiTooltip",e)}const Vw=(0,B.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ww=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const Xw=(0,N.Ay)(nd,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((t=>{let{theme:n,ownerState:r,open:o}=t;return(0,e.A)({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},r.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(Vw.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(Vw.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(Vw.arrow)]:(0,e.A)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(Vw.arrow)]:(0,e.A)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),qw=(0,N.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,ne.A)(n.placement.split("-")[0]))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:(0,F.X4)(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},r.arrow&&{position:"relative",margin:0},r.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:"".concat((o=16/14,Math.round(1e5*o)/1e5),"em"),fontWeight:n.typography.fontWeightRegular},{[".".concat(Vw.popper,'[data-popper-placement*="left"] &')]:(0,e.A)({transformOrigin:"right center"},r.isRtl?(0,e.A)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}):(0,e.A)({marginRight:"14px"},r.touch&&{marginRight:"24px"})),[".".concat(Vw.popper,'[data-popper-placement*="right"] &')]:(0,e.A)({transformOrigin:"left center"},r.isRtl?(0,e.A)({marginRight:"14px"},r.touch&&{marginRight:"24px"}):(0,e.A)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"})),[".".concat(Vw.popper,'[data-popper-placement*="top"] &')]:(0,e.A)({transformOrigin:"center bottom",marginBottom:"14px"},r.touch&&{marginBottom:"24px"}),[".".concat(Vw.popper,'[data-popper-placement*="bottom"] &')]:(0,e.A)({transformOrigin:"center top",marginTop:"14px"},r.touch&&{marginTop:"24px"})});var o})),Kw=(0,N.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,F.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let Yw=!1;const Zw=new ln.E;let Qw={x:0,y:0};function $w(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const Jw=t.forwardRef((function(n,o){var i,a,l,c,u,d,h,p,g,m,v,y,b,_,w,x,E,S,C;const M=(0,r.A)({props:n,name:"MuiTooltip"}),{arrow:R=!1,children:T,components:P={},componentsProps:k={},describeChild:I=!1,disableFocusListener:N=!1,disableHoverListener:F=!1,disableInteractive:D=!1,disableTouchListener:B=!1,enterDelay:z=100,enterNextDelay:j=0,enterTouchDelay:U=700,followCursor:G=!1,id:H,leaveDelay:V=0,leaveTouchDelay:W=1500,onClose:X,onOpen:q,open:K,placement:Y="bottom",PopperComponent:Z,PopperProps:Q={},slotProps:$={},slots:J={},title:ee,TransitionComponent:te=To,TransitionProps:re}=M,oe=(0,f.A)(M,Ww),ie=t.isValidElement(T)?T:(0,s.jsx)("span",{children:T}),se=it(),ae=A(),[le,ce]=t.useState(),[ue,de]=t.useState(null),he=t.useRef(!1),pe=D||G,fe=(0,ln.A)(),ge=(0,ln.A)(),me=(0,ln.A)(),ve=(0,ln.A)(),[ye,be]=(0,li.A)({controlled:K,default:!1,name:"Tooltip",state:"open"});let we=ye;const xe=(0,tb.A)(H),Ae=t.useRef(),Ee=(0,Qt.A)((()=>{void 0!==Ae.current&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),ve.clear()}));t.useEffect((()=>Ee),[Ee]);const Se=e=>{Zw.clear(),Yw=!0,be(!0),q&&!we&&q(e)},Ce=(0,Qt.A)((e=>{Zw.start(800+V,(()=>{Yw=!1})),be(!1),X&&we&&X(e),fe.start(se.transitions.duration.shortest,(()=>{he.current=!1}))})),Me=e=>{he.current&&"touchstart"!==e.type||(le&&le.removeAttribute("title"),ge.clear(),me.clear(),z||Yw&&j?ge.start(Yw?j:z,(()=>{Se(e)})):Se(e))},Re=e=>{ge.clear(),me.start(V,(()=>{Ce(e)}))},{isFocusVisibleRef:Te,onBlur:Pe,onFocus:ke,ref:Ie}=(0,$t.A)(),[,Oe]=t.useState(!1),Le=e=>{Pe(e),!1===Te.current&&(Oe(!1),Re(e))},Ne=e=>{le||ce(e.currentTarget),ke(e),!0===Te.current&&(Oe(!0),Me(e))},Fe=e=>{he.current=!0;const t=ie.props;t.onTouchStart&&t.onTouchStart(e)},De=e=>{Fe(e),me.clear(),fe.clear(),Ee(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.start(U,(()=>{document.body.style.WebkitUserSelect=Ae.current,Me(e)}))},Be=e=>{ie.props.onTouchEnd&&ie.props.onTouchEnd(e),Ee(),me.start(W,(()=>{Ce(e)}))};t.useEffect((()=>{if(we)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ce(e)}}),[Ce,we]);const ze=(0,lt.A)(ie.ref,Ie,ce,o);ee||0===ee||(we=!1);const je=t.useRef(),Ue={},Ge="string"===typeof ee;I?(Ue.title=we||!Ge||F?null:ee,Ue["aria-describedby"]=we?xe:null):(Ue["aria-label"]=Ge?ee:null,Ue["aria-labelledby"]=we&&!Ge?xe:null);const He=(0,e.A)({},Ue,oe,ie.props,{className:(0,O.A)(oe.className,ie.props.className),onTouchStart:Fe,ref:ze},G?{onMouseMove:e=>{const t=ie.props;t.onMouseMove&&t.onMouseMove(e),Qw={x:e.clientX,y:e.clientY},je.current&&je.current.update()}}:{});const Ve={};B||(He.onTouchStart=De,He.onTouchEnd=Be),F||(He.onMouseOver=$w(Me,He.onMouseOver),He.onMouseLeave=$w(Re,He.onMouseLeave),pe||(Ve.onMouseOver=Me,Ve.onMouseLeave=Re)),N||(He.onFocus=$w(Ne,He.onFocus),He.onBlur=$w(Le,He.onBlur),pe||(Ve.onFocus=Ne,Ve.onBlur=Le));const We=t.useMemo((()=>{var t;let n=[{name:"arrow",enabled:Boolean(ue),options:{element:ue,padding:4}}];return null!=(t=Q.popperOptions)&&t.modifiers&&(n=n.concat(Q.popperOptions.modifiers)),(0,e.A)({},Q.popperOptions,{modifiers:n})}),[ue,Q]),Xe=(0,e.A)({},M,{isRtl:ae,arrow:R,disableInteractive:pe,placement:Y,PopperComponentProp:Z,touch:he.current}),qe=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat((0,ne.A)(i.split("-")[0]))],arrow:["arrow"]};return(0,L.A)(s,Hw,t)})(Xe),Ke=null!=(i=null!=(a=J.popper)?a:P.Popper)?i:Xw,Ye=null!=(l=null!=(c=null!=(u=J.transition)?u:P.Transition)?c:te)?l:To,Ze=null!=(d=null!=(h=J.tooltip)?h:P.Tooltip)?d:qw,Qe=null!=(p=null!=(g=J.arrow)?g:P.Arrow)?p:Kw,$e=_e(Ke,(0,e.A)({},Q,null!=(m=$.popper)?m:k.popper,{className:(0,O.A)(qe.popper,null==Q?void 0:Q.className,null==(v=null!=(y=$.popper)?y:k.popper)?void 0:v.className)}),Xe),Je=_e(Ye,(0,e.A)({},re,null!=(b=$.transition)?b:k.transition),Xe),et=_e(Ze,(0,e.A)({},null!=(_=$.tooltip)?_:k.tooltip,{className:(0,O.A)(qe.tooltip,null==(w=null!=(x=$.tooltip)?x:k.tooltip)?void 0:w.className)}),Xe),tt=_e(Qe,(0,e.A)({},null!=(E=$.arrow)?E:k.arrow,{className:(0,O.A)(qe.arrow,null==(S=null!=(C=$.arrow)?C:k.arrow)?void 0:S.className)}),Xe);return(0,s.jsxs)(t.Fragment,{children:[t.cloneElement(ie,He),(0,s.jsx)(Ke,(0,e.A)({as:null!=Z?Z:nd,placement:Y,anchorEl:G?{getBoundingClientRect:()=>({top:Qw.y,left:Qw.x,right:Qw.x,bottom:Qw.y,width:0,height:0})}:le,popperRef:je,open:!!le&&we,id:xe,transition:!0},Ve,$e,{popperOptions:We,children:t=>{let{TransitionProps:n}=t;return(0,s.jsx)(Ye,(0,e.A)({timeout:se.transitions.duration.shorter},n,Je,{children:(0,s.jsxs)(Ze,(0,e.A)({},et,{children:[ee,R?(0,s.jsx)(Qe,(0,e.A)({},tt,{ref:de})):null]}))}))}}))]})})),ex=Jw,tx=["sortingOrder"],nx=t.memo((function(t){const{sortingOrder:n}=t,r=(0,f.A)(t,tx),o=ta(),[i]=n,a="asc"===i?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return a?(0,s.jsx)(a,(0,e.A)({},r)):null})),rx=(0,_i.A)((0,s.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ox=(0,_i.A)((0,s.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),ix=(0,_i.A)((0,s.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),sx=(0,_i.A)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),ax=(0,_i.A)((0,s.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),lx=(0,_i.A)((0,s.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),cx=(0,_i.A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),ux=((0,_i.A)((0,s.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,_i.A)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),(0,_i.A)((0,s.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),dx=(0,_i.A)((0,s.jsx)("path",{d:"M11 19V5h2v14z"}),"Separator"),hx=(0,_i.A)((0,s.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),px=(0,_i.A)((0,s.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),fx=(0,_i.A)((0,s.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),gx=(0,_i.A)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),mx=(0,_i.A)((0,s.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),vx=(0,_i.A)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),yx=(0,_i.A)((0,s.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),bx=(0,_i.A)((0,s.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),_x=(0,_i.A)((0,s.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),wx=(0,_i.A)((0,s.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),xx=(0,_i.A)((0,s.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Ax=(0,_i.A)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Ex=(0,_i.A)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),Sx=(0,_i.A)((0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),Cx=(0,_i.A)((0,s.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Mx=((0,_i.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),(0,_i.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")),Rx=["native"];const Tx={booleanCellTrueIcon:xx,booleanCellFalseIcon:mx,columnMenuIcon:gx,openFilterButtonIcon:ax,filterPanelDeleteIcon:mx,columnFilteredIcon:lx,columnSelectorIcon:ux,columnUnsortedIcon:nx,columnSortedAscendingIcon:rx,columnSortedDescendingIcon:ox,columnResizeIcon:dx,densityCompactIcon:hx,densityStandardIcon:px,densityComfortableIcon:fx,exportIcon:wx,moreActionsIcon:Ax,treeDataCollapseIcon:sx,treeDataExpandIcon:ix,groupingCriteriaCollapseIcon:sx,groupingCriteriaExpandIcon:ix,detailPanelExpandIcon:vx,detailPanelCollapseIcon:yx,rowReorderIcon:_x,quickFilterIcon:cx,quickFilterClearIcon:mx,columnMenuHideIcon:Ex,columnMenuSortAscendingIcon:rx,columnMenuSortDescendingIcon:ox,columnMenuFilterIcon:lx,columnMenuManageColumnsIcon:Sx,columnMenuClearIcon:Cx,loadIcon:bx,filterPanelAddIcon:vx,filterPanelRemoveAllIcon:Mx,columnReorderIcon:_x},Px=(0,e.A)({},Tx,{baseCheckbox:Nw,baseTextField:Ni,baseFormControl:so,baseSelect:Ti,baseButton:Ws,baseIconButton:ys,baseInputAdornment:Gw,baseTooltip:ex,basePopper:nd,baseInputLabel:to,baseSelectOption:function(t){let{native:n}=t,r=(0,f.A)(t,Rx);return n?(0,s.jsx)("option",(0,e.A)({},r)):(0,s.jsx)(wa,(0,e.A)({},r))},baseChip:md}),kx=(0,e.A)({},Px,{cell:__,skeletonCell:Vv,columnHeaderFilterIconButton:function(n){var r,o;const{counter:i,field:a,onClick:l}=n,c=Nl(),u=ta(),d=(e=>{const{classes:t}=e;return(0,L.A)({icon:["filterIcon"]},$s,t)})((0,e.A)({},n,{classes:u.classes})),h=$a(c,Il),p=(0,Yn.A)(),f=(0,Yn.A)(),g=t.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:n}=Il(c.current.state);t&&n===Ol.filters?c.current.hideFilterPanel():c.current.showFilterPanel(void 0,f,p),l&&l(c.current.getColumnHeaderParams(a),e)}),[c,a,l,f,p]);if(!i)return null;const m=h.open&&h.labelId===p,v=(0,s.jsx)(u.slots.baseIconButton,(0,e.A)({id:p,onClick:g,color:"default","aria-label":c.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?f:void 0},null===(r=u.slotProps)||void 0===r?void 0:r.baseIconButton,{children:(0,s.jsx)(u.slots.columnFilteredIcon,{className:d.icon,fontSize:"small"})}));return(0,s.jsx)(u.slots.baseTooltip,(0,e.A)({title:c.current.getLocaleText("columnHeaderFiltersTooltipActive")(i),enterDelay:1e3},null===(o=u.slotProps)||void 0===o?void 0:o.baseTooltip,{children:(0,s.jsxs)(ty,{children:[i>1&&(0,s.jsx)($v,{badgeContent:i,color:"default",children:v}),1===i&&v]})}))},columnMenu:mw,columnHeaders:Z_,detailPanels:function(e){return null},footer:ly,footerRowCount:dy,toolbar:null,pinnedRows:function(e){return null},loadingOverlay:Oy,noResultsOverlay:vw,noRowsOverlay:Ly,pagination:bb,filterPanel:Hb,columnsPanel:function(t){var n;const r=ta();return(0,s.jsx)(Tb,(0,e.A)({},t,{children:(0,s.jsx)(t_,(0,e.A)({},null===(n=r.slotProps)||void 0===n?void 0:n.columnsManagement))}))},columnsManagement:t_,panel:u_,row:M_});function Ix(n){return t.useMemo((()=>function(e){var t;const n=Object.keys(e);if(!n.some((e=>e.startsWith("aria-")||e.startsWith("data-"))))return e;const r={},o=null!==(t=e.forwardedProps)&&void 0!==t?t:{};for(let i=0;i<n.length;i+=1){const t=n[i];t.startsWith("aria-")||t.startsWith("data-")?o[t]=e[t]:r[t]=e[t]}return r.forwardedProps=o,r}((0,e.A)({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n),n)))),[n])}const Ox={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},Lx={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBufferPx:150,rowBufferPx:150,rows:[],rowSelection:!0,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableColumnSorting:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:aa.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,resizeThrottleMs:60,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"\t",rowPositionsDebounceMs:166,autosizeOnMount:!1,disableAutosize:!1},Nx=kx,Fx=n=>{const o=Ix((0,r.A)({props:n,name:"MuiDataGrid"})),i=t.useMemo((()=>(0,e.A)({},Ev,o.localeText)),[o.localeText]),s=t.useMemo((()=>function(t){let{defaultSlots:n,slots:r}=t;const o=r;if(!o||0===Object.keys(o).length)return n;const i=(0,e.A)({},n);return Object.keys(o).forEach((e=>{const t=e;void 0!==o[t]&&(i[t]=o[t])})),i}({defaultSlots:Nx,slots:o.slots})),[o.slots]);return t.useMemo((()=>(0,e.A)({},Lx,o,{localeText:i,slots:s},Ox)),[o,i,s])},Dx=t=>(0,e.A)({},t,{rowsMeta:{currentPageTotalHeight:0,positions:[]}});const Bx=(e,t,n)=>"number"===typeof e&&e>0?e:t;["MUI X: The `rowHeight` prop should be a number greater than 0.","The default value will be used instead."].join("\n"),["MUI X: The `getRowHeight` prop should return a number greater than 0 or 'auto'.","The default value will be used instead."].join("\n");function zx(e){const{apiRef:t,lookup:n,columnIndex:r,rowId:o,minFirstColumnIndex:i,maxLastColumnIndex:s,columns:a}=e,l=a.length,c=a[r],u=t.current.getRow(o),d=t.current.getRowValue(u,c),h="function"===typeof c.colSpan?c.colSpan(d,u,c,t):c.colSpan;if(!h||1===h)return jx(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let p=c.computedWidth;for(let f=1;f<h;f+=1){const e=r+f;if(e>=i&&e<s){p+=a[e].computedWidth,jx(n,o,r+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(r+h,l-1),leftVisibleCellIndex:r})}jx(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:h,width:p}})}return{colSpan:h}}function jx(e,t,n,r){e[t]||(e[t]={}),e[t][n]=r}function Ux(e){return void 0!==e.field}const Gx=(e,t,n)=>{if(Ux(e)){if(void 0!==n[e.field])throw new Error(["MUI X: columnGroupingModel contains duplicated field","column field ".concat(e.field," occurs two times in the grouping model:"),"- ".concat(n[e.field].join(" > ")),"- ".concat(t.join(" > "))].join("\n"));return void(n[e.field]=t)}const{groupId:r,children:o}=e;o.forEach((e=>{Gx(e,[...t,r],n)}))},Hx=e=>{if(!e)return{};const t={};return e.forEach((e=>{Gx(e,[],t)})),t},Vx=(e,t,n)=>{const r=e=>{var n;return null!==(n=t[e])&&void 0!==n?n:[]},o=[],i=Math.max(...e.map((e=>r(e).length))),s=(e,t,n)=>dc(r(e).slice(0,n+1),r(t).slice(0,n+1));for(let a=0;a<i;a+=1){const t=e.reduce(((e,t)=>{var o;const i=null!==(o=r(t)[a])&&void 0!==o?o:null;if(0===e.length)return[{columnFields:[t],groupId:i}];const l=e[e.length-1],c=l.columnFields[l.columnFields.length-1];return l.groupId!==i||!s(c,t,a)||(u=c,d=t,null!==n&&void 0!==n&&n.left&&n.left.includes(u)&&!n.left.includes(d)||null!==n&&void 0!==n&&n.right&&!n.right.includes(u)&&n.right.includes(d))?[...e,{columnFields:[t],groupId:i}]:[...e.slice(0,e.length-1),{columnFields:[...l.columnFields,t],groupId:i}];var u,d}),[]);o.push(t)}return o},Wx=["groupId","children"],Xx=t=>{let n={};return t.forEach((t=>{if(Ux(t))return;const{groupId:r,children:o}=t,i=(0,f.A)(t,Wx);if(!r)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const s=(0,e.A)({},i,{groupId:r}),a=Xx(o);if(void 0!==a[r]||void 0!==n[r])throw new Error("MUI X: The groupId ".concat(r," is used multiple times in the columnGroupingModel."));n=(0,e.A)({},n,a,{[r]:s})})),(0,e.A)({},n)},qx=(t,n,r)=>{var o,i,s;if(!n.columnGroupingModel)return t;const a=_l(r),l=Sl(r),c=Xx(null!==(o=n.columnGroupingModel)&&void 0!==o?o:[]),u=Hx(null!==(i=n.columnGroupingModel)&&void 0!==i?i:[]),d=Vx(a,u,null!==(s=r.current.state.pinnedColumns)&&void 0!==s?s:{}),h=0===l.length?0:Math.max(...l.map((e=>{var t,n;return null!==(t=null===(n=u[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})));return(0,e.A)({},t,{columnGrouping:{lookup:c,unwrappedGroupingModel:u,headerStructure:d,maxDepth:h}})},Kx={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1};let Yx=!1;function Zx(){return void 0===Yx&&(Yx="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Yx}function Qx(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function $x(e,t,n,r){let o=e;return o+="Right"===r?t-n.left:n.right-t,o}function Jx(e){e.preventDefault(),e.stopImmediatePropagation()}function eA(e){const n=t.useRef(),r=()=>Gf(e),o=$a(e,r);t.useEffect((()=>{n.current&&!1===o&&(n.current.resolve(),n.current=void 0)}));return()=>{if(!n.current){if(!1===r())return Promise.resolve();n.current=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}()}return n.current}}function tA(e,t,n){const r={},o=e.current.rootElementRef.current;return o.classList.add(Js.autosizing),n.forEach((n=>{const o=function(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(':scope > div > div > div > [data-field="'.concat(t,'"][role="gridcell"]')))}(e.current,n.field),i=o.map((e=>{var t;return null!==(t=e.getBoundingClientRect().width)&&void 0!==t?t:0})),s=t.includeOutliers?i:function(e,t){if(e.length<4)return e;const n=e.slice();n.sort(((e,t)=>e-t));const r=n[Math.floor(.25*n.length)],o=n[Math.floor(.75*n.length)-1],i=o-r,s=i<5?5:i*t;return n.filter((e=>e>r-s&&e<o+s))}(i,t.outliersFactor);if(t.includeHeaders){const t=(c=e.current,u=n.field,c.columnHeadersContainerRef.current.querySelector(':scope > div > [data-field="'.concat(u,'"][role="columnheader"]')));if(t){var a,l;const e=t.querySelector(".".concat(Js.columnHeaderTitle)),n=t.querySelector(".".concat(Js.columnHeaderTitleContainerContent)),r=t.querySelector(".".concat(Js.iconButtonContainer)),o=t.querySelector(".".concat(Js.menuIcon)),i=null!==e&&void 0!==e?e:n,c=window.getComputedStyle(t,null),u=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),d=i.scrollWidth+1+u+(null!==(a=null===r||void 0===r?void 0:r.clientWidth)&&void 0!==a?a:0)+(null!==(l=null===o||void 0===o?void 0:o.clientWidth)&&void 0!==l?l:0);s.push(d)}}var c,u;const d=n.minWidth!==-1/0&&void 0!==n.minWidth,h=n.maxWidth!==1/0&&void 0!==n.maxWidth,p=d?n.minWidth:0,f=h?n.maxWidth:1/0,g=0===s.length?0:Math.max(...s);r[n.field]=cc(g,p,f)})),o.classList.remove(Js.autosizing),r}const nA=t=>(0,e.A)({},t,{columnResize:{resizingColumnField:""}});function rA(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const oA=(n,r)=>{const o=it(),i=om(n,"useGridColumnResize"),s=(0,Ha.A)(rA).current,a=t.useRef(),l=t.useRef(),c=(0,ln.A)(),u=t.useRef(),d=e=>{var t;i.debug("Updating width to ".concat(e," for col ").concat(s.colDef.field));const r=s.columnHeaderElement.offsetWidth,o=e-r,a=e-s.initialColWidth,l=s.initialTotalWidth+a;null===(t=n.current.rootElementRef)||void 0===t||null===(t=t.current)||void 0===t||t.style.setProperty("--DataGrid-rowWidth","".concat(l,"px")),s.colDef.computedWidth=e,s.colDef.width=e,s.colDef.flex=0,s.columnHeaderElement.style.width="".concat(e,"px"),s.columnHeaderElement.style.minWidth="".concat(e,"px"),s.columnHeaderElement.style.maxWidth="".concat(e,"px");const c=s.headerFilterElement;c&&(c.style.width="".concat(e,"px"),c.style.minWidth="".concat(e,"px"),c.style.maxWidth="".concat(e,"px")),s.groupHeaderElements.forEach((t=>{const n=t;let r;r="1"===n.getAttribute("aria-colspan")?"".concat(e,"px"):"".concat(n.offsetWidth+o,"px"),n.style.width=r,n.style.minWidth=r,n.style.maxWidth=r})),s.cellElements.forEach((t=>{const n=t;let r;r="1"===n.getAttribute("aria-colspan")?"".concat(e,"px"):"".concat(n.offsetWidth+o,"px"),n.style.setProperty("--width",r)}));const u=n.current.unstable_applyPipeProcessors("isColumnPinned",!1,s.colDef.field);u===vl.LEFT&&(iA(s.fillerLeft,"width",o),s.leftPinnedCellsAfter.forEach((e=>{iA(e,"left",o)})),s.leftPinnedHeadersAfter.forEach((e=>{iA(e,"left",o)}))),u===vl.RIGHT&&(iA(s.fillerRight,"width",o),s.rightPinnedCellsBefore.forEach((e=>{iA(e,"right",o)})),s.rightPinnedHeadersBefore.forEach((e=>{iA(e,"right",o)})))},h=e=>{if(b(),s.previousMouseClickEvent){const t=s.previousMouseClickEvent,n=t.timeStamp,r=t.clientX,o=t.clientY;if(e.timeStamp-n<300&&e.clientX===r&&e.clientY===o)return void(s.previousMouseClickEvent=void 0)}s.colDef&&(n.current.setColumnWidth(s.colDef.field,s.colDef.width),i.debug("Updating col ".concat(s.colDef.field," with new width: ").concat(s.colDef.width))),c.start(0,(()=>{n.current.publishEvent("columnResizeStop",null,e)}))},p=(e,t,r)=>{var i;const c=n.current.rootElementRef.current;var u,d;s.initialColWidth=e.computedWidth,s.initialTotalWidth=n.current.getRootDimensions().rowWidth,s.colDef=e,s.columnHeaderElement=(u=n.current.columnHeadersContainerRef.current,d=e.field,u.querySelector('[data-field="'.concat(d,'"]')));const h=c.querySelector(".".concat(Js.headerFilterRow,' [data-field="').concat(e.field,'"]'));h&&(s.headerFilterElement=h),s.groupHeaderElements=function(e,t){var n;return Array.from(null!==(n=e.querySelectorAll('[data-fields*="|-'.concat(t,'-|"]')))&&void 0!==n?n:[])}(null===(i=n.current.columnHeadersContainerRef)||void 0===i?void 0:i.current,e.field),s.cellElements=function(e,t){var n;if(!Gm(e,Js.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,i=[];return null!==(n=t.virtualScrollerRef)&&void 0!==n&&n.current?(Ym(t).forEach((e=>{const n=e.getAttribute("data-id");if(!n)return;let r=o;const s=t.unstable_getCellColSpanInfo(n,o);s&&s.spannedByColSpan&&(r=s.leftVisibleCellIndex);const a=e.querySelector('[data-colindex="'.concat(r,'"]'));a&&i.push(a)})),i):[]}(s.columnHeaderElement,n.current),s.fillerLeft=Xm(n.current,"filler--pinnedLeft"),s.fillerRight=Xm(n.current,"filler--pinnedRight");const p=n.current.unstable_applyPipeProcessors("isColumnPinned",!1,s.colDef.field);s.leftPinnedCellsAfter=p!==vl.LEFT?[]:function(e,t){const n=Zm(t);return qm({api:e,colIndex:n,position:"left",filterFn:e=>e>n})}(n.current,s.columnHeaderElement),s.rightPinnedCellsBefore=p!==vl.RIGHT?[]:function(e,t){const n=Zm(t);return qm({api:e,colIndex:n,position:"right",filterFn:e=>e<n})}(n.current,s.columnHeaderElement),s.leftPinnedHeadersAfter=p!==vl.LEFT?[]:function(e,t){const n=Zm(t);return Km({api:e,position:"left",colIndex:n,filterFn:e=>e>n})}(n.current,s.columnHeaderElement),s.rightPinnedHeadersBefore=p!==vl.RIGHT?[]:function(e,t){const n=Zm(t);return Km({api:e,position:"right",colIndex:n,filterFn:e=>e<n})}(n.current,s.columnHeaderElement),l.current=function(e,t){const n=e.classList.contains(Js["columnSeparator--sideRight"])?"Right":"Left";return"rtl"===t?function(e){return"Right"===e?"Left":"Right"}(n):n}(t,o.direction),a.current=function(e,t,n){return"Left"===n?e-t.left:t.right-e}(r,s.columnHeaderElement.getBoundingClientRect(),l.current)},f=(0,Re.A)(h),g=(0,Re.A)((e=>{if(0===e.buttons)return void f(e);let t=$x(a.current,e.clientX,s.columnHeaderElement.getBoundingClientRect(),l.current);t=cc(t,s.colDef.minWidth,s.colDef.maxWidth),d(t);const r={element:s.columnHeaderElement,colDef:s.colDef,width:t};n.current.publishEvent("columnResize",r,e)})),m=(0,Re.A)((e=>{Qx(e,u.current)&&h(e)})),v=(0,Re.A)((e=>{const t=Qx(e,u.current);if(!t)return;if("mousemove"===e.type&&0===e.buttons)return void m(e);let r=$x(a.current,t.x,s.columnHeaderElement.getBoundingClientRect(),l.current);r=cc(r,s.colDef.minWidth,s.colDef.maxWidth),d(r);const o={element:s.columnHeaderElement,colDef:s.colDef,width:r};n.current.publishEvent("columnResize",o,e)})),y=(0,Re.A)((e=>{const t=Gm(e.target,Js["columnSeparator--resizable"]);if(!t)return;Zx()||e.preventDefault();const r=e.changedTouches[0];null!=r&&(u.current=r.identifier);const o=Gm(e.target,Js.columnHeader),s=o.getAttribute("data-field");const a=n.current.getColumn(s);i.debug("Start Resize on col ".concat(a.field)),n.current.publishEvent("columnResizeStart",{field:s},e),p(a,t,r.clientX);const l=(0,Me.A)(e.currentTarget);l.addEventListener("touchmove",v),l.addEventListener("touchend",m)})),b=t.useCallback((()=>{const e=(0,Me.A)(n.current.rootElementRef.current);e.body.style.removeProperty("cursor"),e.removeEventListener("mousemove",g),e.removeEventListener("mouseup",f),e.removeEventListener("touchmove",v),e.removeEventListener("touchend",m),setTimeout((()=>{e.removeEventListener("click",Jx,!0)}),100),s.columnHeaderElement&&(s.columnHeaderElement.style.pointerEvents="unset")}),[n,s,g,f,v,m]),_=t.useCallback((t=>{let{field:r}=t;n.current.setState((t=>(0,e.A)({},t,{columnResize:(0,e.A)({},t.columnResize,{resizingColumnField:r})}))),n.current.forceUpdate()}),[n]),w=t.useCallback((()=>{n.current.setState((t=>(0,e.A)({},t,{columnResize:(0,e.A)({},t.columnResize,{resizingColumnField:""})}))),n.current.forceUpdate()}),[n]),x=(0,Re.A)(((e,t)=>{let{colDef:r}=e;if(0!==t.button)return;if(!t.currentTarget.classList.contains(Js["columnSeparator--resizable"]))return;t.preventDefault(),i.debug("Start Resize on col ".concat(r.field)),n.current.publishEvent("columnResizeStart",{field:r.field},t),p(r,t.currentTarget,t.clientX);const o=(0,Me.A)(n.current.rootElementRef.current);o.body.style.cursor="col-resize",s.previousMouseClickEvent=t.nativeEvent,o.addEventListener("mousemove",g),o.addEventListener("mouseup",f),o.addEventListener("click",Jx,!0)})),A=(0,Re.A)(((t,o)=>{if(r.disableAutosize)return;if(0!==o.button)return;const i=n.current.state.columns.lookup[t.field];!1!==i.resizable&&n.current.autosizeColumns((0,e.A)({},r.autosizeOptions,{columns:[i.field]}))})),E=eA(n),S=t.useRef(!1),C=t.useCallback((async t=>{var r,o;if(!(null===(r=n.current.rootElementRef)||void 0===r?void 0:r.current))return;if(S.current)return;S.current=!0;const i=bl(n.current.state),s=(0,e.A)({},Kx,t,{columns:null!==(o=null===t||void 0===t?void 0:t.columns)&&void 0!==o?o:i.orderedFields});s.columns=s.columns.filter((e=>!1!==i.columnVisibilityModel[e]));const a=s.columns.map((e=>n.current.state.columns.lookup[e]));try{n.current.unstable_setColumnVirtualization(!1),await E();const t=tA(n,s,a),r=a.map((n=>(0,e.A)({},n,{width:t[n.field],computedWidth:t[n.field]})));if(s.expand){const e=i.orderedFields.map((e=>i.lookup[e])).filter((e=>!1!==i.columnVisibilityModel[e.field])).reduce(((e,n)=>{var r,o;return e+(null!==(r=null!==(o=t[n.field])&&void 0!==o?o:n.computedWidth)&&void 0!==r?r:n.width)}),0),o=n.current.getRootDimensions().viewportInnerSize.width-e;if(o>0){const e=o/(r.length||1);r.forEach((t=>{t.width+=e,t.computedWidth+=e}))}}n.current.updateColumns(r),r.forEach(((e,t)=>{if(e.width!==a[t].width){const t=e.width;n.current.publishEvent("columnWidthChange",{element:n.current.getColumnHeaderElement(e.field),colDef:e,width:t})}}))}finally{n.current.unstable_setColumnVirtualization(!0),S.current=!1}}),[n,E]);t.useEffect((()=>b),[b]),(0,Va.A)((()=>{r.autosizeOnMount&&Promise.resolve().then((()=>{n.current.autosizeColumns(r.autosizeOptions)}))})),im(n,(()=>{var e;return null===(e=n.current.columnHeadersContainerRef)||void 0===e?void 0:e.current}),"touchstart",y,{passive:Zx()}),Wf(n,{autosizeColumns:C},"public"),Hl(n,"columnResizeStop",w),Hl(n,"columnResizeStart",_),Hl(n,"columnSeparatorMouseDown",x),Hl(n,"columnSeparatorDoubleClick",A),Wl(n,"columnResize",r.onColumnResize),Wl(n,"columnWidthChange",r.onColumnWidthChange)};function iA(e,t,n){e&&(e.style[t]="".concat(parseInt(e.style[t],10)+n,"px"))}const sA=(n,r)=>{const o=nm(n,r);return vv(o,r),(e=>{Nm(e,em,"rowTreeCreation",hv)})(o),rm(xv,o,r),rm(mv,o,r),rm(Am,o,r),rm(uv,o,r),rm(lv,o,r),rm(jm,o,r),rm(yv,o,r),rm(nv,o,r),rm(Fm,o,r),rm(Sm,o,r),rm(nA,o,r),rm(ev,o,r),rm(Dx,o,r),rm(bm,o,r),rm(qx,o,r),rm(qf,o,r),Jm(o,r),((n,r)=>{const o=om(n,"useGridSelection"),i=e=>function(){r.rowSelection&&e(...arguments)},s=t.useMemo((()=>gv(r.rowSelectionModel,Nf(n.current.state))),[n,r.rowSelectionModel]),a=t.useRef(null);n.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:r.onRowSelectionModelChange,stateSelector:Nf,changeEvent:"rowSelectionChange"});const{checkboxSelection:l,disableRowSelectionOnClick:c,isRowSelectable:u}=r,d=pg(r),h=Lf(n,r),p=t.useCallback((e=>{var t;let r=e;const o=null!==(t=a.current)&&void 0!==t?t:e,i=n.current.isRowSelected(e);if(i){const e=hf(n),t=e.findIndex((e=>e===o)),i=e.findIndex((e=>e===r));if(t===i)return;r=t>i?e[i+1]:e[i-1]}a.current=e,n.current.selectRowRange({startId:o,endId:r},!i)}),[n]),f=t.useCallback((t=>{if(r.signature===jl.DataGrid&&!d&&Array.isArray(t)&&t.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));Nf(n.current.state)!==t&&(o.debug("Setting selection model"),n.current.setState((n=>(0,e.A)({},n,{rowSelection:r.rowSelection?t:[]}))),n.current.forceUpdate())}),[n,o,r.rowSelection,r.signature,d]),g=t.useCallback((e=>Nf(n.current.state).includes(e)),[n]),m=t.useCallback((e=>{if(u&&!u(n.current.getRowParams(e)))return!1;const t=n.current.getRowNode(e);return"footer"!==(null===t||void 0===t?void 0:t.type)&&"pinnedRow"!==(null===t||void 0===t?void 0:t.type)}),[n,u]),v=t.useCallback((()=>Df(n)),[n]),y=t.useCallback((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n.current.isRowSelectable(e))if(a.current=e,r)o.debug("Setting selection for row ".concat(e)),n.current.setRowSelectionModel(t?[e]:[]);else{o.debug("Toggling selection for row ".concat(e));const r=Nf(n.current.state).filter((t=>t!==e));t&&r.push(e),(r.length<2||d)&&n.current.setRowSelectionModel(r)}}),[n,o,d]),b=t.useCallback((function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.debug("Setting selection for several rows");const s=t.filter((e=>n.current.isRowSelectable(e)));let a;if(i)a=r?s:[];else{const t=(0,e.A)({},Bf(n));s.forEach((e=>{r?t[e]=e:delete t[e]})),a=Object.values(t)}(a.length<2||d)&&n.current.setRowSelectionModel(a)}),[n,o,d]),_=t.useCallback((function(e){let{startId:t,endId:r}=e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.current.getRow(t)||!n.current.getRow(r))return;o.debug("Expanding selection from row ".concat(t," to row ").concat(r));const a=hf(n),l=a.indexOf(t),c=a.indexOf(r),[u,d]=l>c?[c,l]:[l,c],h=a.slice(u,d+1);n.current.selectRows(h,i,s)}),[n,o]),w={selectRows:b,selectRowRange:_};Wf(n,{selectRow:y,setRowSelectionModel:f,getSelectedRows:v,isRowSelected:g,isRowSelectable:m},"public"),Wf(n,w,r.signature===jl.DataGrid?"private":"public");const x=t.useCallback((()=>{if(r.keepNonExistentRowsSelected)return;const t=Nf(n.current.state),o=xh(n),i=(0,e.A)({},Bf(n));let s=!1;t.forEach((e=>{o[e]||(delete i[e],s=!0)})),s&&n.current.setRowSelectionModel(Object.values(i))}),[n,r.keepNonExistentRowsSelected]),A=t.useCallback(((e,t)=>{const r=t.metaKey||t.ctrlKey,o=!l&&!r&&!(e=>!!e.key)(t),i=!d||o,s=n.current.isRowSelected(e);i?n.current.selectRow(e,!!o||!s,!0):n.current.selectRow(e,!s,!1)}),[n,d,l]),E=t.useCallback(((e,t)=>{var r;if(c)return;const o=null===(r=t.target.closest(".".concat(Js.cell)))||void 0===r?void 0:r.getAttribute("data-field");if(o!==hm.field&&o!==Um){if(o){const e=n.current.getColumn(o);if((null===e||void 0===e?void 0:e.type)===Cp)return}"pinnedRow"!==n.current.getRowNode(e.id).type&&(t.shiftKey&&d?p(e.id):A(e.id,t))}}),[c,d,n,p,A]),S=t.useCallback(((e,t)=>{var n;d&&t.shiftKey&&(null===(n=window.getSelection())||void 0===n||n.removeAllRanges())}),[d]),C=t.useCallback(((e,t)=>{d&&t.nativeEvent.shiftKey?p(e.id):n.current.selectRow(e.id,e.value,!d)}),[n,p,d]),M=t.useCallback((e=>{const t=r.checkboxSelectionVisibleOnly&&r.pagination?If(n):hf(n),o=cf(n);n.current.selectRows(t,e.value,(null===o||void 0===o?void 0:o.items.length)>0)}),[n,r.checkboxSelectionVisibleOnly,r.pagination]),R=t.useCallback(((e,t)=>{if(n.current.getCellMode(e.id,e.field)!==la.Edit&&!Wm(t)){if(ep(t.key)&&t.shiftKey){const r=Yp(n);if(r&&r.id!==e.id){t.preventDefault();const o=n.current.isRowSelected(r.id);if(!d)return void n.current.selectRow(r.id,!o,!0);const i=n.current.getRowIndexRelativeToVisibleRows(r.id),s=n.current.getRowIndexRelativeToVisibleRows(e.id);let a,l;i>s?o?(a=s,l=i-1):(a=s,l=i):o?(a=i+1,l=s):(a=i,l=s);const c=h.rows.slice(a,l+1).map((e=>e.id));return void n.current.selectRows(c,!o)}}if(" "===t.key&&t.shiftKey)return t.preventDefault(),void A(e.id,t);"a"===t.key&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),b(n.current.getAllRowIds(),!0))}}),[n,A,b,h.rows,d]);Hl(n,"sortedRowsSet",i(x)),Hl(n,"rowClick",i(E)),Hl(n,"rowSelectionCheckboxChange",i(C)),Hl(n,"headerSelectionCheckboxChange",M),Hl(n,"cellMouseDown",i(S)),Hl(n,"cellKeyDown",i(R)),t.useEffect((()=>{void 0!==s&&n.current.setRowSelectionModel(s)}),[n,s,r.rowSelection]),t.useEffect((()=>{r.rowSelection||n.current.setRowSelectionModel([])}),[n,r.rowSelection]);const T=null!=s;t.useEffect((()=>{if(T||!r.rowSelection)return;const e=Nf(n.current.state);if(m){const t=e.filter((e=>m(e)));t.length<e.length&&n.current.setRowSelectionModel(t)}}),[n,m,T,r.rowSelection]),t.useEffect((()=>{if(!r.rowSelection||T)return;const e=Nf(n.current.state);!d&&e.length>1&&n.current.setRowSelectionModel([])}),[n,d,l,T,r.rowSelection])})(o,r),function(n,r){var o,i;const a=om(n,"useGridColumns"),l=t.useRef(r.columns);n.current.registerControlState({stateId:"visibleColumns",propModel:r.columnVisibilityModel,propOnChange:r.onColumnVisibilityModelChange,stateSelector:Al,changeEvent:"columnVisibilityModelChange"});const c=t.useCallback((e=>{var t,r;a.debug("Updating columns state."),n.current.setState(Em(e)),n.current.publishEvent("columnsChange",e.orderedFields),null===(t=(r=n.current).updateRenderContext)||void 0===t||t.call(r),n.current.forceUpdate()}),[a,n]),u=t.useCallback((e=>wl(n)[e]),[n]),d=t.useCallback((()=>xl(n)),[n]),h=t.useCallback((()=>El(n)),[n]),p=t.useCallback((function(e){return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?xl(n):El(n)).findIndex((t=>t.field===e))}),[n]),f=t.useCallback((e=>{const t=p(e);return Ml(n)[t]}),[n,p]),g=t.useCallback((t=>{var r,o;Al(n)!==t&&(n.current.setState((r=>(0,e.A)({},r,{columns:Up({apiRef:n,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})}))),null===(r=(o=n.current).updateRenderContext)||void 0===r||r.call(o),n.current.forceUpdate())}),[n]),m=t.useCallback((e=>{const t=Up({apiRef:n,columnsToUpsert:e,initialState:void 0,keepOnlyColumnsToUpsert:!1});c(t)}),[n,c]),v=t.useCallback(((t,r)=>{var o;const i=Al(n);if(r!==(null===(o=i[t])||void 0===o||o)){const o=(0,e.A)({},i,{[t]:r});n.current.setColumnVisibilityModel(o)}}),[n]),y=t.useCallback((e=>_l(n).findIndex((t=>t===e))),[n]),b=t.useCallback(((t,r)=>{const o=_l(n),i=y(t);if(i===r)return;a.debug("Moving column ".concat(t," to index ").concat(r));const s=[...o],l=s.splice(i,1)[0];s.splice(r,0,l),c((0,e.A)({},bl(n.current.state),{orderedFields:s}));const u={column:n.current.getColumn(t),targetIndex:n.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:i};n.current.publishEvent("columnIndexChange",u)}),[n,a,c,y]),_=t.useCallback(((t,r)=>{a.debug("Updating column ".concat(t," width to ").concat(r));const o=bl(n.current.state),i=o.lookup[t],s=(0,e.A)({},i,{width:r,hasBeenResized:!0});c(zp((0,e.A)({},o,{lookup:(0,e.A)({},o.lookup,{[t]:s})}),n.current.getRootDimensions().viewportInnerSize.width)),n.current.publishEvent("columnWidthChange",{element:n.current.getColumnHeaderElement(t),colDef:s,width:r})}),[n,a,c]),w={setColumnIndex:b};Wf(n,{getColumn:u,getAllColumns:d,getColumnIndex:p,getColumnPosition:f,getVisibleColumns:h,getColumnIndexRelativeToVisibleColumns:y,updateColumns:m,setColumnVisibilityModel:g,setColumnVisibility:v,setColumnWidth:_},"public"),Wf(n,w,r.signature===jl.DataGrid?"private":"public");const x=t.useCallback(((t,o)=>{var i,s;const a={},l=Al(n);(!o.exportOnlyDirtyModels||null!=r.columnVisibilityModel||Object.keys(null!==(i=null===(s=r.initialState)||void 0===s||null===(s=s.columns)||void 0===s?void 0:s.columnVisibilityModel)&&void 0!==i?i:{}).length>0||Object.keys(l).length>0)&&(a.columnVisibilityModel=l),a.orderedFields=_l(n);const c=xl(n),u={};return c.forEach((e=>{if(e.hasBeenResized){const t={};Dp.forEach((n=>{let r=e[n];r===1/0&&(r=-1),t[n]=r})),u[e.field]=t}})),Object.keys(u).length>0&&(a.dimensions=u),(0,e.A)({},t,{columns:a})}),[n,r.columnVisibilityModel,null===(o=r.initialState)||void 0===o?void 0:o.columns]),A=t.useCallback(((e,t)=>{var r;const o=null===(r=t.stateToRestore.columns)||void 0===r?void 0:r.columnVisibilityModel,i=t.stateToRestore.columns;if(null==o&&null==i)return e;const s=Up({apiRef:n,columnsToUpsert:[],initialState:i,columnVisibilityModel:o,keepOnlyColumnsToUpsert:!1});return n.current.setState(Em(s)),null!=i&&n.current.publishEvent("columnsChange",s.orderedFields),e}),[n]),E=t.useCallback(((t,n)=>{if(n===Ol.columns){var o;const t=r.slots.columnsPanel;return(0,s.jsx)(t,(0,e.A)({},null===(o=r.slotProps)||void 0===o?void 0:o.columnsPanel))}return t}),[r.slots.columnsPanel,null===(i=r.slotProps)||void 0===i?void 0:i.columnsPanel]),S=t.useCallback((e=>r.disableColumnSelector?e:[...e,"columnMenuColumnsItem"]),[r.disableColumnSelector]);wm(n,"columnMenu",S),wm(n,"exportState",x),wm(n,"restoreState",A),wm(n,"preferencePanel",E);const C=t.useRef(null);Hl(n,"viewportInnerSizeChange",(e=>{C.current!==e.width&&(C.current=e.width,c(zp(bl(n.current.state),e.width)))}));const M=t.useCallback((()=>{a.info("Columns pipe processing have changed, regenerating the columns");const e=Up({apiRef:n,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});c(e)}),[n,a,c]);xm(n,"hydrateColumns",M);const R=t.useRef(!0);t.useEffect((()=>{if(R.current)return void(R.current=!1);if(a.info("GridColumns have changed, new length ".concat(r.columns.length)),l.current===r.columns)return;const e=Up({apiRef:n,initialState:void 0,columnsToUpsert:r.columns,keepOnlyColumnsToUpsert:!0});l.current=r.columns,c(e)}),[a,n,c,r.columns]),t.useEffect((()=>{void 0!==r.columnVisibilityModel&&n.current.setColumnVisibilityModel(r.columnVisibilityModel)}),[n,a,r.columnVisibilityModel])}(o,r),dv(o,r),fv(o),(e=>{const n=t.useRef({}),r={calculateColSpan:t.useCallback((t=>{let{rowId:r,minFirstColumn:o,maxLastColumn:i,columns:s}=t;for(let a=o;a<i;a+=1){const t=zx({apiRef:e,lookup:n.current,columnIndex:a,rowId:r,minFirstColumnIndex:o,maxLastColumnIndex:i,columns:s});t.colSpan>1&&(a+=t.colSpan-1)}}),[e])};Wf(e,{unstable_getCellColSpanInfo:(e,t)=>{var r;return null===(r=n.current[e])||void 0===r?void 0:r[t]}},"public"),Wf(e,r,"private");const o=t.useCallback((()=>{n.current={}}),[]);Hl(e,"columnOrderChange",o)})(o),((n,r)=>{const o=t.useCallback((e=>{var t;return null!==(t=Op(n)[e])&&void 0!==t?t:[]}),[n]),i=t.useCallback((()=>Lp(n)),[n]);Wf(n,{getColumnGroupPath:o,getAllGroupDetails:i},"public");const s=t.useCallback((()=>{var t;const o=Hx(null!==(t=r.columnGroupingModel)&&void 0!==t?t:[]);n.current.setState((t=>{var n,r,i;const s=null!==(n=null===(r=t.columns)||void 0===r?void 0:r.orderedFields)&&void 0!==n?n:[],a=null!==(i=t.pinnedColumns)&&void 0!==i?i:{},l=Vx(s,o,a);return(0,e.A)({},t,{columnGrouping:(0,e.A)({},t.columnGrouping,{headerStructure:l})})}))}),[n,r.columnGroupingModel]),a=t.useCallback((t=>{var r,o,i;const s=null!==(r=null===(o=(i=n.current).getPinnedColumns)||void 0===o?void 0:o.call(i))&&void 0!==r?r:{},a=_l(n),l=Sl(n),c=Xx(null!==t&&void 0!==t?t:[]),u=Hx(null!==t&&void 0!==t?t:[]),d=Vx(a,u,s),h=0===l.length?0:Math.max(...l.map((e=>{var t,n;return null!==(t=null===(n=u[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})));n.current.setState((t=>(0,e.A)({},t,{columnGrouping:{lookup:c,unwrappedGroupingModel:u,headerStructure:d,maxDepth:h}})))}),[n]);Hl(n,"columnIndexChange",s),Hl(n,"columnsChange",(()=>{a(r.columnGroupingModel)})),Hl(n,"columnVisibilityModelChange",(()=>{a(r.columnGroupingModel)})),t.useEffect((()=>{a(r.columnGroupingModel)}),[a,r.columnGroupingModel])})(o,r),cv(o,r),((n,r)=>{const o=om(n,"useGridFocus"),i=t.useRef(null),s=t.useCallback(((e,t)=>{e&&n.current.getRow(e.id)&&n.current.publishEvent("cellFocusOut",n.current.getCellParams(e.id,e.field),t)}),[n]),a=t.useCallback(((t,r)=>{const i=Yp(n);(null===i||void 0===i?void 0:i.id)===t&&(null===i||void 0===i?void 0:i.field)===r||(n.current.setState((n=>(o.debug("Focusing on cell with id=".concat(t," and field=").concat(r)),(0,e.A)({},n,{tabIndex:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))),n.current.forceUpdate(),n.current.getRow(t)&&(i&&s(i,{}),n.current.publishEvent("cellFocusIn",n.current.getCellParams(t,r))))}),[n,o,s]),l=t.useCallback((function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Yp(n);s(i,r),n.current.setState((n=>(o.debug("Focusing on column header with colIndex=".concat(t)),(0,e.A)({},n,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))),n.current.forceUpdate()}),[n,o,s]),c=t.useCallback((function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Yp(n);s(i,r),n.current.setState((n=>(o.debug("Focusing on column header filter with colIndex=".concat(t)),(0,e.A)({},n,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})))),n.current.forceUpdate()}),[n,o,s]),u=t.useCallback((function(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Yp(n);i&&n.current.publishEvent("cellFocusOut",n.current.getCellParams(i.id,i.field),o),n.current.setState((n=>(0,e.A)({},n,{tabIndex:{columnGroupHeader:{field:t,depth:r},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:r},columnHeader:null,columnHeaderFilter:null,cell:null}}))),n.current.forceUpdate()}),[n]),d=t.useCallback((()=>Qp(n)),[n]),h=t.useCallback(((e,t,o)=>{let i=n.current.getColumnIndex(t);const s=El(n),a=Of(n,{pagination:r.pagination,paginationMode:r.paginationMode}),l=Th(n),c=[].concat(l.top||[],a.rows,l.bottom||[]);let u=c.findIndex((t=>t.id===e));"right"===o?i+=1:"left"===o?i-=1:u+=1,i>=s.length?(u+=1,u<c.length&&(i=0)):i<0&&(u-=1,u>=0&&(i=s.length-1)),u=cc(u,0,c.length-1);const d=c[u];if(!d)return;const h=n.current.unstable_getCellColSpanInfo(d.id,i);h&&h.spannedByColSpan&&("left"===o||"below"===o?i=h.leftVisibleCellIndex:"right"===o&&(i=h.rightVisibleCellIndex)),i=cc(i,0,s.length-1);const p=s[i];n.current.setCellFocus(d.id,p.field)}),[n,r.pagination,r.paginationMode]),p=t.useCallback((e=>{let{id:t,field:r}=e;n.current.setCellFocus(t,r)}),[n]),f=t.useCallback(((e,t)=>{"Enter"===t.key||"Tab"===t.key||"Shift"===t.key||ep(t.key)||n.current.setCellFocus(e.id,e.field)}),[n]),g=t.useCallback(((e,t)=>{let{field:r}=e;t.target===t.currentTarget&&n.current.setColumnHeaderFocus(r,t)}),[n]),m=t.useCallback(((e,t)=>{let{fields:r,depth:o}=e;if(t.target!==t.currentTarget)return;const i=Qp(n);null!==i&&i.depth===o&&r.includes(i.field)||n.current.setColumnGroupHeaderFocus(r[0],o,t)}),[n]),v=t.useCallback(((t,r)=>{var i;null!==(i=r.relatedTarget)&&void 0!==i&&i.className.includes(Js.columnHeader)||(o.debug("Clearing focus"),n.current.setState((t=>(0,e.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))))}),[o,n]),y=t.useCallback((e=>{i.current=e}),[]),b=t.useCallback((t=>{const r=i.current;i.current=null;const o=Yp(n);if(!n.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:r}))return;if(!o)return void(r&&n.current.setCellFocus(r.id,r.field));if((null===r||void 0===r?void 0:r.id)===o.id&&(null===r||void 0===r?void 0:r.field)===o.field)return;const a=n.current.getCellElement(o.id,o.field);null!==a&&void 0!==a&&a.contains(t.target)||(r?n.current.setCellFocus(r.id,r.field):(n.current.setState((t=>(0,e.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),n.current.forceUpdate(),s(o,t)))}),[n,s]),_=t.useCallback((e=>{if("view"===e.cellMode)return;const t=Yp(n);(null===t||void 0===t?void 0:t.id)===e.id&&(null===t||void 0===t?void 0:t.field)===e.field||n.current.setCellFocus(e.id,e.field)}),[n]),w=t.useCallback((()=>{const t=Yp(n);t&&!n.current.getRow(t.id)&&n.current.setState((t=>(0,e.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))}),[n]),x=(0,Re.A)((()=>{const t=Yp(n);if(!t)return;const o=Of(n,{pagination:r.pagination,paginationMode:r.paginationMode});if(o.rows.find((e=>e.id===t.id)))return;const i=El(n);n.current.setState((t=>(0,e.A)({},t,{tabIndex:{cell:{id:o.rows[0].id,field:i[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}})))})),A={moveFocusToRelativeCell:h,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:d};Wf(n,{setCellFocus:a,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:c},"public"),Wf(n,A,"private"),t.useEffect((()=>{const e=(0,Me.A)(n.current.rootElementRef.current);return e.addEventListener("mouseup",b),()=>{e.removeEventListener("mouseup",b)}}),[n,b]),Hl(n,"columnHeaderBlur",v),Hl(n,"cellDoubleClick",p),Hl(n,"cellMouseDown",y),Hl(n,"cellKeyDown",f),Hl(n,"cellModeChange",_),Hl(n,"columnHeaderFocus",g),Hl(n,"columnGroupHeaderFocus",m),Hl(n,"rowsSet",w),Hl(n,"paginationModelChange",x)})(o,r),((n,r)=>{var o;const i=om(n,"useGridPreferencesPanel"),s=t.useRef(),a=t.useRef(),l=t.useCallback((()=>{i.debug("Hiding Preferences Panel");const t=Il(n.current.state);t.openedPanelValue&&n.current.publishEvent("preferencePanelClose",{openedPanelValue:t.openedPanelValue}),n.current.setState((t=>(0,e.A)({},t,{preferencePanel:{open:!1}}))),n.current.forceUpdate()}),[n,i]),c=t.useCallback((()=>{a.current=setTimeout((()=>clearTimeout(s.current)),0)}),[]),u=t.useCallback((()=>{s.current=setTimeout(l,100)}),[l]),d=t.useCallback(((t,r,o)=>{i.debug("Opening Preferences Panel"),c(),n.current.setState((n=>(0,e.A)({},n,{preferencePanel:(0,e.A)({},n.preferencePanel,{open:!0,openedPanelValue:t,panelId:r,labelId:o})}))),n.current.publishEvent("preferencePanelOpen",{openedPanelValue:t}),n.current.forceUpdate()}),[i,c,n]);Wf(n,{showPreferences:d,hidePreferences:u},"public");const h=t.useCallback(((t,o)=>{var i;const s=Il(n.current.state);return!o.exportOnlyDirtyModels||null!=(null===(i=r.initialState)||void 0===i?void 0:i.preferencePanel)||s.open?(0,e.A)({},t,{preferencePanel:s}):t}),[n,null===(o=r.initialState)||void 0===o?void 0:o.preferencePanel]),p=t.useCallback(((t,r)=>{const o=r.stateToRestore.preferencePanel;return null!=o&&n.current.setState((t=>(0,e.A)({},t,{preferencePanel:o}))),t}),[n]);wm(n,"exportState",h),wm(n,"restoreState",p),t.useEffect((()=>()=>{clearTimeout(s.current),clearTimeout(a.current)}),[])})(o,r),((n,r)=>{var o,i;const a=om(n,"useGridFilter");n.current.registerControlState({stateId:"filter",propModel:r.filterModel,propOnChange:r.onFilterModelChange,stateSelector:cf,changeEvent:"filterModelChange"});const l=t.useCallback((()=>{n.current.setState((t=>{const o=cf(t,n.current.instanceId),i="client"===r.filterMode?eh(o,n,r.disableEval):null,s=n.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:i,filterModel:null!==o&&void 0!==o?o:jd()}),a=(0,e.A)({},t,{filter:(0,e.A)({},t.filter,s)}),l=Bm(n,a);return(0,e.A)({},a,{visibleRowsLookup:l})})),n.current.publishEvent("filteredRowsSet")}),[n,r.filterMode,r.disableEval]),c=t.useCallback(((e,t)=>null==t||!1===t.filterable||r.disableColumnFilter?e:[...e,"columnMenuFilterItem"]),[r.disableColumnFilter]),u=t.useCallback((()=>{l(),n.current.forceUpdate()}),[n,l]),d=t.useCallback((t=>{const r=cf(n),o=[...r.items],i=o.findIndex((e=>e.id===t.id));-1===i?o.push(t):o[i]=t,n.current.setFilterModel((0,e.A)({},r,{items:o}),"upsertFilterItem")}),[n]),h=t.useCallback((t=>{const r=cf(n),o=[...r.items];t.forEach((e=>{const t=o.findIndex((t=>t.id===e.id));-1===t?o.push(e):o[t]=e})),n.current.setFilterModel((0,e.A)({},r,{items:o}),"upsertFilterItems")}),[n]),p=t.useCallback((t=>{const r=cf(n),o=r.items.filter((e=>e.id!==t.id));o.length!==r.items.length&&n.current.setFilterModel((0,e.A)({},r,{items:o}),"deleteFilterItem")}),[n]),f=t.useCallback(((t,o,i)=>{if(a.debug("Displaying filter panel"),t){const o=cf(n),i=o.items.filter((e=>{var t;if(void 0!==e.value)return!Array.isArray(e.value)||0!==e.value.length;const r=null===(t=n.current.getColumn(e.field).filterOperators)||void 0===t?void 0:t.find((t=>t.value===e.operator));return!("undefined"===typeof(null===r||void 0===r?void 0:r.requiresFilterValue)||(null===r||void 0===r?void 0:r.requiresFilterValue))}));let s;const a=i.find((e=>e.field===t)),l=n.current.getColumn(t);s=a?i:r.disableMultipleColumnsFiltering?[Hd({field:t,operator:l.filterOperators[0].value},n)]:[...i,Hd({field:t,operator:l.filterOperators[0].value},n)],n.current.setFilterModel((0,e.A)({},o,{items:s}))}n.current.showPreferences(Ol.filters,o,i)}),[n,a,r.disableMultipleColumnsFiltering]),g=t.useCallback((()=>{a.debug("Hiding filter panel"),n.current.hidePreferences()}),[n,a]),m=t.useCallback((t=>{const r=cf(n);r.logicOperator!==t&&n.current.setFilterModel((0,e.A)({},r,{logicOperator:t}),"changeLogicOperator")}),[n]),v=t.useCallback((t=>{const r=cf(n);dc(r.quickFilterValues,t)||n.current.setFilterModel((0,e.A)({},r,{quickFilterValues:[...t]}))}),[n]),y={setFilterLogicOperator:m,unstable_applyFilters:u,deleteFilterItem:p,upsertFilterItem:d,upsertFilterItems:h,setFilterModel:t.useCallback(((e,t)=>{cf(n)!==e&&(a.debug("Setting filter model"),n.current.updateControlState("filter",Kd(e,r.disableMultipleColumnsFiltering,n),t),n.current.unstable_applyFilters())}),[n,a,r.disableMultipleColumnsFiltering]),showFilterPanel:f,hideFilterPanel:g,setQuickFilterValues:v,ignoreDiacritics:r.ignoreDiacritics};Wf(n,y,"public");const b=t.useCallback(((t,o)=>{var i;const s=cf(n);return o.exportOnlyDirtyModels&&null==r.filterModel&&null==(null===(i=r.initialState)||void 0===i||null===(i=i.filter)||void 0===i?void 0:i.filterModel)&&dc(s,jd())?t:(0,e.A)({},t,{filter:{filterModel:s}})}),[n,r.filterModel,null===(o=r.initialState)||void 0===o||null===(o=o.filter)||void 0===o?void 0:o.filterModel]),_=t.useCallback(((t,o)=>{var i;const s=null===(i=o.stateToRestore.filter)||void 0===i?void 0:i.filterModel;return null==s?t:(n.current.updateControlState("filter",Kd(s,r.disableMultipleColumnsFiltering,n),"restoreState"),(0,e.A)({},t,{callbacks:[...t.callbacks,n.current.unstable_applyFilters]}))}),[n,r.disableMultipleColumnsFiltering]),w=t.useCallback(((t,n)=>{if(n===Ol.filters){var o;const t=r.slots.filterPanel;return(0,s.jsx)(t,(0,e.A)({},null===(o=r.slotProps)||void 0===o?void 0:o.filterPanel))}return t}),[r.slots.filterPanel,null===(i=r.slotProps)||void 0===i?void 0:i.filterPanel]),{getRowId:x}=r,A=(0,Ha.A)(zm),E=t.useCallback((e=>{if("client"!==r.filterMode||!e.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const t=xh(n),o={},{isRowMatchingFilters:i}=e,s={},a={passingFilterItems:null,passingQuickFilterValues:null},l=A.current(n.current.state.rows.dataRowIdToModelLookup);for(let r=0;r<l.length;r+=1){const t=l[r],c=x?x(t):t.id;i(t,void 0,a);const u=nh([a.passingFilterItems],[a.passingQuickFilterValues],e.filterModel,n,s);o[c]=u}const c="auto-generated-group-footer-root";return t[c]&&(o[c]=!0),{filteredRowsLookup:o,filteredDescendantCountLookup:{}}}),[n,r.filterMode,x,A]);wm(n,"columnMenu",c),wm(n,"exportState",b),wm(n,"restoreState",_),wm(n,"preferencePanel",w),Nm(n,em,"filtering",E),Nm(n,em,"visibleRowsLookupCreation",Dm);const S=t.useCallback((()=>{a.debug("onColUpdated - GridColumns changed, applying filters");const t=cf(n),r=wl(n),o=t.items.filter((e=>e.field&&r[e.field]));o.length<t.items.length&&n.current.setFilterModel((0,e.A)({},t,{items:o}))}),[n,a]),C=t.useCallback((e=>{"filtering"===e&&n.current.unstable_applyFilters()}),[n]),M=t.useCallback((()=>{n.current.setState((t=>(0,e.A)({},t,{visibleRowsLookup:Bm(n,t)}))),n.current.forceUpdate()}),[n]);Hl(n,"rowsSet",l),Hl(n,"columnsChange",S),Hl(n,"activeStrategyProcessorChange",C),Hl(n,"rowExpansionChange",M),Hl(n,"columnVisibilityModelChange",(()=>{const e=cf(n);e.quickFilterValues&&Jd(e)&&n.current.unstable_applyFilters()})),_m((()=>{n.current.unstable_applyFilters()})),(0,Ve.A)((()=>{void 0!==r.filterModel&&n.current.setFilterModel(r.filterModel)}),[n,a,r.filterModel])})(o,r),((n,r)=>{var o;const i=om(n,"useGridSorting");n.current.registerControlState({stateId:"sortModel",propModel:r.sortModel,propOnChange:r.onSortModelChange,stateSelector:sf,changeEvent:"sortModelChange"});const s=t.useCallback(((e,t)=>{const r=sf(n),o=r.findIndex((t=>t.field===e));let i=[...r];return o>-1?null==(null===t||void 0===t?void 0:t.sort)?i.splice(o,1):i.splice(o,1,t):i=[...r,t],i}),[n]),a=t.useCallback(((t,o)=>{var i;const s=sf(n).find((e=>e.field===t.field));if(s){var a;const n=void 0===o?$l(null!==(a=t.sortingOrder)&&void 0!==a?a:r.sortingOrder,s.sort):o;return void 0===n?void 0:(0,e.A)({},s,{sort:n})}return{field:t.field,sort:void 0===o?$l(null!==(i=t.sortingOrder)&&void 0!==i?i:r.sortingOrder):o}}),[n,r.sortingOrder]),l=t.useCallback(((e,t)=>null==t||!1===t.sortable||r.disableColumnSorting?e:(t.sortingOrder||r.sortingOrder).some((e=>!!e))?[...e,"columnMenuSortItem"]:e),[r.sortingOrder,r.disableColumnSorting]),c=t.useCallback((()=>{n.current.setState((t=>{if("server"===r.sortingMode)return i.debug("Skipping sorting rows as sortingMode = server"),(0,e.A)({},t,{sorting:(0,e.A)({},t.sorting,{sortedRows:Bh(Eh(n),kh,!1)})});const o=((e,t)=>{const n=e.map((e=>((e,t)=>{const n=t.current.getColumn(e.field);if(!n||null===e.sort)return null;let r;return r=n.getSortComparator?n.getSortComparator(e.sort):"desc"===e.sort?function(){return-1*n.sortComparator(...arguments)}:n.sortComparator,r?{getSortCellParams:e=>({id:e,field:n.field,rowNode:t.current.getRowNode(e),value:t.current.getCellValue(e,n.field),api:t.current}),comparator:r}:null})(e,t))).filter((e=>!!e));return 0===n.length?null:e=>e.map((e=>({node:e,params:n.map((t=>t.getSortCellParams(e.id)))}))).sort(((e,t)=>{return r=e,o=t,n.reduce(((e,t,n)=>{if(0!==e)return e;const i=r.params[n],s=o.params[n];return t.comparator(i.value,s.value,i,s)}),0);var r,o})).map((e=>e.node.id))})(sf(t,n.current.instanceId),n),s=n.current.applyStrategyProcessor("sorting",{sortRowList:o});return(0,e.A)({},t,{sorting:(0,e.A)({},t.sorting,{sortedRows:s})})})),n.current.publishEvent("sortedRowsSet"),n.current.forceUpdate()}),[n,i,r.sortingMode]),u=t.useCallback((e=>{sf(n)!==e&&(i.debug("Setting sort model"),n.current.setState(Ql(e,r.disableMultipleColumnsSorting)),n.current.forceUpdate(),n.current.applySorting())}),[n,i,r.disableMultipleColumnsSorting]),d=t.useCallback(((e,t,o)=>{const i=n.current.getColumn(e),l=a(i,t);let c;c=!o||r.disableMultipleColumnsSorting?null==(null===l||void 0===l?void 0:l.sort)?[]:[l]:s(i.field,l),n.current.setSortModel(c)}),[n,s,a,r.disableMultipleColumnsSorting]),h=t.useCallback((()=>sf(n)),[n]),p=t.useCallback((()=>of(n).map((e=>e.model))),[n]),f=t.useCallback((()=>rf(n)),[n]),g=t.useCallback((e=>n.current.getSortedRowIds()[e]),[n]);Wf(n,{getSortModel:h,getSortedRows:p,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:u,sortColumn:d,applySorting:c},"public");const m=t.useCallback(((t,o)=>{var i;const s=sf(n);return!o.exportOnlyDirtyModels||null!=r.sortModel||null!=(null===(i=r.initialState)||void 0===i||null===(i=i.sorting)||void 0===i?void 0:i.sortModel)||s.length>0?(0,e.A)({},t,{sorting:{sortModel:s}}):t}),[n,r.sortModel,null===(o=r.initialState)||void 0===o||null===(o=o.sorting)||void 0===o?void 0:o.sortModel]),v=t.useCallback(((t,o)=>{var i;const s=null===(i=o.stateToRestore.sorting)||void 0===i?void 0:i.sortModel;return null==s?t:(n.current.setState(Ql(s,r.disableMultipleColumnsSorting)),(0,e.A)({},t,{callbacks:[...t.callbacks,n.current.applySorting]}))}),[n,r.disableMultipleColumnsSorting]),y=t.useCallback((e=>{const t=Eh(n),r=t[kh],o=e.sortRowList?e.sortRowList(r.children.map((e=>t[e]))):[...r.children];return null!=r.footerId&&o.push(r.footerId),o}),[n]);wm(n,"exportState",m),wm(n,"restoreState",v),Nm(n,em,"sorting",y);const b=t.useCallback(((e,t)=>{let{field:n,colDef:o}=e;if(!o.sortable||r.disableColumnSorting)return;const i=t.shiftKey||t.metaKey||t.ctrlKey;d(n,void 0,i)}),[d,r.disableColumnSorting]),_=t.useCallback(((e,t)=>{let{field:n,colDef:o}=e;o.sortable&&!r.disableColumnSorting&&("Enter"!==t.key||t.ctrlKey||t.metaKey||d(n,void 0,t.shiftKey))}),[d,r.disableColumnSorting]),w=t.useCallback((()=>{const e=sf(n),t=wl(n);if(e.length>0){const r=e.filter((e=>t[e.field]));r.length<e.length&&n.current.setSortModel(r)}}),[n]),x=t.useCallback((e=>{"sorting"===e&&n.current.applySorting()}),[n]);wm(n,"columnMenu",l),Hl(n,"columnHeaderClick",b),Hl(n,"columnHeaderKeyDown",_),Hl(n,"rowsSet",n.current.applySorting),Hl(n,"columnsChange",w),Hl(n,"activeStrategyProcessorChange",x),_m((()=>{n.current.applySorting()})),(0,Ve.A)((()=>{void 0!==r.sortModel&&n.current.setSortModel(r.sortModel)}),[n,r.sortModel])})(o,r),((n,r)=>{var o;const i=om(n,"useDensity");n.current.registerControlState({stateId:"density",propModel:r.density,propOnChange:r.onDensityChange,stateSelector:hl,changeEvent:"densityChange"});const s=(0,Re.A)((t=>{hl(n.current.state)!==t&&(i.debug("Set grid density to ".concat(t)),n.current.setState((n=>(0,e.A)({},n,{density:t}))))}));Wf(n,{setDensity:s},"public");const a=t.useCallback(((t,o)=>{var i;const s=hl(n.current.state);return o.exportOnlyDirtyModels&&null==r.density&&null==(null===(i=r.initialState)||void 0===i?void 0:i.density)?t:(0,e.A)({},t,{density:s})}),[n,r.density,null===(o=r.initialState)||void 0===o?void 0:o.density]),l=t.useCallback(((t,r)=>{var o;const i=null!==(o=r.stateToRestore)&&void 0!==o&&o.density?r.stateToRestore.density:hl(n.current.state);return n.current.setState((t=>(0,e.A)({},t,{density:i}))),t}),[n]);wm(n,"exportState",a),wm(n,"restoreState",l),t.useEffect((()=>{r.density&&n.current.setDensity(r.density)}),[n,r.density])})(o,r),oA(o,r),tv(o,r),((n,r)=>{const{getRowHeight:o,getRowSpacing:i,getEstimatedRowHeight:s}=r,a=t.useRef(Object.create(null)),l=t.useRef(-1),c=t.useRef(!1),u=$a(n,pl),d=$a(n,cf),h=$a(n,Af),p=$a(n,sf),f=Lf(n,r),g=$a(n,Th),m=Bx(r.rowHeight,Lx.rowHeight),v=Math.floor(m*u),y=t.useCallback((()=>{var t,r;c.current=!1;const d=t=>{a.current[t.id]||(a.current[t.id]={sizes:{baseCenter:v},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:r,needsFirstMeasurement:l,sizes:d}=a.current[t.id];let h="number"===typeof v&&v>0?v:52;const p=d.baseCenter;if(r)h=p;else if(o){const n=o((0,e.A)({},t,{densityFactor:u}));if("auto"===n){if(l){const n=s?s((0,e.A)({},t,{densityFactor:u})):v;h=null!==n&&void 0!==n?n:v}else h=p;c.current=!0,a.current[t.id].autoHeight=!0}else h=Bx(n,v),a.current[t.id].needsFirstMeasurement=!1,a.current[t.id].autoHeight=!1}else a.current[t.id].needsFirstMeasurement=!1;const g={baseCenter:h};if(i){var m,y;const r=n.current.getRowIndexRelativeToVisibleRows(t.id),o=i((0,e.A)({},t,{isFirstVisible:0===r,isLastVisible:r===f.rows.length-1,indexRelativeToCurrentPage:r}));g.spacingTop=null!==(m=o.top)&&void 0!==m?m:0,g.spacingBottom=null!==(y=o.bottom)&&void 0!==y?y:0}const b=n.current.unstable_applyPipeProcessors("rowHeight",g,t);return a.current[t.id].sizes=b,b},h=[],p=f.rows.reduce(((e,t)=>{h.push(e);let n=0;const r=d(t);for(const o in r){const e=r[o];"baseCenter"!==o&&(n+=e)}return e+r.baseCenter+n}),0);null===g||void 0===g||null===(t=g.top)||void 0===t||t.forEach((e=>{d(e)})),null===g||void 0===g||null===(r=g.bottom)||void 0===r||r.forEach((e=>{d(e)})),n.current.setState((t=>(0,e.A)({},t,{rowsMeta:{currentPageTotalHeight:p,positions:h}}))),c.current||(l.current=1/0),n.current.forceUpdate()}),[n,f.rows,v,o,i,s,g,u]),b=t.useCallback((e=>{const t=a.current[e];return t?t.sizes.baseCenter:v}),[v]),_=t.useCallback(((e,t)=>{a.current[e].sizes.baseCenter=t,a.current[e].isResized=!0,a.current[e].needsFirstMeasurement=!1,y()}),[y]),w=t.useMemo((()=>(0,$n.A)(y,r.rowPositionsDebounceMs)),[y,r.rowPositionsDebounceMs]),x=t.useCallback(((e,t)=>{if(!a.current[e]||!a.current[e].autoHeight)return;const n=a.current[e].sizes.baseCenter!==t;a.current[e].needsFirstMeasurement=!1,a.current[e].sizes.baseCenter=t,n&&w()}),[w]),A=t.useCallback((e=>{var t;return(null===(t=a.current[e])||void 0===t?void 0:t.autoHeight)||!1}),[]),E=t.useCallback((()=>l.current),[]),S=t.useCallback((e=>{c.current&&e>l.current&&(l.current=e)}),[]),C=t.useCallback((()=>{a.current={},y()}),[y]);t.useEffect((()=>{y()}),[v,d,h,p,y]),xm(n,"rowHeight",y);const M={getLastMeasuredRowIndex:E,rowHasAutoHeight:A};Wf(n,{unstable_setLastMeasuredRowIndex:S,unstable_getRowHeight:b,unstable_getRowInternalSizes:e=>{var t;return null===(t=a.current[e])||void 0===t?void 0:t.sizes},unstable_setRowHeight:_,unstable_storeRowHeightMeasurement:x,resetRowHeights:C},"public"),Wf(n,M,"private")})(o,r),((e,n)=>{const r=it(),o=om(e,"useGridScroll"),i=e.current.columnHeadersContainerRef,s=e.current.virtualScrollerRef,a=$a(e,df),l=t.useCallback((t=>{const r=Xl(e.current.state),i=bh(e),l=El(e);if(null!=t.rowIndex&&0===i||0===l.length)return!1;o.debug("Scrolling to cell at row ".concat(t.rowIndex,", col: ").concat(t.colIndex," "));let c={};if(void 0!==t.colIndex){const n=Ml(e);let o;if("undefined"!==typeof t.rowIndex){var u;const n=null===(u=a[t.rowIndex])||void 0===u?void 0:u.id,r=e.current.unstable_getCellColSpanInfo(n,t.colIndex);r&&!r.spannedByColSpan&&(o=r.cellProps.width)}"undefined"===typeof o&&(o=l[t.colIndex].computedWidth),c.left=bv({clientHeight:r.viewportInnerSize.width,scrollTop:Math.abs(s.current.scrollLeft),offsetHeight:o,offsetTop:n[t.colIndex]})}if(void 0!==t.rowIndex){const o=zf(e.current.state),i=Mf(e),a=Rf(e),l=n.pagination?t.rowIndex-i*a:t.rowIndex,u=o.positions[l+1]?o.positions[l+1]-o.positions[l]:o.currentPageTotalHeight-o.positions[l];c.top=bv({clientHeight:r.viewportInnerSize.height,scrollTop:s.current.scrollTop,offsetHeight:u,offsetTop:o.positions[l]})}return c=e.current.unstable_applyPipeProcessors("scrollToIndexes",c,t),(void 0!==typeof c.left||void 0!==typeof c.top)&&(e.current.scroll(c),!0)}),[o,e,s,n.pagination,a]),c=t.useCallback((e=>{if(s.current&&void 0!==e.left&&i.current){const t="rtl"===r.direction?-1:1;i.current.scrollLeft=e.left,s.current.scrollLeft=t*e.left,o.debug("Scrolling left: ".concat(e.left))}s.current&&void 0!==e.top&&(s.current.scrollTop=e.top,o.debug("Scrolling top: ".concat(e.top))),o.debug("Scrolling, updating container, and viewport")}),[s,r.direction,i,o]),u=t.useCallback((()=>null!==s&&void 0!==s&&s.current?{top:s.current.scrollTop,left:s.current.scrollLeft}:{top:0,left:0}),[s]);Wf(e,{scroll:c,scrollToIndexes:l,getScrollPosition:u},"public")})(o,r),(n=>{const r=om(n,"useGridColumnMenu"),o=t.useCallback((t=>{const o=dg(n.current.state),i=t;(!0!==o.open||i!==o.field)&&(n.current.setState((n=>n.columnMenu.open&&n.columnMenu.field===t?n:(r.debug("Opening Column Menu"),(0,e.A)({},n,{columnMenu:{open:!0,field:t}})))),n.current.hidePreferences(),n.current.forceUpdate())}),[n,r]),i=t.useCallback((()=>{const t=dg(n.current.state);if(t.field){const e=wl(n),r=Al(n),o=_l(n);let i=t.field;if(e[i]||(i=o[0]),!1===r[i]){const e=o.filter((e=>e===i||!1!==r[e])),t=e.indexOf(i);i=e[t+1]||e[t-1]}n.current.setColumnHeaderFocus(i)}const o={open:!1,field:void 0};(o.open!==t.open||o.field!==t.field)&&(n.current.setState((t=>(r.debug("Hiding Column Menu"),(0,e.A)({},t,{columnMenu:o})))),n.current.forceUpdate())}),[n,r]),s=t.useCallback((e=>{r.debug("Toggle Column Menu");const t=dg(n.current.state);t.open&&t.field===e?i():o(e)}),[n,r,o,i]);Wf(n,{showColumnMenu:o,hideColumnMenu:i,toggleColumnMenu:s},"public"),Hl(n,"columnResizeStart",i),Hl(n,"virtualScrollerWheel",n.current.hideColumnMenu),Hl(n,"virtualScrollerTouchMove",n.current.hideColumnMenu)})(o),Im(o,r),Lm(o,r),ym(o,r),Av(o,r),function(e,t){Wl(e,"columnHeaderClick",t.onColumnHeaderClick),Wl(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Wl(e,"columnHeaderOver",t.onColumnHeaderOver),Wl(e,"columnHeaderOut",t.onColumnHeaderOut),Wl(e,"columnHeaderEnter",t.onColumnHeaderEnter),Wl(e,"columnHeaderLeave",t.onColumnHeaderLeave),Wl(e,"cellClick",t.onCellClick),Wl(e,"cellDoubleClick",t.onCellDoubleClick),Wl(e,"cellKeyDown",t.onCellKeyDown),Wl(e,"preferencePanelClose",t.onPreferencePanelClose),Wl(e,"preferencePanelOpen",t.onPreferencePanelOpen),Wl(e,"menuOpen",t.onMenuOpen),Wl(e,"menuClose",t.onMenuClose),Wl(e,"rowDoubleClick",t.onRowDoubleClick),Wl(e,"rowClick",t.onRowClick),Wl(e,"stateChange",t.onStateChange)}(o,r),(e=>{const n=t.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)}),[e]),r=t.useCallback((t=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach((e=>{e()})),e.current.forceUpdate()}),[e]);Wf(e,{exportState:n,restoreState:r},"public")})(o),function(n,r){const o=t=>{n.current.setState((n=>(0,e.A)({},n,{virtualization:(0,e.A)({},n.virtualization,{enabled:t})})))},i={unstable_setVirtualization:o,unstable_setColumnVirtualization:t=>{n.current.setState((n=>(0,e.A)({},n,{virtualization:(0,e.A)({},n.virtualization,{enabledForColumns:t})})))}};Wf(n,i,"public"),t.useEffect((()=>{o(!r.disableVirtualization)}),[r.disableVirtualization])}(o,r),o},aA=[e=>e.autoPageSize&&e.autoHeight&&["MUI X: `<DataGrid autoPageSize={true} autoHeight={true} />` are not valid props.","You cannot use both the `autoPageSize` and `autoHeight` props at the same time because `autoHeight` scales the height of the Data Grid according to the `pageSize`.","","Please remove one of these two props."].join("\n")||void 0,e=>"client"===e.paginationMode&&null!=e.paginationMeta&&['MUI X: Usage of the `paginationMeta` prop with client-side pagination (`paginationMode="client"`) has no effect.','`paginationMeta` is only meant to be used with `paginationMode="server"`.'].join("\n")||void 0,e=>e.signature===jl.DataGrid&&"client"===e.paginationMode&&ic(e.rowCount)&&['MUI X: Usage of the `rowCount` prop with client side pagination (`paginationMode="client"`) has no effect.','`rowCount` is only meant to be used with `paginationMode="server"`.'].join("\n")||void 0,e=>"server"===e.paginationMode&&null==e.rowCount&&["MUI X: The `rowCount` prop must be passed using `paginationMode='server'`","For more detail, see http://mui.com/components/data-grid/pagination/#index-based-pagination"].join("\n")||void 0],lA=(new Set,t.forwardRef((function(t,n){const r=Fx(t),o=sA(r.apiRef,r);return(0,s.jsx)(Ug,{privateApiRef:o,props:r,children:(0,s.jsxs)(ml,(0,e.A)({className:r.className,style:r.style,sx:r.sx,ref:n},r.forwardedProps,{children:[(0,s.jsx)(Dl,{}),(0,s.jsx)(zg,{}),(0,s.jsx)(jg,{})]}))})}))),cA=t.memo(lA);lA.propTypes={apiRef:Pa().shape({current:Pa().object.isRequired}),"aria-label":Pa().string,"aria-labelledby":Pa().string,autoHeight:Pa().bool,autoPageSize:Pa().bool,autosizeOnMount:Pa().bool,autosizeOptions:Pa().shape({columns:Pa().arrayOf(Pa().string),expand:Pa().bool,includeHeaders:Pa().bool,includeOutliers:Pa().bool,outliersFactor:Pa().number}),cellModesModel:Pa().object,checkboxSelection:Pa().bool,classes:Pa().object,clipboardCopyCellDelimiter:Pa().string,columnBufferPx:Pa().number,columnGroupingModel:Pa().arrayOf(Pa().object),columnHeaderHeight:Pa().number,columns:Pa().arrayOf(Pa().object).isRequired,columnVisibilityModel:Pa().object,density:Pa().oneOf(["comfortable","compact","standard"]),disableAutosize:Pa().bool,disableColumnFilter:Pa().bool,disableColumnMenu:Pa().bool,disableColumnResize:Pa().bool,disableColumnSelector:Pa().bool,disableColumnSorting:Pa().bool,disableDensitySelector:Pa().bool,disableEval:Pa().bool,disableMultipleRowSelection:Pa().bool,disableRowSelectionOnClick:Pa().bool,disableVirtualization:Pa().bool,editMode:Pa().oneOf(["cell","row"]),estimatedRowCount:Pa().number,experimentalFeatures:Pa().shape({warnIfFocusStateIsNotSynced:Pa().bool}),filterDebounceMs:Pa().number,filterMode:Pa().oneOf(["client","server"]),filterModel:Pa().shape({items:Pa().arrayOf(Pa().shape({field:Pa().string.isRequired,id:Pa().oneOfType([Pa().number,Pa().string]),operator:Pa().string.isRequired,value:Pa().any})).isRequired,logicOperator:Pa().oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Pa().bool,quickFilterLogicOperator:Pa().oneOf(["and","or"]),quickFilterValues:Pa().array}),forwardedProps:Pa().object,getCellClassName:Pa().func,getDetailPanelContent:Pa().func,getEstimatedRowHeight:Pa().func,getRowClassName:Pa().func,getRowHeight:Pa().func,getRowId:Pa().func,getRowSpacing:Pa().func,hideFooter:Pa().bool,hideFooterPagination:Pa().bool,hideFooterSelectedRowCount:Pa().bool,ignoreDiacritics:Pa().bool,ignoreValueFormatterDuringExport:Pa().oneOfType([Pa().shape({clipboardExport:Pa().bool,csvExport:Pa().bool}),Pa().bool]),initialState:Pa().object,isCellEditable:Pa().func,isRowSelectable:Pa().func,keepNonExistentRowsSelected:Pa().bool,loading:Pa().bool,localeText:Pa().object,logger:Pa().shape({debug:Pa().func.isRequired,error:Pa().func.isRequired,info:Pa().func.isRequired,warn:Pa().func.isRequired}),logLevel:Pa().oneOf(["debug","error","info","warn",!1]),nonce:Pa().string,onCellClick:Pa().func,onCellDoubleClick:Pa().func,onCellEditStart:Pa().func,onCellEditStop:Pa().func,onCellKeyDown:Pa().func,onCellModesModelChange:Pa().func,onClipboardCopy:Pa().func,onColumnHeaderClick:Pa().func,onColumnHeaderDoubleClick:Pa().func,onColumnHeaderEnter:Pa().func,onColumnHeaderLeave:Pa().func,onColumnHeaderOut:Pa().func,onColumnHeaderOver:Pa().func,onColumnOrderChange:Pa().func,onColumnResize:Pa().func,onColumnVisibilityModelChange:Pa().func,onColumnWidthChange:Pa().func,onDensityChange:Pa().func,onFilterModelChange:Pa().func,onMenuClose:Pa().func,onMenuOpen:Pa().func,onPaginationMetaChange:Pa().func,onPaginationModelChange:Pa().func,onPreferencePanelClose:Pa().func,onPreferencePanelOpen:Pa().func,onProcessRowUpdateError:Pa().func,onResize:Pa().func,onRowClick:Pa().func,onRowCountChange:Pa().func,onRowDoubleClick:Pa().func,onRowEditStart:Pa().func,onRowEditStop:Pa().func,onRowModesModelChange:Pa().func,onRowSelectionModelChange:Pa().func,onSortModelChange:Pa().func,onStateChange:Pa().func,pageSizeOptions:Pa().arrayOf(Pa().oneOfType([Pa().number,Pa().shape({label:Pa().string.isRequired,value:Pa().number.isRequired})]).isRequired),pagination:Pa().oneOf([!0]),paginationMeta:Pa().shape({hasNextPage:Pa().bool}),paginationMode:Pa().oneOf(["client","server"]),paginationModel:Pa().shape({page:Pa().number.isRequired,pageSize:Pa().number.isRequired}),processRowUpdate:Pa().func,resizeThrottleMs:Pa().number,rowBufferPx:Pa().number,rowCount:Pa().number,rowHeight:Pa().number,rowModesModel:Pa().object,rowPositionsDebounceMs:Pa().number,rows:Pa().arrayOf(Pa().object),rowSelection:Pa().bool,rowSelectionModel:Pa().oneOfType([Pa().arrayOf(Pa().oneOfType([Pa().number,Pa().string]).isRequired),Pa().number,Pa().string]),rowSpacingType:Pa().oneOf(["border","margin"]),scrollbarSize:Pa().number,showCellVerticalBorder:Pa().bool,showColumnVerticalBorder:Pa().bool,slotProps:Pa().object,slots:Pa().object,sortingMode:Pa().oneOf(["client","server"]),sortingOrder:Pa().arrayOf(Pa().oneOf(["asc","desc"])),sortModel:Pa().arrayOf(Pa().shape({field:Pa().string.isRequired,sort:Pa().oneOf(["asc","desc"])})),sx:Pa().oneOfType([Pa().arrayOf(Pa().oneOfType([Pa().func,Pa().object,Pa().bool])),Pa().func,Pa().object])};const uA=is;function dA(e){const{setRows:t,rows:n}=e;return(0,s.jsx)(oa,{children:(0,s.jsx)(Ws,{color:"primary",startIcon:(0,s.jsx)(qs.A,{}),onClick:()=>{const e={...n[n.length-1],id:n[n.length-1].id+1,isNew:!0};t([...n,e])},children:"Add Type"})})}function hA(e){const n=e.setTypesTable,r=e.setSelectedType,[o,i]=t.useState(Xs(uA.GEOGRID.properties.types));(0,t.useEffect)((()=>{n(o)}),[o]);const[a,l]=t.useState({}),c=e=>()=>{l({...a,[e]:{mode:ca.Edit}})},u=e=>()=>{l({...a,[e]:{mode:ca.View}})},d=e=>()=>{i(o.filter((t=>t.id!==e)))},h=e=>()=>{l({...a,[e]:{mode:ca.View,ignoreModifications:!0}});o.find((t=>t.id===e)).isNew&&i(o.filter((t=>t.id!==e)))},p=[{field:"actions",type:"actions",headerName:"Actions",width:100,cellClassName:"actions",getActions:e=>{var t;let{id:n}=e;return(null===(t=a[n])||void 0===t?void 0:t.mode)===ca.Edit?[(0,s.jsx)(Ra,{icon:(0,s.jsx)(Zs.A,{}),label:"Save",sx:{color:"primary.main"},onClick:u(n)}),(0,s.jsx)(Ra,{icon:(0,s.jsx)(Qs.A,{}),label:"Cancel",className:"textPrimary",onClick:h(n),color:"inherit"})]:[(0,s.jsx)(Ra,{icon:(0,s.jsx)(Ks.A,{}),label:"Edit",className:"textPrimary",onClick:c(n),color:"inherit"}),(0,s.jsx)(Ra,{icon:(0,s.jsx)(Ys.A,{}),label:"Delete",onClick:d(n),color:"inherit"})]}},{field:"name",headerName:"Type Name",editable:!0},{field:"description",headerName:"Description",width:100,editable:!0},{field:"interactive",headerName:"Interactive",type:"boolean",valueOptions:[!0,!1],editable:!0},{field:"color",headerName:"Color",type:"string",editable:!0},{field:"height[0]",headerName:"Height [0]",type:"number",editable:!0},{field:"height[1]",headerName:"Height [1]",type:"number",editable:!0},{field:"height[2]",headerName:"Height [2]",type:"number",editable:!0},{field:"LBCS",type:"string",editable:!0},{field:"NAICS",type:"string"}];return(0,s.jsxs)(Zt,{children:[(0,s.jsx)(Kn,{children:(0,s.jsx)(ce,{variant:"h4",children:"Set Types Properties"})}),(0,s.jsx)(cA,{rows:o,columns:p,editMode:"row",rowModesModel:a,onRowModesModelChange:e=>{l(e)},onRowClick:e=>{r(e.row)},onRowEditStop:(e,t)=>{e.reason===sa.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{const t={...e,isNew:!1};return i(o.map((n=>n.id===e.id?t:n))),t},slots:{toolbar:dA},slotProps:{toolbar:{setRows:i,rows:o}}})]})}var pA=n(939);function fA(e){return(0,z.Ay)("MuiLink",e)}const gA=(0,B.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var mA=n(2703);const vA={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},yA=e=>{let{theme:t,ownerState:n}=e;const r=(e=>vA[e]||e)(n.color),o=(0,mA.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,mA.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,F.X4)(o,.4)},bA=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],_A=(0,N.Ay)(ce,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat((0,ne.A)(n.underline))],"button"===n.component&&t.button]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,e.A)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:yA({theme:n,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(gA.focusVisible)]:{outline:"auto"}})})),wA=t.forwardRef((function(n,o){const i=(0,r.A)({props:n,name:"MuiLink"}),{className:a,color:l="primary",component:c="a",onBlur:u,onFocus:d,TypographyClasses:h,underline:p="always",variant:g="inherit",sx:m}=i,v=(0,f.A)(i,bA),{isFocusVisibleRef:y,onBlur:b,onFocus:_,ref:w}=(0,$t.A)(),[x,A]=t.useState(!1),E=(0,lt.A)(o,w),S=(0,e.A)({},i,{color:l,component:c,focusVisible:x,underline:p,variant:g}),C=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root","underline".concat((0,ne.A)(o)),"button"===n&&"button",r&&"focusVisible"]};return(0,L.A)(i,fA,t)})(S);return(0,s.jsx)(_A,(0,e.A)({color:l,className:(0,O.A)(C.root,a),classes:h,component:c,onBlur:e=>{b(e),!1===y.current&&A(!1),u&&u(e)},onFocus:e=>{_(e),!0===y.current&&A(!0),d&&d(e)},ref:E,ownerState:S,variant:g,sx:[...Object.keys(vA).includes(l)?[]:[{color:l}],...Array.isArray(m)?m:[m]]},v))})),xA=wA;function AA(e){return(0,z.Ay)("MuiLoadingButton",e)}const EA=(0,B.A)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),SA=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],CA=(0,N.Ay)(Ws,{shouldForwardProp:e=>(e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e)(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{["& .".concat(EA.startIconLoadingStart)]:t.startIconLoadingStart},t.endIconLoadingEnd&&{["& .".concat(EA.endIconLoadingEnd)]:t.endIconLoadingEnd}]})((t=>{let{ownerState:n,theme:r}=t;return(0,e.A)({["& .".concat(EA.startIconLoadingStart,", & .").concat(EA.endIconLoadingEnd)]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),["&.".concat(EA.loading)]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{["& .".concat(EA.startIconLoadingStart,", & .").concat(EA.endIconLoadingEnd)]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{["& .".concat(EA.startIconLoadingStart,", & .").concat(EA.endIconLoadingEnd)]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginLeft:-8}})})),MA=(0,N.Ay)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.loadingIndicator,t["loadingIndicator".concat((0,ne.A)(n.loadingPosition))]]}})((t=>{let{theme:n,ownerState:r}=t;return(0,e.A)({position:"absolute",visibility:"visible",display:"flex"},"start"===r.loadingPosition&&("outlined"===r.variant||"contained"===r.variant)&&{left:"small"===r.size?10:14},"start"===r.loadingPosition&&"text"===r.variant&&{left:6},"center"===r.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===r.loadingPosition&&("outlined"===r.variant||"contained"===r.variant)&&{right:"small"===r.size?10:14},"end"===r.loadingPosition&&"text"===r.variant&&{right:6},"start"===r.loadingPosition&&r.fullWidth&&{position:"relative",left:-10},"end"===r.loadingPosition&&r.fullWidth&&{position:"relative",right:-10})})),RA=t.forwardRef((function(n,o){const i=t.useContext(Ds),a=(0,Ls.A)(i,n),l=(0,r.A)({props:a,name:"MuiLoadingButton"}),{children:c,disabled:u=!1,id:d,loading:h=!1,loadingIndicator:p,loadingPosition:g="center",variant:m="text"}=l,v=(0,f.A)(l,SA),y=(0,tb.A)(d),b=null!=p?p:(0,s.jsx)(Ty,{"aria-labelledby":y,color:"inherit",size:16}),_=(0,e.A)({},l,{disabled:u,loading:h,loadingIndicator:b,loadingPosition:g,variant:m}),w=(t=>{const{loading:n,loadingPosition:r,classes:o}=t,i={root:["root",n&&"loading"],startIcon:[n&&"startIconLoading".concat((0,ne.A)(r))],endIcon:[n&&"endIconLoading".concat((0,ne.A)(r))],loadingIndicator:["loadingIndicator",n&&"loadingIndicator".concat((0,ne.A)(r))]},s=(0,L.A)(i,AA,o);return(0,e.A)({},o,s)})(_),x=h?(0,s.jsx)(MA,{className:w.loadingIndicator,ownerState:_,children:b}):null;return(0,s.jsxs)(CA,(0,e.A)({disabled:u||h,id:y,ref:o},v,{variant:m,classes:w,ownerState:_,children:["end"===_.loadingPosition?c:x,"end"===_.loadingPosition?x:c]}))})),TA=RA,PA=e=>{let t="https://cityscope.media.mit.edu/CS_cityscopeJS/?cityscope="+e;return(0,s.jsxs)(ce,{color:"textPrimary",variant:"caption",children:["Grid deployed to"," ",(0,s.jsx)(xA,{color:"textSecondary",href:t,children:t})]})},kA=(e,t,n,r)=>{let o={...e},i={};t.forEach((e=>{i[e.name]={...e},i[e.name].LBCS="string"===typeof e.LBCS?JSON.parse(e.LBCS):e.LBCS,i[e.name].NAICS="string"===typeof e.NAICS?JSON.parse(e.NAICS):e.NAICS})),o.properties.types=i,o.properties.header={...r};return["longitude","latitude","rotation","nrows","ncols","cellSize"].forEach((e=>{o.properties.header[e]=parseFloat(o.properties.header[e])})),o.features=n,o},IA=e=>{let t=[];return e.forEach((e=>{t.push(e.properties)})),t};function OA(e){const[n,r]=(0,t.useState)(!1),[o,i]=(0,t.useState)(),a=e.gridProps,l=e.typesList,c=e.generatedGrid,u=c&&c.features&&c.features.length>0;return(0,s.jsxs)(Zt,{children:[(0,s.jsx)(Kn,{children:(0,s.jsx)(ce,{variant:"h4",children:"Upload Grid to cityIO"})}),(0,s.jsxs)("div",{children:[" ",o]}),u&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(TA,{onClick:()=>{r(!0),new Promise((e=>{setTimeout((()=>{r(!1),(async()=>{let e=is.GEOGRID,t=c.features,n=kA(e,l,t,a),r=IA(t),o=n.properties.header.tableName.toLowerCase();const s={GEOGRID:n,GEOGRIDDATA:r},u="https://cityio.media.mit.edu/cityio/api/table/"+o;try{const e=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw new Error("Error creating table");const t=await e.json();return i(PA(o)),t}catch(d){console.error(d.message)}})()}),1500),e()}))},loading:n,fullWidth:!0,loadingPosition:"start",variant:"outlined",startIcon:(0,s.jsx)(pA.A,{}),children:"Upload"})})]})}function LA(e){if(!e.mousePos)return null;const t=e.mousePos,n=e.mouseDown,r=e.selectedType,o=e.divSize;let i=t.x-o/2,a=t.y-o/2;return(0,s.jsx)("div",{style:{border:"2px solid",backgroundColor:n?r.color:"rgba(0,0,0,0)",borderColor:r.color,color:r.color,borderRadius:"15%",position:"fixed",zIndex:1,pointerEvents:"none",width:o,height:o,left:i||0,top:a||0},children:(0,s.jsxs)("div",{style:{position:"absolute",left:o+5,top:o/2,transform:"translate(0, -50%)",color:.299*r.color[0]+.587*r.color[1]+.114*r.color[2]>186?"black":"white",backgroundColor:r.color,padding:"0 5px",borderRadius:"5px",fontSize:"12px",whiteSpace:"nowrap"},children:[r.name||"No type selected",(0,s.jsx)("br",{})]})})}function NA(e,t,n){return(t=Jg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let FA=1,DA=1;class BA{constructor(){NA(this,"time",0),NA(this,"channels",new Map),NA(this,"animations",new Map),NA(this,"playing",!1),NA(this,"lastEngineTime",-1)}addChannel(e){const{delay:t=0,duration:n=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,i=FA++,s={time:0,delay:t,duration:n,rate:r,repeat:o};return this._setChannelTime(s,this.time),this.channels.set(i,s),i}removeChannel(e){this.channels.delete(e);for(const[t,n]of this.animations)n.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const n=this.animations.values();for(const r of n){const{animation:e,channel:t}=r;e.setTime(this.getTime(t))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const n=DA++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}function zA(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}const jA={number:{type:"number",validate:(e,t)=>Number.isFinite(e)&&"object"===typeof t&&(void 0===t.max||e<=t.max)&&(void 0===t.min||e>=t.min)},array:{type:"array",validate:(e,t)=>Array.isArray(e)||ArrayBuffer.isView(e)}};function UA(e){let t=GA(e);if("object"!==t)return{value:e,...jA[t],type:t};if("object"===typeof e)return e?void 0!==e.type?{...e,...jA[e.type],type:e.type}:void 0===e.value?{type:"object",value:e}:(t=GA(e.value),{...e,...jA[t],type:t}):{type:"object",value:null};throw new Error("props")}function GA(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}const HA={vertex:"#ifdef MODULE_LOGDEPTH\nlogdepth_adjustPosition(gl_Position);\n#endif\n",fragment:"#ifdef MODULE_MATERIAL\ngl_FragColor = material_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_LIGHTING\ngl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_FOG\ngl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_PICKING\ngl_FragColor = picking_filterHighlightColor(gl_FragColor);\ngl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n#ifdef MODULE_LOGDEPTH\nlogdepth_setFragDepth();\n#endif\n"},VA=/void\s+main\s*\([^)]*\)\s*\{\n?/,WA=/}\n?[^{}]*$/,XA=[],qA="__LUMA_INJECT_DECLARATIONS__";function KA(e){const t=e.slice(0,2);switch(t){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(t)}}function YA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o="vertex"===t;for(const i in n){const t=n[i];t.sort(((e,t)=>e.order-t.order)),XA.length=t.length;for(let e=0,n=t.length;e<n;++e)XA[e]=t[e].injection;const r="".concat(XA.join("\n"),"\n");switch(i){case"vs:#decl":o&&(e=e.replace(qA,r));break;case"vs:#main-start":o&&(e=e.replace(VA,(e=>e+r)));break;case"vs:#main-end":o&&(e=e.replace(WA,(e=>r+e)));break;case"fs:#decl":o||(e=e.replace(qA,r));break;case"fs:#main-start":o||(e=e.replace(VA,(e=>e+r)));break;case"fs:#main-end":o||(e=e.replace(WA,(e=>r+e)));break;default:e=e.replace(i,(e=>e+r))}}return e=e.replace(qA,""),r&&(e=e.replace(/\}\s*$/,(e=>e+HA[t]))),e}let ZA=1;class QA{static instantiateModules(e){return e.map((e=>{if(e instanceof QA)return e;zA("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(JSON.stringify(e),"' and use it directly.")),e.name||(console.warn("shader module has no name"),e.name="shader-module-".concat(ZA++));const t=new QA(e);return t.dependencies=QA.instantiateModules(e.dependencies||[]),t}))}constructor(e){NA(this,"name",void 0),NA(this,"vs",void 0),NA(this,"fs",void 0),NA(this,"getModuleUniforms",void 0),NA(this,"dependencies",void 0),NA(this,"deprecations",void 0),NA(this,"defines",void 0),NA(this,"injections",void 0),NA(this,"uniforms",{}),NA(this,"uniformTypes",{});const{name:t,vs:n,fs:r,dependencies:o=[],uniformPropTypes:i={},getUniforms:s,deprecations:a=[],defines:l={},inject:c={}}=e;zA("string"===typeof t),this.name=t,this.vs=n,this.fs=r,this.getModuleUniforms=s,this.dependencies=QA.instantiateModules(o),this.deprecations=this._parseDeprecationDefinitions(a),this.defines=l,this.injections=function(e){const t={vertex:{},fragment:{}};for(const n in e){let r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[KA(n)][n]=r}return t}(c),i&&(this.uniforms=function(e){const t={};for(const[n,r]of Object.entries(e))t[n]=UA(r);return t}(i))}getModuleSource(e){let t;switch(e){case"vertex":t=this.vs||"";break;case"fragment":t=this.fs||"";break;default:zA(!1)}const n=this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");return"// ----- MODULE ".concat(this.name," ---------------\n\n#define MODULE_").concat(n,"\n").concat(t,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):function(e,t,n){const r={};for(const[o,i]of Object.entries(t))e&&o in e&&!i.private?(i.validate&&zA(i.validate(e[o],i),"".concat(n,": invalid ").concat(o)),r[o]=e[o]):r[o]=i.value;return r}(e,this.uniforms,this.name)}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach((n=>{var r;null!==(r=n.regex)&&void 0!==r&&r.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}_parseDeprecationDefinitions(e){return e.forEach((e=>{if("function"===e.type)e.regex=new RegExp("\\b".concat(e.old,"\\("));else e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},n=this.uniforms;for(const r in n){const o=n[r];r in e&&!o.private?(o.validate&&zA(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function $A(e){if(e.source&&"webgpu"===e.platformInfo.type){return{...e,vs:void 0,fs:void 0}}if(!e.vs)throw new Error("no vertex shader");const t=JA(e.platformInfo,e.vs);let n;return e.fs&&(n=JA(e.platformInfo,e.fs)),{...e,vs:t,fs:n}}function JA(e,t){if("string"===typeof t)return t;if("webgpu"===e.type){if(null!==t&&void 0!==t&&t.wgsl)return t.wgsl;throw new Error("WebGPU does not support GLSL shaders")}if(null!==t&&void 0!==t&&t.glsl)return t.glsl;throw new Error("WebGL does not support WGSL shaders")}function eE(e){return tE(QA.instantiateModules(e))}function tE(e){const t={},n={};return nE({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort(((e,t)=>n[t]-n[e])).map((e=>t[e]))}function nE(e){const{modules:t,level:n,moduleMap:r,moduleDepth:o}=e;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const i of t)r[i.name]=i,(void 0===o[i.name]||o[i.name]<n)&&(o[i.name]=n);for(const i of t)i.dependencies&&nE({modules:i.dependencies,level:n+1,moduleMap:r,moduleDepth:o})}const rE=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],oE=[...rE,[aE("attribute"),"in $1"],[aE("varying"),"out $1"]],iE=[...rE,[aE("varying"),"in $1"]];function sE(e,t){for(const[n,r]of t)e=e.replace(n,r);return e}function aE(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}function lE(e,t){let n="";for(const r in e){const o=e[r];if(n+="void ".concat(o.signature," {\n"),o.header&&(n+="  ".concat(o.header)),t[r]){const e=t[r];e.sort(((e,t)=>e.order-t.order));for(const t of e)n+="  ".concat(t.injection,"\n")}o.footer&&(n+="  ".concat(o.footer)),n+="}\n"}return n}function cE(e){const t={vertex:{},fragment:{}};for(const n of e){let e,r;"string"!==typeof n?(e=n,r=e.hook):(e={},r=n),r=r.trim();const[o,i]=r.split(":"),s=r.replace(/\(.+/,""),a=Object.assign(e,{signature:i});switch(o){case"vs":t.vertex[s]=a;break;case"fs":t.fragment[s]=a;break;default:throw new Error(o)}}return t}function uE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const n=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(e);return n?n[1]:t}function dE(e){let t=100;const n=e.match(/[^\s]+/g);if(n&&n.length>=2&&"#version"===n[0]){const e=parseInt(n[1],10);Number.isFinite(e)&&(t=e)}if(100!==t&&300!==t)throw new Error("Invalid GLSL version ".concat(t));return t}const hE="\n\n".concat(qA,"\n"),pE="precision highp float;\n";function fE(e,t){const{source:n,stage:r,modules:o,hookFunctions:i=[],inject:s={},log:a}=t;zA("string"===typeof n,"shader source must be a string");const l=n;let c="";const u=cE(i),d={},h={},p={};for(const g in s){const e="string"===typeof s[g]?{injection:s[g],order:0}:s[g],t=/^(v|f)s:(#)?([\w-]+)$/.exec(g);if(t){const n=t[2],r=t[3];n?"decl"===r?h[g]=[e]:p[g]=[e]:d[g]=[e]}else p[g]=[e]}const f="webgpu"!==e.type?o:[];for(const g of f){a&&g.checkDeprecations(l,a);c+=g.getModuleSource(r,"wgsl");const e=g.injections[r];for(const t in e){const n=/^(v|f)s:#([\w-]+)$/.exec(t);if(n){const r="decl"===n[2]?h:p;r[t]=r[t]||[],r[t].push(e[t])}else d[t]=d[t]||[],d[t].push(e[t])}}return c+=hE,c=YA(c,r,h),c+=lE(u[r],d),c+=l,c=YA(c,r,p),c}function gE(e,t){const{id:n,source:r,stage:o,language:i="glsl",modules:s,defines:a={},hookFunctions:l=[],inject:c={},prologue:u=!0,log:d}=t;zA("string"===typeof r,"shader source must be a string");const h="glsl"===i?function(e,t){return{name:uE(e,t),language:"glsl",version:dE(e)}}(r).version:-1,p=e.shaderLanguageVersion,f=100===h?"#version 100":"#version 300 es",g=r.split("\n").slice(1).join("\n"),m={};s.forEach((e=>{Object.assign(m,e.getDefines())})),Object.assign(m,a);let v="";switch(i){case"wgsl":break;case"glsl":v=u?"".concat(f,"\n\n// ----- PROLOGUE -------------------------\n").concat(function(e){const{id:t,source:n,stage:r}=e,o=t&&-1===n.indexOf("SHADER_NAME");return o?"\n#define SHADER_NAME ".concat(t,"_").concat(r,"\n\n"):""}({id:n,source:r,stage:o}),"\n","#define SHADER_TYPE_".concat(o.toUpperCase()),"\n").concat(function(e){switch(null===e||void 0===e?void 0:e.gpu.toLowerCase()){case"apple":return"#define APPLE_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"nvidia":return"#define NVIDIA_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat("fragment"===o?pE:"","\n\n// ----- APPLICATION DEFINES -------------------------\n\n").concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(const n in e){const r=e[n];(r||Number.isFinite(r))&&(t+="#define ".concat(n.toUpperCase()," ").concat(e[n],"\n"))}return t}(m),"\n\n"):"".concat(f,"\n")}const y=cE(l),b={},_={},w={};for(const x in c){const e="string"===typeof c[x]?{injection:c[x],order:0}:c[x],t=/^(v|f)s:(#)?([\w-]+)$/.exec(x);if(t){const n=t[2],r=t[3];n?"decl"===r?_[x]=[e]:w[x]=[e]:b[x]=[e]}else w[x]=[e]}for(const x of s){d&&x.checkDeprecations(g,d);v+=x.getModuleSource(o);const e=x.injections[o];for(const t in e){const n=/^(v|f)s:#([\w-]+)$/.exec(t);if(n){const r="decl"===n[2]?_:w;r[t]=r[t]||[],r[t].push(e[t])}else b[t]=b[t]||[],b[t].push(e[t])}}return v+="// ----- MAIN SHADER SOURCE -------------------------",v+=hE,v=YA(v,o,_),v+=lE(y[o],b),v+=g,v=YA(v,o,w),"glsl"===i&&h!==p&&(v=function(e,t){var n;if(300!==Number((null===(n=e.match(/^#version[ \t]+(\d+)/m))||void 0===n?void 0:n[1])||100))throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(t){case"vertex":return sE(e,oE);case"fragment":return sE(e,iE);default:throw new Error(t)}}(v,o)),v.trim()}function mE(e){return function(t){const n={};for(const r of e){const e=r.getUniforms(t,n);Object.assign(n,e)}return n}}class vE{constructor(){NA(this,"_hookFunctions",[]),NA(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return vE.defaultShaderAssembler=vE.defaultShaderAssembler||new vE,vE.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find((t=>t.name===("string"===typeof e?e:e.name)))||this._defaultModules.push(e)}removeDefaultModule(e){const t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((e=>e.name!==t))}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e)}assembleShader(e){const t=this._getModuleList(e.modules),n=this._hookFunctions,r=$A(e),o=function(e){const t=eE(e.modules||[]);return{source:fE(e.platformInfo,{...e,source:e.source,stage:"vertex",modules:t}),getUniforms:mE(t)}}({platformInfo:e.platformInfo,...r,modules:t,hookFunctions:n});return{...o,modules:t}}assembleShaderPair(e){const t=$A(e),n=this._getModuleList(e.modules),r=this._hookFunctions,{platformInfo:o}=e,i="wgsl"===e.platformInfo.shaderLanguage?function(e){const t=eE(e.modules||[]);return{vs:fE(e.platformInfo,{...e,source:e.vs,stage:"vertex",modules:t}),fs:fE(e.platformInfo,{...e,source:e.fs,stage:"fragment",modules:t}),getUniforms:mE(t)}}({platformInfo:o,...t,modules:n,hookFunctions:r}):function(e){const{vs:t,fs:n}=e,r=eE(e.modules||[]);return{vs:gE(e.platformInfo,{...e,source:t,stage:"vertex",modules:r}),fs:gE(e.platformInfo,{...e,source:n,stage:"fragment",modules:r}),getUniforms:mE(r)}}({platformInfo:o,...t,modules:n,hookFunctions:r});return{...i,modules:n}}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),n={};let r=0;for(let o=0,i=this._defaultModules.length;o<i;++o){const e=this._defaultModules[o],i=e.name;t[r++]=e,n[i]=!0}for(let o=0,i=e.length;o<i;++o){const i=e[o],s=i.name;n[s]||(t[r++]=i,n[s]=!0)}return t.length=r,QA.instantiateModules(t)}}NA(vE,"defaultShaderAssembler",void 0);const yE={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\nfloat sin_taylor_fp32(float a) {\nfloat r, s, t, x;\nif (a == 0.0) {\nreturn 0.0;\n}\nx = -a * a;\ns = a;\nr = a;\nr = r * x;\nt = r * INVERSE_FACTORIAL_3;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_5;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_7;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_9;\ns = s + t;\nreturn s;\n}\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\nif (a == 0.0) {\nsin_t = 0.0;\ncos_t = 1.0;\n}\nsin_t = sin_taylor_fp32(a);\ncos_t = sqrt(1.0 - sin_t * sin_t);\n}\nfloat tan_taylor_fp32(float a) {\nfloat sin_a;\nfloat cos_a;\nif (a == 0.0) {\nreturn 0.0;\n}\nfloat z = floor(a / TWO_PI);\nfloat r = a - TWO_PI * z;\nfloat t;\nfloat q = floor(r / PI_2 + 0.5);\nint j = int(q);\nif (j < -2 || j > 2) {\nreturn 1.0 / 0.0;\n}\nt = r - PI_2 * q;\nq = floor(t / PI_16 + 0.5);\nint k = int(q);\nint abs_k = int(abs(float(k)));\nif (abs_k > 4) {\nreturn 1.0 / 0.0;\n} else {\nt = t - PI_16 * q;\n}\nfloat u = 0.0;\nfloat v = 0.0;\nfloat sin_t, cos_t;\nfloat s, c;\nsincos_taylor_fp32(t, sin_t, cos_t);\nif (k == 0) {\ns = sin_t;\nc = cos_t;\n} else {\nif (abs(float(abs_k) - 1.0) < 0.5) {\nu = COS_TABLE_0;\nv = SIN_TABLE_0;\n} else if (abs(float(abs_k) - 2.0) < 0.5) {\nu = COS_TABLE_1;\nv = SIN_TABLE_1;\n} else if (abs(float(abs_k) - 3.0) < 0.5) {\nu = COS_TABLE_2;\nv = SIN_TABLE_2;\n} else if (abs(float(abs_k) - 4.0) < 0.5) {\nu = COS_TABLE_3;\nv = SIN_TABLE_3;\n}\nif (k > 0) {\ns = u * sin_t + v * cos_t;\nc = u * cos_t - v * sin_t;\n} else {\ns = u * sin_t - v * cos_t;\nc = u * cos_t + v * sin_t;\n}\n}\nif (j == 0) {\nsin_a = s;\ncos_a = c;\n} else if (j == 1) {\nsin_a = c;\ncos_a = -s;\n} else if (j == -1) {\nsin_a = -c;\ncos_a = s;\n} else {\nsin_a = -s;\ncos_a = -c;\n}\nreturn sin_a / cos_a;\n}\n#endif\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nreturn tan_taylor_fp32(a);\n#else\nreturn tan(a);\n#endif\n}\n"},bE="#define SMOOTH_EDGE_RADIUS 0.5",_E={name:"geometry",vs:"\n".concat(bE,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(bE,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};function wE(e){var t,n;if("undefined"!==typeof window&&"renderer"===(null===(t=window.process)||void 0===t?void 0:t.type))return!0;if("undefined"!==typeof process&&Boolean(null===(n=process.versions)||void 0===n?void 0:n.electron))return!0;const r="undefined"!==typeof navigator&&navigator.userAgent,o=e||r;return Boolean(o&&o.indexOf("Electron")>=0)}function xE(){var e;return!("object"===typeof process&&"[object process]"===String(process)&&!(null!==(e=process)&&void 0!==e&&e.browser))||wE()}const AE="4.0.7";class EE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";this.storage=function(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(t){return null}}(n),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}var SE;!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(SE||(SE={}));const CE=10;function ME(e){return"string"!==typeof e?e:(e=e.toUpperCase(),SE[e]||SE.WHITE)}function RE(e,t){if(!e)throw new Error(t||"Assertion failed")}const TE=globalThis,PE=(globalThis.document,globalThis.process||{}),kE=(globalThis.console,globalThis.navigator||{});function IE(){let e;var t,n;if(xE()&&TE.performance)e=null===TE||void 0===TE||null===(t=TE.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in PE){var r;const t=null===PE||void 0===PE||null===(r=PE.hrtime)||void 0===r?void 0:r.call(PE);e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}const OE={debug:xE()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},LE={enabled:!0,level:0};function NE(){}const FE={},DE={once:!0};class BE{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};this.VERSION=AE,this._startTs=IE(),this._deltaTs=IE(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new EE("__probe-".concat(this.id,"__"),LE),this.timeStamp("".concat(this.id," started")),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),o=e;for(const i of r){const n=o[i];"function"===typeof n&&(t.find((e=>i===e))||(o[i]=n.bind(e)))}}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((IE()-this._startTs).toPrecision(10))}getDelta(){return Number((IE()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){if(!e)throw new Error(t||"Assertion failed")}warn(e){return this._getLogFunction(0,e,OE.warn,arguments,DE)}error(e){return this._getLogFunction(0,e,OE.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,OE.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,OE.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,OE.debug||OE.info,arguments,DE)}table(e,t,n){return t?this._getLogFunction(e,t,console.table||NE,n&&[n],{tag:UE(t)}):NE}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||NE)}group(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=jE({logLevel:e,message:t,opts:n}),{collapsed:o}=n;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||NE)}withGroup(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=zE(e)}_getLogFunction(e,t,n,r,o){if(this._shouldLog(e)){o=jE({logLevel:e,message:t,args:r,opts:o}),RE(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=IE();const i=o.tag||o.message;if(o.once&&i){if(FE[i])return NE;FE[i]=IE()}return t=function(e,t,n){if("string"===typeof t){const r=n.time?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(n.total)):"";t=function(e,t,n){if(!xE&&"string"===typeof e){if(t){const n=ME(t);e="\x1b[".concat(n,"m").concat(e,"\x1b[39m")}if(n){const t=ME(n);e="\x1b[".concat(t+CE,"m").concat(e,"\x1b[49m")}}return e}(t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),n.color,n.background)}return t}(this.id,o.message,o),n.bind(console,t,...o.args)}return NE}}function zE(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return RE(Number.isFinite(t)&&t>=0),t}function jE(e){const{logLevel:t,message:n}=e;e.logLevel=zE(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());const o=typeof e.message;return RE("string"===o||"object"===o),Object.assign(e,{args:r},e.opts)}function UE(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}BE.VERSION=AE;const GE=new BE({id:"deck"}),HE={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(HE,"IDENTITY",{get:()=>(GE.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const VE={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},WE={common:0,meters:1,pixels:2},XE={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},qE=Object.keys(HE).map((e=>"const int COORDINATE_SYSTEM_".concat(e," = ").concat(HE[e],";"))).join(""),KE=Object.keys(VE).map((e=>"const int PROJECTION_MODE_".concat(e," = ").concat(VE[e],";"))).join(""),YE=Object.keys(WE).map((e=>"const int UNIT_".concat(e.toUpperCase()," = ").concat(WE[e],";"))).join(""),ZE="".concat(qE,"\n").concat(KE,"\n").concat(YE,"\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size_at_latitude(float lat) {\nfloat y = clamp(lat, -89.9, 89.9);\nreturn 1.0 / cos(radians(y));\n}\nfloat project_size() {\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\nproject_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\nproject_uPseudoMeters == false) {\nif (geometry.position.w == 0.0) {\nreturn project_size_at_latitude(geometry.worldPosition.y);\n}\nfloat y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\nfloat y2 = y * y;\nfloat y4 = y2 * y2;\nfloat y6 = y4 * y2;\nreturn 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n}\nreturn 1.0;\n}\nfloat project_size_at_latitude(float meters, float lat) {\nreturn meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\nfloat project_size(float meters) {\nreturn meters * project_uCommonUnitsPerMeter.z * project_size();\n}\nvec2 project_size(vec2 meters) {\nreturn meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\nvec3 project_size(vec3 meters) {\nreturn meters * project_uCommonUnitsPerMeter * project_size();\n}\nvec4 project_size(vec4 meters) {\nreturn vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nmat3 project_get_orientation_matrix(vec3 up) {\nvec3 uz = normalize(up);\nvec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\nvec3 uy = cross(uz, ux);\nreturn mat3(ux, uy, uz);\n}\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\nif (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\ntransform = project_get_orientation_matrix(commonPosition);\nreturn true;\n}\nreturn false;\n}\nvec3 project_normal(vec3 vector) {\nvec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\nvec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\nmat3 rotation;\nif (project_needs_rotation(geometry.position.xyz, rotation)) {\nn = rotation * n;\n}\nreturn n;\n}\nvec4 project_offset_(vec4 offset) {\nfloat dy = offset.y;\nvec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\nreturn vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\nfloat x = lnglat.x;\nif (project_uWrapLongitude) {\nx = mod(x + 180., 360.0) - 180.;\n}\nfloat y = clamp(lnglat.y, -89.9, 89.9);\nreturn vec2(\nradians(x) + PI,\nPI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n) * WORLD_SCALE;\n}\nvec3 project_globe_(vec3 lnglatz) {\nfloat lambda = radians(lnglatz.x);\nfloat phi = radians(lnglatz.y);\nfloat cosPhi = cos(phi);\nfloat D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\nreturn vec3(\nsin(lambda) * cosPhi,\n-cos(lambda) * cosPhi,\nsin(phi)\n) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\nvec4 position_world = project_uModelMatrix * position;\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nreturn vec4(\nproject_mercator_(position_world.xy),\nproject_size_at_latitude(position_world.z, position_world.y),\nposition_world.w\n);\n}\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\nposition_world.xyz += project_uCoordinateOrigin;\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nreturn vec4(\nproject_globe_(position_world.xyz),\nposition_world.w\n);\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nif (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\nreturn vec4(\nproject_mercator_(position_world.xy) - project_uCommonOrigin.xy,\nproject_size(position_world.z),\nposition_world.w\n);\n}\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n(project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n(project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\nproject_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\nposition_world.xyz -= project_uCoordinateOrigin;\n}\nreturn project_offset_(position_world) + project_offset_(project_uModelMatrix * vec4(position64Low, 0.0));\n}\nvec4 project_position(vec4 position) {\nreturn project_position(position, ZERO_64_LOW);\n}\nvec3 project_position(vec3 position, vec3 position64Low) {\nvec4 projected_position = project_position(vec4(position, 1.0), position64Low);\nreturn projected_position.xyz;\n}\nvec3 project_position(vec3 position) {\nvec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\nreturn projected_position.xyz;\n}\nvec2 project_position(vec2 position) {\nvec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\nreturn projected_position.xy;\n}\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\nreturn viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\nreturn project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\nvec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\nreturn offset * project_uFocalDistance;\n}\nfloat project_size_to_pixel(float meters) {\nreturn project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\nif (unit == UNIT_METERS) return project_size_to_pixel(size);\nif (unit == UNIT_COMMON) return size * project_uScale;\nreturn size;\n}\nfloat project_pixel_size(float pixels) {\nreturn pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\nreturn pixels / project_uScale;\n}\n"),QE=1e-6;let $E="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function JE(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function eS(e){const t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)}function tS(e){const t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o}function nS(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*s,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*s,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*s,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*s,e}!function(){const e=function(){const e=new $E(4);return $E!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function rS(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],g=t[13],m=t[14],v=t[15],y=n*a-r*s,b=n*l-o*s,_=n*c-i*s,w=r*l-o*a,x=r*c-i*a,A=o*c-i*l,E=u*g-d*f,S=u*m-h*f,C=u*v-p*f,M=d*m-h*g,R=d*v-p*g,T=h*v-p*m;let P=y*T-b*R+_*M+w*C-x*S+A*E;return P?(P=1/P,e[0]=(a*T-l*R+c*M)*P,e[1]=(o*R-r*T-i*M)*P,e[2]=(g*A-m*x+v*w)*P,e[3]=(h*x-d*A-p*w)*P,e[4]=(l*C-s*T-c*S)*P,e[5]=(n*T-o*C+i*S)*P,e[6]=(m*_-f*A-v*b)*P,e[7]=(u*A-h*_+p*b)*P,e[8]=(s*R-a*C+c*E)*P,e[9]=(r*C-n*R-i*E)*P,e[10]=(f*x-g*_+v*y)*P,e[11]=(d*_-u*x-p*y)*P,e[12]=(a*S-s*M-l*E)*P,e[13]=(n*M-r*S+o*E)*P,e[14]=(g*b-f*w-m*y)*P,e[15]=(u*w-d*b+h*y)*P,e):null}function oS(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],g=t[12],m=t[13],v=t[14],y=t[15];let b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*a+w*d+x*g,e[1]=b*o+_*l+w*h+x*m,e[2]=b*i+_*c+w*p+x*v,e[3]=b*s+_*u+w*f+x*y,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*a+w*d+x*g,e[5]=b*o+_*l+w*h+x*m,e[6]=b*i+_*c+w*p+x*v,e[7]=b*s+_*u+w*f+x*y,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*a+w*d+x*g,e[9]=b*o+_*l+w*h+x*m,e[10]=b*i+_*c+w*p+x*v,e[11]=b*s+_*u+w*f+x*y,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*a+w*d+x*g,e[13]=b*o+_*l+w*h+x*m,e[14]=b*i+_*c+w*p+x*v,e[15]=b*s+_*u+w*f+x*y,e}function iS(e,t,n){const r=n[0],o=n[1],i=n[2];let s,a,l,c,u,d,h,p,f,g,m,v;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*i+t[12],e[13]=t[1]*r+t[5]*o+t[9]*i+t[13],e[14]=t[2]*r+t[6]*o+t[10]*i+t[14],e[15]=t[3]*r+t[7]*o+t[11]*i+t[15]):(s=t[0],a=t[1],l=t[2],c=t[3],u=t[4],d=t[5],h=t[6],p=t[7],f=t[8],g=t[9],m=t[10],v=t[11],e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=p,e[8]=f,e[9]=g,e[10]=m,e[11]=v,e[12]=s*r+u*o+f*i+t[12],e[13]=a*r+d*o+g*i+t[13],e[14]=l*r+h*o+m*i+t[14],e[15]=c*r+p*o+v*i+t[15]),e}function sS(e,t,n){const r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function aS(e,t,n){const r=Math.sin(n),o=Math.cos(n),i=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=s*o+u*r,e[6]=a*o+d*r,e[7]=l*o+h*r,e[8]=c*o-i*r,e[9]=u*o-s*r,e[10]=d*o-a*r,e[11]=h*o-l*r,e}function lS(e,t,n){const r=Math.sin(n),o=Math.cos(n),i=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=s*o+u*r,e[2]=a*o+d*r,e[3]=l*o+h*r,e[4]=c*o-i*r,e[5]=u*o-s*r,e[6]=d*o-a*r,e[7]=h*o-l*r,e}function cS(e,t){const n=t[0],r=t[1],o=t[2],i=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+o*o),e[1]=Math.sqrt(i*i+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+u*u),e}const uS=function(e,t,n,r,o){const i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0){const t=1/(r-o);e[10]=(o+r)*t,e[14]=2*o*r*t}else e[10]=-1,e[14]=-2*r;return e};const dS=function(e,t,n,r,o,i,s){const a=1/(t-n),l=1/(r-o),c=1/(i-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(o+r)*l,e[14]=(s+i)*c,e[15]=1,e};function hS(e,t){if(e===t)return!0;if(Array.isArray(e)){const n=e.length;if(!t||t.length!==n)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function pS(e){let t,n={};return r=>{for(const o in r)if(!hS(r[o],n[o])){t=e(r),n=r;break}return t}}const fS=[0,0,0,0],gS=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],mS=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],vS=[0,0,0],yS=[0,0,0],bS=pS((function(e){let{viewport:t,devicePixelRatio:n,coordinateSystem:r,coordinateOrigin:o}=e;const{projectionCenter:i,viewProjectionMatrix:s,originCommon:a,cameraPosCommon:l,shaderCoordinateOrigin:c,geospatialOrigin:u}=function(e,t,n){const{viewMatrixUncentered:r,projectionMatrix:o}=e;let{viewMatrix:i,viewProjectionMatrix:s}=e,a=fS,l=fS,c=e.cameraPosition;const{geospatialOrigin:u,shaderCoordinateOrigin:d,offsetMode:h}=_S(e,t,n);h&&(l=e.projectPosition(u||d),c=[c[0]-l[0],c[1]-l[1],c[2]-l[2]],l[3]=1,a=nS([],l,s),i=r||i,s=oS([],o,i),s=oS([],s,gS));return{viewMatrix:i,viewProjectionMatrix:s,projectionCenter:a,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:d,geospatialOrigin:u}}(t,r,o),d=t.getDistanceScales(),h=[t.width*n,t.height*n],p=nS([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,f={project_uCoordinateSystem:r,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:a.slice(0,3),project_uCenter:i,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:h,project_uDevicePixelRatio:n,project_uFocalDistance:p,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:vS,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:s,project_uModelMatrix:mS,project_uCameraPosition:l};if(u){const e=t.getDistanceScales(u);switch(r){case HE.METER_OFFSETS:f.project_uCommonUnitsPerWorldUnit=e.unitsPerMeter,f.project_uCommonUnitsPerWorldUnit2=e.unitsPerMeter2;break;case HE.LNGLAT:case HE.LNGLAT_OFFSETS:t._pseudoMeters||(f.project_uCommonUnitsPerMeter=e.unitsPerMeter),f.project_uCommonUnitsPerWorldUnit=e.unitsPerDegree,f.project_uCommonUnitsPerWorldUnit2=e.unitsPerDegree2;break;case HE.CARTESIAN:f.project_uCommonUnitsPerWorldUnit=[1,1,e.unitsPerMeter[2]],f.project_uCommonUnitsPerWorldUnit2=[0,0,e.unitsPerMeter2[2]]}}return f}));function _S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yS;n.length<3&&(n=[n[0],n[1],0]);let r,o=n,i=!0;switch(r=t===HE.LNGLAT_OFFSETS||t===HE.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case VE.WEB_MERCATOR:t!==HE.LNGLAT&&t!==HE.CARTESIAN||(r=[0,0,0],i=!1);break;case VE.WEB_MERCATOR_AUTO_OFFSET:t===HE.LNGLAT?o=r:t===HE.CARTESIAN&&(o=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(o),o[0]-=n[0],o[1]-=n[1],o[2]-=n[2]);break;case VE.IDENTITY:o=e.position.map(Math.fround),o[2]=o[2]||0;break;case VE.GLOBE:i=!1,r=null;break;default:i=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:o,offsetMode:i}}const wS={};const xS={name:"project",dependencies:[yE,_E],vs:ZE,getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS;return"viewport"in e?function(e){let{viewport:t,devicePixelRatio:n=1,modelMatrix:r=null,coordinateSystem:o=HE.DEFAULT,coordinateOrigin:i=yS,autoWrapLongitude:s=!1}=e;o===HE.DEFAULT&&(o=t.isGeospatial?HE.LNGLAT:HE.CARTESIAN);const a=bS({viewport:t,devicePixelRatio:n,coordinateSystem:o,coordinateOrigin:i});return a.project_uWrapLongitude=s,a.project_uModelMatrix=r||mS,a}(e):{}}},AS=[xS],ES=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function SS(){const e=vE.getDefaultShaderAssembler();for(const t of AS)e.addDefaultModule(t);for(const t of ES)e.addShaderHook(t);return e}const CS="Awaiting state",MS="Matched. State transferred from previous layer",RS="Initialized",TS="Discarded. Awaiting garbage collection",PS="No longer matched. Awaiting garbage collection",kS="Finalized! Awaiting garbage collection",IS=Symbol.for("component"),OS=Symbol.for("propTypes"),LS=Symbol.for("deprecatedProps"),NS=Symbol.for("asyncPropDefaults"),FS=Symbol.for("asyncPropOriginal"),DS=Symbol.for("asyncPropResolved");let BS={};function zS(e){BS=e}function jS(e,t,n,r){GE.level>0&&BS[e]&&BS[e].call(null,t,n,r)}function US(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;return Array.isArray(e)?GS(e,t,[]):t(e)?[e]:[]}function GS(e,t,n){let r=-1;for(;++r<e.length;){const o=e[r];Array.isArray(o)?GS(o,t,n):t(o)&&n.push(o)}return n}function HS(e){let{target:t,source:n,start:r=0,count:o=1}=e;const i=n.length,s=o*i;let a=0;for(let l=r;a<i;a++)t[l++]=n[a];for(;a<s;)a<s-a?(t.copyWithin(r+a,r,r+a),a*=2):(t.copyWithin(r+a,r,r+s-a),a=s);return t}function VS(){let e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof process&&process.hrtime){const t=process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}class WS{constructor(e,t){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=t,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=VS(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(VS()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class XS{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const t of Object.values(this.stats))e(t)}getTable(){const e={};return this.forEach((t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>this._getOrCreate(e)))}_getOrCreate(e){const{name:t,type:n}=e;let r=this.stats[t];return r||(r=e instanceof WS?e:new WS(t,n),this.stats[t]=r),r}}const qS=e=>"boolean"===typeof e,KS=e=>"function"===typeof e,YS=e=>null!==e&&"object"===typeof e,ZS=e=>YS(e)&&e.constructor==={}.constructor,QS=e=>Boolean(e)&&"function"===typeof e[Symbol.iterator],$S=e=>e&&"function"===typeof e[Symbol.asyncIterator],JS=e=>"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,eC=e=>"undefined"!==typeof Blob&&e instanceof Blob,tC=e=>e&&"object"===typeof e&&e.isBuffer,nC=e=>(e=>"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||YS(e)&&KS(e.tee)&&KS(e.cancel)&&KS(e.getReader))(e)||(e=>YS(e)&&KS(e.read)&&KS(e.pipe)&&qS(e.readable))(e);function rC(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function oC(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions)}function iC(e){var t,n;let r;return rC(e,"null loader"),rC(oC(e),"invalid loader"),Array.isArray(e)&&(r=e[1],e=e[0],e={...e,options:{...e.options,...r}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}let sC="";const aC={};class lC extends Error{constructor(e,t){super(e),NA(this,"reason",void 0),NA(this,"url",void 0),NA(this,"response",void 0),this.reason=t.reason,this.url=t.url,this.response=t.response}}const cC=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,uC=/^([-\w.]+\/[-\w.+]+)/;function dC(e,t){return e.toLowerCase()===t.toLowerCase()}function hC(e){const t=cC.exec(e);return t?t[1]:""}const pC=/\?.*/;function fC(e){return e.replace(pC,"")}function gC(e){if(JS(e)){return e.url}if(eC(e)){return e.name||""}return"string"===typeof e?e:""}function mC(e){if(JS(e)){const t=e,n=t.headers.get("content-type")||"",r=fC(t.url);return function(e){const t=uC.exec(e);return t?t[1]:e}(n)||hC(r)}if(eC(e)){return e.type||""}return"string"===typeof e?hC(e):""}async function vC(e){if(JS(e))return e;const t={},n=function(e){if(JS(e))return e.headers["content-length"]||-1;if(eC(e))return e.size;return"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}(e);n>=0&&(t["content-length"]=String(n));const r=gC(e),o=mC(e);o&&(t["content-type"]=o);const i=await async function(e){const t=5;if("string"===typeof e)return"data:,".concat(e.slice(0,t));if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const n=new FileReader;n.onload=t=>{var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},n.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){const n=function(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}(e.slice(0,t));return"data:base64,".concat(n)}return null}(e);i&&(t["x-first-bytes"]=i),"string"===typeof e&&(e=(new TextEncoder).encode(e));const s=new Response(e,{headers:t});return Object.defineProperty(s,"url",{value:r}),s}async function yC(e){if(!e.ok){const t=await async function(e){const n=function(e){if(e.length<50)return e;const t=e.slice(e.length-15),n=e.substr(0,32);return"".concat(n,"...").concat(t)}(e.url);let r="Failed to fetch resource (".concat(e.status,") ").concat(e.statusText,": ").concat(n);r=r.length>100?"".concat(r.slice(0,100),"..."):r;const o={reason:e.statusText,url:e.url,response:e};try{const t=e.headers.get("Content-Type");o.reason=null!==t&&void 0!==t&&t.includes("application/json")?await e.json():e.text()}catch(t){}return new lC(r,o)}(e);throw t}}async function bC(e,t){if("string"===typeof e){const o=function(e){for(const t in aC)if(e.startsWith(t)){const n=aC[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(sC).concat(e)),e}(e);var n,r;if(function(e){return!function(e){return e.startsWith("http:")||e.startsWith("https:")}(e)&&!function(e){return e.startsWith("data:")}(e)}(o))if(null!==(n=globalThis.loaders)&&void 0!==n&&n.fetchNode)return null===(r=globalThis.loaders)||void 0===r?void 0:r.fetchNode(o,t);return await fetch(o,t)}return await vC(e)}const _C=new BE({id:"loaders.gl"});class wC{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof global&&global,"undefined"!==typeof document&&document;const xC=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),AC="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version),EC=(AC&&parseFloat(AC[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){NA(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:xC,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),SC={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function CC(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function MC(){const e=CC();return e.globalOptions=e.globalOptions||{...EC},e.globalOptions}function RC(e,t,n,r){return n=n||[],function(e,t){TC(e,null,EC,SC,t);for(const n of t){const r=e&&e[n.id]||{},o=n.options&&n.options[n.id]||{},i=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};TC(r,n.id,o,i,t)}}(e,n=Array.isArray(n)?n:[n]),kC(t,e,r)}function TC(e,t,n,r,o){const i=t||"Top level",s=t?"".concat(t,"."):"";for(const a in e){const l=!t&&YS(e[a]);if(!(a in n)&&!("baseUri"===a&&!t)&&!("workerUrl"===a&&t))if(a in r)_C.warn("".concat(i," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(r[a],"'"))();else if(!l){const e=PC(a,o);_C.warn("".concat(i," loader option '").concat(s).concat(a,"' not recognized. ").concat(e))()}}}function PC(e,t){const n=e.toLowerCase();let r="";for(const o of t)for(const t in o.options){if(e===t)return"Did you mean '".concat(o.id,".").concat(t,"'?");const i=t.toLowerCase();(n.startsWith(i)||i.startsWith(n))&&(r=r||"Did you mean '".concat(o.id,".").concat(t,"'?"))}return r}function kC(e,t,n){const r={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new wC),IC(r,MC()),IC(r,t),r}function IC(e,t){for(const n in t)if(n in t){const r=t[n];ZS(r)&&ZS(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function OC(e,t){const n=MC(),r=e||n;return"function"===typeof r.fetch?r.fetch:YS(r.fetch)?e=>bC(e,r.fetch):null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:bC}"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof global&&global,"undefined"!==typeof document&&document;const LC="object"!==typeof process||"[object process]"!==String(process)||process.browser,NC="undefined"!==typeof window&&"undefined"!==typeof window.orientation,FC="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);FC&&parseFloat(FC[1]);class DC{terminate(){}}function BC(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const zC=new Map;function jC(e){BC(e.source&&!e.url||!e.source&&e.url);let t=zC.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return UC((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),zC.set(e.url,t)),e.source&&(t=UC(e.source),zC.set(e.source,t))),BC(t),t}function UC(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function GC(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(e){if(HC(e))r.add(e);else if(HC(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(const o in e)GC(e[o],t,r)}else;return void 0===n?Array.from(r):[]}function HC(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}const VC=()=>{};class WC{static isSupported(){return"undefined"!==typeof Worker&&LC||"undefined"!==typeof DC&&!LC}constructor(e){NA(this,"name",void 0),NA(this,"source",void 0),NA(this,"url",void 0),NA(this,"terminated",!1),NA(this,"worker",void 0),NA(this,"onMessage",void 0),NA(this,"onError",void 0),NA(this,"_loadableURL","");const{name:t,source:n,url:r}=e;BC(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=VC,this.onError=e=>console.log(e),this.worker=LC?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=VC,this.onError=VC,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||GC(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=jC({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>console.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new DC(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new DC(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class XC{constructor(e,t){NA(this,"name",void 0),NA(this,"workerThread",void 0),NA(this,"isRunning",!0),NA(this,"result",void 0),NA(this,"_resolve",(()=>{})),NA(this,"_reject",(()=>{})),this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){BC(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){BC(this.isRunning),this.isRunning=!1,this._reject(e)}}class qC{static isSupported(){return WC.isSupported()}constructor(e){NA(this,"name","unnamed"),NA(this,"source",void 0),NA(this,"url",void 0),NA(this,"maxConcurrency",1),NA(this,"maxMobileConcurrency",1),NA(this,"onDebug",(()=>{})),NA(this,"reuseWorkers",!0),NA(this,"props",{}),NA(this,"jobQueue",[]),NA(this,"idleQueue",[]),NA(this,"count",0),NA(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t,n)=>e.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e.error(t);const r=new Promise((r=>(this.jobQueue.push({name:e,onMessage:t,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const r=new XC(t.name,e);e.onMessage=e=>t.onMessage(r,e.type,e.payload),e.onError=e=>t.onError(r,e),t.onStart(r);try{await r.result}catch(n){console.error("Worker exception: ".concat(n))}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!LC||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new WC({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return NC?this.maxMobileConcurrency:this.maxConcurrency}}const KC={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class YC{static isSupported(){return WC.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return YC._workerFarm=YC._workerFarm||new YC({}),YC._workerFarm.setProps(e),YC._workerFarm}constructor(e){NA(this,"props",void 0),NA(this,"workerPools",new Map),this.props={...KC},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:n,url:r}=e;let o=this.workerPools.get(t);return o||(o=new qC({name:t,source:n,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}NA(YC,"_workerFarm",void 0);const ZC="latest";const QC=function(){var e;return null!==(e=globalThis._loadersgl_)&&void 0!==e&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.0-beta.2"),globalThis._loadersgl_.version}();async function $C(e,t,n,r,o){const i=e.id,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t[e.id]||{},r="".concat(e.id,LC?"-worker.js":"-worker-node.js");let o=n.workerUrl;if(o||"compression"!==e.id||(o=t.workerUrl),"test"===t._workerType&&(o=LC?"modules/".concat(e.module,"/dist/").concat(r):"modules/".concat(e.module,"/src/workers/").concat(e.id,"-worker-node.ts")),!o){let t=e.version;"latest"===t&&(t=ZC);const n=t?"@".concat(t):"";o="https://unpkg.com/@loaders.gl/".concat(e.module).concat(n,"/dist/").concat(r)}return BC(o),o}(e,n),a=YC.getWorkerFarm(n).getWorkerPool({name:i,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const l=await a.startJob("process-on-worker",JC.bind(null,o));l.postMessage("process",{input:t,options:n,context:r});const c=await l.result;return await c.result}async function JC(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:s,options:a}=r;try{const n=await e(s,a);t.postMessage("done",{id:i,result:n})}catch(o){const e=o instanceof Error?o.message:"unknown error";t.postMessage("error",{id:i,error:e})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}function eM(e,t){return tM(e||{},t)}function tM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>3)return t;const r={...e};for(const[o,i]of Object.entries(t))i&&"object"===typeof i&&!Array.isArray(i)?r[o]=tM(r[o]||{},t[o],n+1):r[o]=t[o];return r}function nM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const t=e.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),n=t.reduce(((e,t)=>e+t.byteLength),0),r=new Uint8Array(n);let o=0;for(const i of t)r.set(i,o),o+=i.byteLength;return r.buffer}(t)}const rM=262144;const oM=262144;const iM=1048576;function sM(e){if((t=e)&&"object"===typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function aM(e,t){return xC?async function*(e,t){const n=e.getReader();let r;try{for(;;){const e=r||n.read();null!==t&&void 0!==t&&t._streamReadAhead&&(r=n.read());const{done:o,value:i}=await e;if(o)return;yield sM(i)}}catch(o){n.releaseLock()}}(e,t):async function*(e,t){for await(const n of e)yield sM(n)}(e)}function lM(e,t){if("string"===typeof e)return function*(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||rM;let r=0;const o=new TextEncoder;for(;r<e.length;){const t=Math.min(e.length-r,n),i=e.slice(r,r+t);r+=t,yield o.encode(i)}}(e,t);if(e instanceof ArrayBuffer)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=oM}=t;let r=0;for(;r<e.byteLength;){const t=Math.min(e.byteLength-r,n),o=new ArrayBuffer(t),i=new Uint8Array(e,r,t);new Uint8Array(o).set(i),r+=t,yield o}}()}(e,t);if(eC(e))return async function*(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||iM;let r=0;for(;r<e.size;){const t=r+n,o=await e.slice(r,t).arrayBuffer();r=t,yield o}}(e,t);if(nC(e))return aM(e,t);if(JS(e)){return aM(e.body,t)}throw new Error("makeIterator")}const cM="Cannot convert supplied data type";async function uM(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"===typeof e||r)return function(e,t,n){if(t.text&&"string"===typeof e)return e;if(tC(e)&&(e=e.buffer),e instanceof ArrayBuffer){const n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}throw new Error(cM)}(e,t);if(eC(e)&&(e=await vC(e)),JS(e)){const n=e;return await yC(n),t.binary?await n.arrayBuffer():await n.text()}if(nC(e)&&(e=lM(e,n)),QS(e)||$S(e))return async function(e){const t=[];for await(const n of e)t.push(n);return nM(...t)}(e);throw new Error(cM)}function dM(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function hM(e,t,n){if(n)return n;const r={fetch:OC(t,e),...e};if(r.url){const e=fC(r.url);r.baseUrl=e,r.queryString=function(e){const t=e.match(pC);return t&&t[0]}(r.url),r.filename=dM(e),r.baseUrl=function(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}(e)}return Array.isArray(r.loaders)||(r.loaders=null),r}const pM=new BE({id:"loaders.gl"}),fM=()=>{const e=CC();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};const gM=/\.([^.]+)$/;function mM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!vM(e))return null;if(t&&!Array.isArray(t))return iC(t);let o=[];t&&(o=o.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders||o.push(...fM()),function(e){for(const t of e)iC(t)}(o);const i=function(e,t,n,r){const o=gC(e),i=mC(e),s=fC(o)||(null===r||void 0===r?void 0:r.url);let a=null,l="";null!==n&&void 0!==n&&n.mimeType&&(a=bM(t,null===n||void 0===n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType));a=a||function(e,t){const n=t&&gM.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}(e,r):null}(t,s),l=l||(a?"matched url ".concat(s):""),a=a||bM(t,i),l=l||(a?"matched MIME type ".concat(i):""),a=a||function(e,t){if(!t)return null;for(const n of e)if("string"===typeof t){if(_M(t,n))return n}else if(ArrayBuffer.isView(t)){if(wM(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer){if(wM(t,0,n))return n}return null}(t,e),l=l||(a?"matched initial data ".concat(xM(e)):""),null!==n&&void 0!==n&&n.fallbackMimeType&&(a=a||bM(t,null===n||void 0===n?void 0:n.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(i):""));var c;l&&pM.log(1,"selectLoader selected ".concat(null===(c=a)||void 0===c?void 0:c.name,": ").concat(l,"."));return a}(e,o,n,r);if(!i&&(null===n||void 0===n||!n.nothrow))throw new Error(yM(e));return i}function vM(e){return!(e instanceof Response&&204===e.status)}function yM(e){const t=gC(e),n=mC(e);let r="No valid loader found (";r+=t?"".concat(dM(t),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const o=e?xM(e):"";return r+=o?' first bytes: "'.concat(o,'"'):"first bytes: not available",r+=")",r}function bM(e,t){for(const r of e){var n;if(null!==(n=r.mimeTypes)&&void 0!==n&&n.some((e=>dC(t,e))))return r;if(dC(t,"application/x.".concat(r.id)))return r}return null}function _M(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function wM(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((n=>function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),o=new Uint8Array(t);for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e);case"string":return r===AM(e,t,r.length);default:return!1}}(e,t,0,n)))}function xM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return AM(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return AM(e,0,t)}return""}function AM(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let o="";for(let i=0;i<n;i++)o+=String.fromCharCode(r.getUint8(t+i));return o}async function EM(e,t,n,r){!t||Array.isArray(t)||oC(t)||(r=void 0,n=t,t=void 0),n=n||{};const o=gC(e=await e),i=function(e,t){if(e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:void 0}(t,r),s=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!vM(e))return null;let o=mM(e,t,{...n,nothrow:!0},r);if(o)return o;if(eC(e)&&(o=mM(e=await e.slice(0,10).arrayBuffer(),t,n,r)),!o&&(null===n||void 0===n||!n.nothrow))throw new Error(yM(e));return o}(e,i,n);return s?(r=hM({url:o,_parse:EM,loaders:i},n=RC(n,s,i,o),r||null),await async function(e,t,n,r){if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QC;BC(e,"no worker provided");const n=e.version}(e),n=eM(e.options,n),JS(t)){const e=t,{ok:n,redirected:o,status:i,statusText:s,type:a,url:l}=e,c=Object.fromEntries(e.headers.entries());r.response={headers:c,ok:n,redirected:o,status:i,statusText:s,type:a,url:l}}t=await uM(t,e,n);const o=e;if(o.parseTextSync&&"string"===typeof t)return o.parseTextSync(t,n,r);if(function(e,t){return!!YC.isSupported()&&!!(LC||null!==t&&void 0!==t&&t._nodeWorkers)&&e.worker&&(null===t||void 0===t?void 0:t.worker)}(e,n))return await $C(e,t,n,r,EM);if(o.parseText&&"string"===typeof t)return await o.parseText(t,n,r);if(o.parse)return await o.parse(t,n,r);throw BC(!o.parseSync),new Error("".concat(e.id," loader - no parser found and worker is disabled"))}(s,e,n,r)):null}async function SM(e,t,n,r){let o,i;Array.isArray(t)||oC(t)?(o=t,i=n):(o=[],i=t);const s=OC(i);let a=e;return"string"===typeof e&&(a=await s(e)),eC(e)&&(a=await s(e)),Array.isArray(o),await EM(a,o,i)}class CM{constructor(e,t,n){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=n,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(e,t){if(e===this._data&&!t)return;this._data=e;const n=++this._loadCount;let r=e;"string"===typeof e&&(r=SM(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=e)})).catch((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class MM{constructor(e){var t;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:null===(t=e.device)||void 0===t?void 0:t.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add(e){let{resourceId:t,data:n,forceUpdate:r=!1,persistent:o=!0}=e,i=this._resources[t];i?i.setData(n,r):(i=new CM(t,n,this._context),this._resources[t]=i),i.persistent=o}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe(e){let{consumerId:t}=e;const n=this._consumers[t];if(n){for(const e in n){const t=n[e],r=this._resources[t.resourceId];r&&r.unsubscribe(t)}delete this._consumers[t],this.prune()}}subscribe(e){let{resourceId:t,onChange:n,consumerId:r,requestId:o="default"}=e;const{_resources:i,protocol:s}=this;t.startsWith(s)&&(t=t.replace(s,""),i[t]||this.add({resourceId:t,data:null,persistent:!1}));const a=i[t];if(this._track(r,o,a,n),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,n,r){const o=this._consumers,i=o[e]=o[e]||{};let s=i[t];const a=s&&s.resourceId&&this._resources[s.resourceId];a&&(a.unsubscribe(s),this.prune()),n&&(s?(s.onChange=r,s.resourceId=n.id):s={onChange:r,resourceId:n.id},i[t]=s,n.subscribe(s))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];t.persistent||t.inUse()||(t.delete(),delete this._resources[e])}}}const RM=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,n){let{size:r=1,type:o,padding:i=0,copy:s=!1,initialize:a=!1,maxCount:l}=n;const c=o||e&&e.constructor||Float32Array,u=t*r+i;if(ArrayBuffer.isView(e)){if(u<=e.length)return e;if(u*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new c(e.buffer,0,u)}let d=1/0;l&&(d=l*r+i);const h=this._allocate(c,u,a,d);return e&&s?h.set(e):a||h.fill(0,0,4),this._release(e),h}release(e){this._release(e)}_allocate(e,t,n,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const i=this._pool,s=e.BYTES_PER_ELEMENT*o,a=i.findIndex((e=>e.byteLength>=s));if(a>=0){const t=new e(i.splice(a,1)[0],0,o);return n&&t.fill(0),t}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:n}=e,{byteLength:r}=n,o=t.findIndex((e=>e.byteLength>=r));o<0?t.push(n):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,n),t.length>this.opts.poolSize&&t.shift()}};Math.PI,Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};const TM=globalThis.mathgl.config;function PM(e){let{precision:t=TM.precision}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=function(e){return Math.round(e/TM.EPSILON)*TM.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function kM(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IM(e,t,n){return NM(e,(e=>Math.max(t,Math.min(n,e))))}function OM(e,t,n){return kM(e)?e.map(((e,r)=>OM(e,t[r],n))):n*t+(1-n)*e}function LM(e,t,n){const r=TM.EPSILON;n&&(TM.EPSILON=n);try{if(e===t)return!0;if(kM(e)&&kM(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!LM(e[n],t[n]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=TM.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{TM.EPSILON=r}}function NM(e,t,n){if(kM(e)){const r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(let o=0;o<n.length&&o<r.length;++o){const r="number"===typeof e?e:e[o];n[o]=t(r,o,n)}return n}return t(e)}class FM extends Array{clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:kM(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(TM)}formatString(e){let t="";for(let n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+PM(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!LM(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r],i="number"===typeof t?t:t[r];this[r]=o+n*(i-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]+=r[e];return this.check()}subtract(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]-=r[e];return this.check()}scale(e){if("number"===typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(TM.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}get elements(){return this}}function DM(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(JSON.stringify(e)));return e}function BM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(TM.debug&&!function(e,t){if(e.length!==t)return!1;for(let n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}function zM(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}class jM extends FM{get x(){return this[0]}set x(e){this[0]=DM(e)}get y(){return this[1]}set y(e){this[1]=DM(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let n=0;n<this.ELEMENTS;++n){const r=this[n]-e[n];t+=r*r}return DM(t)}dot(e){let t=0;for(let n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return DM(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=r[e];return this.check()}divide(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=r[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return zM(e>=0&&e<this.ELEMENTS,"index is out of range"),DM(this[e])}setComponent(e,t){return zM(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}function UM(){const e=new $E(3);return $E!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function GM(e,t,n){const r=new $E(3);return r[0]=e,r[1]=t,r[2]=n,r}function HM(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function VM(e,t,n){const r=t[0],o=t[1],i=t[2],s=n[0],a=n[1],l=n[2];return e[0]=o*l-i*a,e[1]=i*s-r*l,e[2]=r*a-o*s,e}function WM(e,t,n){const r=t[0],o=t[1],i=t[2];let s=n[3]*r+n[7]*o+n[11]*i+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/s,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/s,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/s,e}function XM(e,t,n){const r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function qM(e,t,n){const r=n[0],o=n[1],i=n[2],s=n[3],a=t[0],l=t[1],c=t[2];let u=o*c-i*l,d=i*a-r*c,h=r*l-o*a,p=o*h-i*d,f=i*u-r*h,g=r*d-o*u;const m=2*s;return u*=m,d*=m,h*=m,p*=2,f*=2,g*=2,e[0]=a+u+p,e[1]=l+d+f,e[2]=c+h+g,e}const KM=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},YM=function(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},ZM=function(e){const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};!function(){const e=UM()}();function QM(e,t,n){const r=t[0],o=t[1],i=t[2],s=n[3]*r+n[7]*o+n[11]*i||1;return e[0]=(n[0]*r+n[4]*o+n[8]*i)/s,e[1]=(n[1]*r+n[5]*o+n[9]*i)/s,e[2]=(n[2]*r+n[6]*o+n[10]*i)/s,e}function $M(e,t,n){const r=t[0],o=t[1],i=t[2];return e[0]=n[0]*r+n[3]*o+n[6]*i,e[1]=n[1]*r+n[4]*o+n[7]*i,e[2]=n[2]*r+n[5]*o+n[8]*i,e[3]=t[3],e}const JM=[0,0,0];let eR;class tR extends jM{static get ZERO(){return eR||(eR=new tR(0,0,0),Object.freeze(eR)),eR}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(-0,-0,-0),1===arguments.length&&kM(e)?this.copy(e):(TM.debug&&(DM(e),DM(t),DM(n)),this[0]=e,this[1]=t,this[2]=n)}set(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return TM.debug&&(DM(e.x),DM(e.y),DM(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=DM(e)}angle(e){return function(e,t){const n=e[0],r=e[1],o=e[2],i=t[0],s=t[1],a=t[2],l=Math.sqrt((n*n+r*r+o*o)*(i*i+s*s+a*a)),c=l&&HM(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))}(this,e)}cross(e){return VM(this,this,e),this.check()}rotateX(e){let{radians:t,origin:n=JM}=e;return function(e,t,n,r){const o=[],i=[];o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2]}(this,this,n,t),this.check()}rotateY(e){let{radians:t,origin:n=JM}=e;return function(e,t,n,r){const o=[],i=[];o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2]}(this,this,n,t),this.check()}rotateZ(e){let{radians:t,origin:n=JM}=e;return function(e,t,n,r){const o=[],i=[];o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2]}(this,this,n,t),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return WM(this,this,e),this.check()}transformAsVector(e){return QM(this,this,e),this.check()}transformByMatrix3(e){return XM(this,this,e),this.check()}transformByMatrix2(e){return function(e,t,n){const r=t[0],o=t[1];e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e[2]=t[2]}(this,this,e),this.check()}transformByQuaternion(e){return qM(this,this,e),this.check()}}const nR=new tR;function rR(e,t,n,r){nR.set(e,t,n);const o=nR.len();return{distance:r/o,normal:new tR(-e/o,-t/o,-n/o)}}let oR;function iR(e,t){const{size:n=1,startIndex:r=0}=t,o=void 0!==t.endIndex?t.endIndex:e.length,i=(o-r)/n;oR=RM.allocate(oR,i,{type:Float32Array,size:2*n});let s=r,a=0;for(;s<o;){for(let t=0;t<n;t++){const r=e[s++];oR[a+t]=r,oR[a+t+n]=(l=r)-Math.fround(l)}a+=2*n}var l;return oR.subarray(0,i*n*2)}function sR(e){let t=null,n=!1;for(const r of e)r&&(t?(n||(t=[[t[0][0],t[0][1]],[t[1][0],t[1][1]]],n=!0),t[0][0]=Math.min(t[0][0],r[0][0]),t[0][1]=Math.min(t[0][1],r[0][1]),t[1][0]=Math.max(t[1][0],r[1][0]),t[1][1]=Math.max(t[1][1],r[1][1])):t=r);return t}class aR extends FM{toString(){let e="[";if(TM.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,n){return this[t*this.RANK+e]=DM(n),this}getColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0);const n=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[n+r];return t}setColumn(e,t){const n=e*this.RANK;for(let r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}function lR(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function cR(e,t,n,r){const o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e}!function(){const e=function(){const e=new $E(2);return $E!=Float32Array&&(e[0]=0,e[1]=0),e}()}();var uR;!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(uR||(uR={}));const dR=45*Math.PI/180,hR=1,pR=.1,fR=500,gR=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class mR extends aR{static get IDENTITY(){return function(){yR||(yR=new mR,Object.freeze(yR));return yR}()}static get ZERO(){return function(){vR||(vR=new mR([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(vR));return vR}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return uR}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,n,r,o,i,s,a,l,c,u,d,h,p,f,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=o,this[5]=i,this[6]=s,this[7]=a,this[8]=l,this[9]=c,this[10]=u,this[11]=d,this[12]=h,this[13]=p,this[14]=f,this[15]=g,this.check()}setRowMajor(e,t,n,r,o,i,s,a,l,c,u,d,h,p,f,g){return this[0]=e,this[1]=o,this[2]=l,this[3]=h,this[4]=t,this[5]=i,this[6]=c,this[7]=p,this[8]=n,this[9]=s,this[10]=u,this[11]=f,this[12]=r,this[13]=a,this[14]=d,this[15]=g,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(gR)}fromObject(e){return this.check()}fromQuaternion(e){return function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],s=n+n,a=r+r,l=o+o,c=n*s,u=r*s,d=r*a,h=o*s,p=o*a,f=o*l,g=i*s,m=i*a,v=i*l;e[0]=1-d-f,e[1]=u+v,e[2]=h-m,e[3]=0,e[4]=u-v,e[5]=1-c-f,e[6]=p+g,e[7]=0,e[8]=h+m,e[9]=p-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:n,bottom:r,top:o,near:i=pR,far:s=fR}=e;return s===1/0?function(e,t,n,r,o,i){const s=2*i/(n-t),a=2*i/(o-r),l=(n+t)/(n-t),c=(o+r)/(o-r),u=-1,d=-1,h=-2*i;e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=l,e[9]=c,e[10]=u,e[11]=d,e[12]=0,e[13]=0,e[14]=h,e[15]=0}(this,t,n,r,o,i):function(e,t,n,r,o,i,s){const a=1/(n-t),l=1/(o-r),c=1/(i-s);e[0]=2*i*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(o+r)*l,e[10]=(s+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*i*2*c,e[15]=0}(this,t,n,r,o,i,s),this.check()}lookAt(e){const{eye:t,center:n=[0,0,0],up:r=[0,1,0]}=e;return function(e,t,n,r){let o,i,s,a,l,c,u,d,h,p;const f=t[0],g=t[1],m=t[2],v=r[0],y=r[1],b=r[2],_=n[0],w=n[1],x=n[2];Math.abs(f-_)<QE&&Math.abs(g-w)<QE&&Math.abs(m-x)<QE?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(d=f-_,h=g-w,p=m-x,o=1/Math.sqrt(d*d+h*h+p*p),d*=o,h*=o,p*=o,i=y*p-b*h,s=b*d-v*p,a=v*h-y*d,o=Math.sqrt(i*i+s*s+a*a),o?(o=1/o,i*=o,s*=o,a*=o):(i=0,s=0,a=0),l=h*a-p*s,c=p*i-d*a,u=d*s-h*i,o=Math.sqrt(l*l+c*c+u*u),o?(o=1/o,l*=o,c*=o,u*=o):(l=0,c=0,u=0),e[0]=i,e[1]=l,e[2]=d,e[3]=0,e[4]=s,e[5]=c,e[6]=h,e[7]=0,e[8]=a,e[9]=u,e[10]=p,e[11]=0,e[12]=-(i*f+s*g+a*m),e[13]=-(l*f+c*g+u*m),e[14]=-(d*f+h*g+p*m),e[15]=1)}(this,t,n,r),this.check()}ortho(e){const{left:t,right:n,bottom:r,top:o,near:i=pR,far:s=fR}=e;return dS(this,t,n,r,o,i,s),this.check()}orthographic(e){const{fovy:t=dR,aspect:n=hR,focalDistance:r=1,near:o=pR,far:i=fR}=e;bR(t);const s=t/2,a=r*Math.tan(s),l=a*n;return this.ortho({left:-l,right:l,bottom:-a,top:a,near:o,far:i})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:n=1,near:r=.1,far:o=500}=e;return bR(t),uS(this,t,n,r,o),this.check()}determinant(){return function(e){const t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],g=e[14],m=t*s-n*i,v=t*a-r*i,y=n*a-r*s,b=c*f-u*p,_=c*g-d*p,w=u*g-d*f;return l*(t*w-n*_+r*b)-o*(i*w-s*_+a*b)+e[15]*(c*y-u*v+d*m)-h*(p*y-f*v+g*m)}(this)}getScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],o=1/n[1],i=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*i,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*i,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],o=1/n[1],i=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*i,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*i,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*i,e}transpose(){return function(e,t){if(e===t){const n=t[1],r=t[2],o=t[3],i=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}invert(){return rS(this,this),this.check()}multiplyLeft(e){return oS(this,e,this),this.check()}multiplyRight(e){return oS(this,this,e),this.check()}rotateX(e){return aS(this,this,e),this.check()}rotateY(e){return function(e,t,n){const r=Math.sin(n),o=Math.cos(n),i=t[0],s=t[1],a=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=s*o-u*r,e[2]=a*o-d*r,e[3]=l*o-h*r,e[8]=i*r+c*o,e[9]=s*r+u*o,e[10]=a*r+d*o,e[11]=l*r+h*o}(this,this,e),this.check()}rotateZ(e){return lS(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function(e,t,n,r){let o,i,s,a,l,c,u,d,h,p,f,g,m,v,y,b,_,w,x,A,E,S,C,M,R=r[0],T=r[1],P=r[2],k=Math.sqrt(R*R+T*T+P*P);k<QE||(k=1/k,R*=k,T*=k,P*=k,i=Math.sin(n),o=Math.cos(n),s=1-o,a=t[0],l=t[1],c=t[2],u=t[3],d=t[4],h=t[5],p=t[6],f=t[7],g=t[8],m=t[9],v=t[10],y=t[11],b=R*R*s+o,_=T*R*s+P*i,w=P*R*s-T*i,x=R*T*s-P*i,A=T*T*s+o,E=P*T*s+R*i,S=R*P*s+T*i,C=T*P*s-R*i,M=P*P*s+o,e[0]=a*b+d*_+g*w,e[1]=l*b+h*_+m*w,e[2]=c*b+p*_+v*w,e[3]=u*b+f*_+y*w,e[4]=a*x+d*A+g*E,e[5]=l*x+h*A+m*E,e[6]=c*x+p*A+v*E,e[7]=u*x+f*A+y*E,e[8]=a*S+d*C+g*M,e[9]=l*S+h*C+m*M,e[10]=c*S+p*C+v*M,e[11]=u*S+f*C+y*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}scale(e){return sS(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return iS(this,this,e),this.check()}transform(e,t){return 4===e.length?(BM(t=nS(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:n}=e;let r;switch(n){case 2:r=function(e,t,n){const r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}(t||[-0,-0],e,this);break;case 3:r=WM(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return BM(r,e.length),r}transformAsVector(e,t){let n;switch(e.length){case 2:n=function(e,t,n){const r=t[0],o=t[1],i=n[3]*r+n[7]*o||1;return e[0]=(n[0]*r+n[4]*o)/i,e[1]=(n[1]*r+n[5]*o)/i,e}(t||[-0,-0],e,this);break;case 3:n=QM(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return BM(n,e.length),n}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,n){return this.identity().translate([e,t,n])}}let vR,yR;function bR(e){if(e>2*Math.PI)throw Error("expected radians")}function _R(e,t){const n=nS([],t,e);return JE(n,n,1/n[3]),n}function wR(e,t){const n=e%t;return n<0?t+n:n}function xR(e,t,n){return e<t?t:e>n?n:e}const AR=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function ER(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}const SR=Math.PI,CR=SR/4,MR=SR/180,RR=180/SR,TR=512,PR=4003e4,kR=85.051129,IR=1.5;function OR(e){const[t,n]=e;ER(Number.isFinite(t)),ER(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=n*MR;return[TR*(t*MR+SR)/(2*SR),TR*(SR+Math.log(Math.tan(CR+.5*r)))/(2*SR)]}function LR(e){const[t,n]=e,r=t/TR*(2*SR)-SR,o=2*(Math.atan(Math.exp(n/TR*(2*SR)-SR))-CR);return[r*RR,o*RR]}function NR(e){const{latitude:t}=e;ER(Number.isFinite(t));const n=Math.cos(t*MR);return function(e){return AR(e)}(PR*n)-9}function FR(e){const t=Math.cos(e*MR);return TR/PR/t}function DR(e){const{latitude:t,longitude:n,highPrecision:r=!1}=e;ER(Number.isFinite(t)&&Number.isFinite(n));const o=TR,i=Math.cos(t*MR),s=o/360,a=s/i,l=o/PR/i,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,a,l],degreesPerUnit:[1/s,1/a,1/l]};if(r){const e=MR*Math.tan(t*MR)/i,n=s*e/2,r=o/PR*e,u=r/a*l;c.unitsPerDegree2=[0,n,r],c.unitsPerMeter2=[u,0,u]}return c}function BR(e,t){const[n,r,o]=e,[i,s,a]=t,{unitsPerMeter:l,unitsPerMeter2:c}=DR({longitude:n,latitude:r,highPrecision:!0}),u=OR(e);u[0]+=i*(l[0]+c[0]*s),u[1]+=s*(l[1]+c[1]*s);const d=LR(u),h=(o||0)+(a||0);return Number.isFinite(o)||Number.isFinite(a)?[d[0],d[1],h]:d}function zR(e){const{width:t,height:n,altitude:r,pitch:o=0,offset:i,center:s,scale:a,nearZMultiplier:l=1,farZMultiplier:c=1}=e;let{fovy:u=jR(IR)}=e;void 0!==r&&(u=jR(r));const d=u*MR,h=o*MR,p=UR(u);let f=p;s&&(f+=s[2]*a/Math.cos(h)/n);const g=d*(.5+(i?i[1]:0)/n),m=Math.sin(g)*f/Math.sin(xR(Math.PI/2-h-g,.01,Math.PI-.01)),v=Math.sin(h)*m+f,y=10*f;return{fov:d,aspect:t/n,focalDistance:p,near:l,far:Math.min(v*c,y)}}function jR(e){return 2*Math.atan(.5/e)*RR}function UR(e){return.5/Math.tan(.5*e*MR)}function GR(e,t){const[n,r,o=0]=e;return ER(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o)),_R(t,[n,r,o,1])}function HR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,o,i]=e;if(ER(Number.isFinite(r)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(i)){return _R(t,[r,o,i,1])}const s=_R(t,[r,o,0,1]),a=_R(t,[r,o,1,1]),l=s[2],c=a[2];return cR([],s,a,l===c?0:((n||0)-l)/(c-l))}function VR(e){const{width:t,height:n,bounds:r,minExtent:o=0,maxZoom:i=24,offset:s=[0,0]}=e,[[a,l],[c,u]]=r,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof e)return{top:e,bottom:e,left:e,right:e};return ER(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e}(e.padding),h=OR([a,xR(u,-85.051129,kR)]),p=OR([c,xR(l,-85.051129,kR)]),f=[Math.max(Math.abs(p[0]-h[0]),o),Math.max(Math.abs(p[1]-h[1]),o)],g=[t-d.left-d.right-2*Math.abs(s[0]),n-d.top-d.bottom-2*Math.abs(s[1])];ER(g[0]>0&&g[1]>0);const m=g[0]/f[0],v=g[1]/f[1],y=(d.right-d.left)/2/m,b=(d.top-d.bottom)/2/v,_=LR([(p[0]+h[0])/2+y,(p[1]+h[1])/2+b]),w=Math.min(i,AR(Math.abs(Math.min(m,v))));return ER(Number.isFinite(w)),{longitude:_[0],latitude:_[1],zoom:w}}const WR=Math.PI/180;function XR(e,t,n){const{pixelUnprojectionMatrix:r}=e,o=_R(r,[t,0,1,1]),i=_R(r,[t,e.height,1,1]),s=LR(cR([],o,i,(n*e.distanceScales.unitsPerMeter[2]-o[2])/(i[2]-o[2])));return s.push(n),s}const qR=Math.PI/180,KR=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],YR=[0,0,0],ZR={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class QR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||ZR,this.focalDistance=e.focalDistance||1,this.position=e.position||YR,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?VE.WEB_MERCATOR:VE.WEB_MERCATOR_AUTO_OFFSET:VE.IDENTITY}equals(e){return e instanceof QR&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&LM(e.projectionMatrix,this.projectionMatrix)&&LM(e.viewMatrix,this.viewMatrix))}project(e){let{topLeft:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=GR(this.projectPosition(e),this.pixelProjectionMatrix),[r,o]=n,i=t?o:this.height-o;return 2===e.length?[r,i]:[r,i,n[2]]}unproject(e){let{topLeft:t=!0,targetZ:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,o,i]=e,s=t?o:this.height-o,a=n&&n*this.distanceScales.unitsPerMeter[2],l=HR([r,s,i],this.pixelUnprojectionMatrix,a),[c,u,d]=this.unprojectPosition(l);return Number.isFinite(i)?[c,u,d]:Number.isFinite(n)?[c,u,n]:[c,u]}projectPosition(e){const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=OR(e);return t[1]=IM(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?LR(e):e}getBounds(){const e={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},t=this.unproject([0,0],e),n=this.unproject([this.width,0],e),r=this.unproject([0,this.height],e),o=this.unproject([this.width,this.height],e);return[Math.min(t[0],n[0],r[0],o[0]),Math.min(t[1],n[1],r[1],o[1]),Math.max(t[0],n[0],r[0],o[0]),Math.max(t[1],n[1],r[1],o[1])]}getDistanceScales(e){return e?DR({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel(e){let{x:t,y:n,width:r=1,height:o=1}=e;return t<this.x+this.width&&this.x<t+r&&n<this.y+this.height&&this.y<n+o}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,{left:rR((e=this.viewProjectionMatrix)[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:rR(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:rR(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:rR(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:rR(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:rR(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}),this._frustumPlanes;var e}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=NR({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||DR({latitude:n,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:i}=e;let s=YR;if(o&&(s=i?new mR(i).transformAsVector(o,[]):o),this.isGeospatial){const e=this.projectPosition([t,n,0]);this.center=new tR(s).scale(this.distanceScales.unitsPerMeter).add(e)}else this.center=this.projectPosition(s)}_initMatrices(e){const{viewMatrix:t=KR,projectionMatrix:n=null,orthographic:r=!1,fovyRadians:o,fovy:i=75,near:s=.1,far:a=1e3,padding:l=null,focalDistance:c=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new mR).multiplyRight(t).translate(new tR(this.center).negate()),this.projectionMatrix=n||function(e){let{width:t,height:n,orthographic:r,fovyRadians:o,focalDistance:i,padding:s,near:a,far:l}=e;const c=t/n,u=r?(new mR).orthographic({fovy:o,aspect:c,focalDistance:i,near:a,far:l}):(new mR).perspective({fovy:o,aspect:c,near:a,far:l});if(s){const{left:e=0,right:r=0,top:o=0,bottom:i=0}=s,a=IM((e+t-r)/2,0,t)-t/2,l=IM((o+n-i)/2,0,n)-n/2;u[8]-=2*a/t,u[9]+=2*l/n}return u}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||i*qR,focalDistance:c,padding:l,near:s,far:a});const u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var d;oS(u,u,this.projectionMatrix),oS(u,u,this.viewMatrix),this.viewProjectionMatrix=u,this.viewMatrixInverse=rS([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=[(d=this.viewMatrixInverse)[12],d[13],d[14]];const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];sS(h,h,[this.width/2,-this.height/2,1]),iS(h,h,[1,-1,0]),oS(p,h,this.viewProjectionMatrix),this.pixelProjectionMatrix=p,this.pixelUnprojectionMatrix=rS([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||GE.warn("Pixel project matrix not invertible")()}}QR.displayName="Viewport";class $R{constructor(e,t){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=e=>{jS("layerManager.activateViewport",this,e),e&&(this.context.viewport=e)};const{deck:n,stats:r,viewport:o,timeline:i}=t||{};this.layers=[],this.resourceManager=new MM({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:null===e||void 0===e?void 0:e.gl,deck:n,shaderAssembler:SS(),defaultShaderModules:[],renderPass:void 0,stats:r||new XS({id:"deck.gl"}),viewport:o||new QR({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:i||new BA,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const r=n.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers(){let{layerIds:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?this.layers.filter((t=>e.find((e=>0===t.id.indexOf(e))))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){jS("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const n=US(e,Boolean);for(const r of n)r.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:t}=this.context;t.find((t=>t.name===e.name))||(t.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:t}=this.context,n=t.findIndex((t=>t.name===e.name));n>=0&&(t.splice(n,1),this._defaultShaderModulesChanged=!0)}_handleError(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}_updateLayers(e,t){const n={};for(const i of e)n[i.id]?GE.warn("Multiple old layers with same id ".concat(i.id))():n[i.id]=i;if(this._defaultShaderModulesChanged){for(const t of e)t.setNeedsUpdate(),t.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const r=[];this._updateSublayersRecursively(t,n,r),this._finalizeOldLayers(n);let o=!1;for(const i of r)if(i.hasUniformTransition()){o="Uniform transition in ".concat(i);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,n){for(const o of e){o.context=this.context;const e=t[o.id];null===e&&GE.warn("Multiple new layers with same id ".concat(o.id))(),t[o.id]=null;let i=null;try{this._debug&&e!==o&&o.validateProps(),e?(this._transferLayerState(e,o),this._updateLayer(o)):this._initializeLayer(o),n.push(o),i=o.isComposite?o.getSubLayers():null}catch(r){this._handleError("matching",r,o)}i&&this._updateSublayersRecursively(i,t,n)}}_finalizeOldLayers(e){for(const t in e){const n=e[t];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=RS}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=MS,t!==e&&(e.lifecycle=TS)}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=PS;try{e._finalize(),e.lifecycle=kS}catch(t){this._handleError("finalization",t,e)}}}function JR(e,t,n){if(e===t)return!0;if(!n||!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!JR(e[r],t[r],n-1))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const i of r){if(!t.hasOwnProperty(i))return!1;if(!JR(e[i],t[i],n-1))return!1}return!0}return!1}class eT{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter((t=>t.containsPixel(e))):this._viewports}getViews(){const e={};return this.views.forEach((t=>{e[t.id]=t})),e}getView(e){return this.views.find((t=>t.id===e))}getViewState(e){const t="string"===typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,t){const n=this.getViewports(),r={x:e[0],y:e[1]};for(let o=n.length-1;o>=0;--o){const i=n[o];if(i.containsPixel(r)){const n=e.slice();return n[0]-=i.x,n[1]-=i.y,i.unproject(n,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=US(e,Boolean);this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){if(e){!JR(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e}else GE.warn("missing `viewState` or `initialViewState`")()}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:t=>{var n;return null===(n=this.getView(e.id))||void 0===n?void 0:n.makeViewport({viewState:t,width:this.width,height:this.height})}})}_updateController(e,t,n,r){const o=e.controller;if(o&&n){const i={...t,...o,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return r&&r.constructor===o.type||(r=this._createController(e,i)),r&&r.setProps(i),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let r=e.length;r--;){const o=e[r],i=this.getViewState(o),s=o.makeViewport({viewState:i,width:this.width,height:this.height});let a=t[o.id];const l=Boolean(o.controller);l&&!a&&(n=!0),!n&&l||!a||(a.finalize(),a=null),this.controllers[o.id]=this._updateController(o,i,s,a),s&&this._viewports.unshift(s)}for(const r in t){const e=t[r];e&&!this.controllers[r]&&e.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)}))}_diffViews(e,t){return e.length!==t.length||e.some(((n,r)=>!e[r].equals(t[r])))}}const tT=/([0-9]+\.?[0-9]*)(%|px)/;function nT(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":const t=tT.exec(e);if(t&&t.length>=3){const e="%"===t[2],n=parseFloat(t[1]);return{position:e?n/100:n,relative:e}}default:throw new Error("Could not parse position string ".concat(e))}}function rT(e,t){return e.relative?Math.round(e.position*t):e.position}class oT{constructor(e){const{id:t,x:n=0,y:r=0,width:o="100%",height:i="100%",padding:s=null}=e;this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=nT(n),this._y=nT(r),this._width=nT(o),this._height=nT(i),this._padding=s&&{left:nT(s.left||0),right:nT(s.right||0),top:nT(s.top||0),bottom:nT(s.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||this.ViewportType===e.ViewportType&&JR(this.props,e.props,2)}makeViewport(e){let{width:t,height:n,viewState:r}=e;r=this.filterViewState(r);const o=this.getDimensions({width:t,height:n});return o.height&&o.width?new this.ViewportType({...r,...this.props,...o}):null}getViewStateId(){const{viewState:e}=this.props;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const e in this.props.viewState)"id"!==e&&(t[e]=this.props.viewState[e]);return t}return e}getDimensions(e){let{width:t,height:n}=e;const r={x:rT(this._x,t),y:rT(this._y,n),width:rT(this._width,t),height:rT(this._height,n)};return this._padding&&(r.padding={left:rT(this._padding.left,t),top:rT(this._padding.top,n),right:rT(this._padding.right,t),bottom:rT(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:{type:this.ControllerType,...e}:null}}class iT extends QR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{latitude:t=0,longitude:n=0,zoom:r=0,pitch:o=0,bearing:i=0,nearZMultiplier:s=.1,farZMultiplier:a=1.01,nearZ:l,farZ:c,orthographic:u=!1,projectionMatrix:d,repeat:h=!1,worldOffset:p=0,position:f,padding:g,legacyMeterSizes:m=!1}=e;let{width:v,height:y,altitude:b=1.5}=e;const _=Math.pow(2,r);let w;v=v||1,y=y||1;let x=null;if(d)b=d[5]/2,w=jR(b);else{let n;if(e.fovy?(w=e.fovy,b=UR(w)):w=jR(b),g){const{top:e=0,bottom:t=0}=g;n=[0,IM((e+y-t)/2,0,y)-y/2]}x=zR({width:v,height:y,scale:_,center:f&&[0,0,f[2]*FR(t)],offset:n,pitch:o,fovy:w,nearZMultiplier:s,farZMultiplier:a}),Number.isFinite(l)&&(x.near=l),Number.isFinite(c)&&(x.far=c)}let A=function(e){const{height:t,pitch:n,bearing:r,altitude:o,scale:i,center:s}=e,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];iS(a,a,[0,0,-o]),aS(a,a,-n*MR),lS(a,a,r*MR);const l=i/t;var c,u;return sS(a,a,[l,l,l]),s&&iS(a,a,((c=[])[0]=-(u=s)[0],c[1]=-u[1],c[2]=-u[2],c)),a}({height:y,pitch:o,bearing:i,scale:_,altitude:b});if(p){A=(new mR).translate([512*p,0,0]).multiplyLeft(A)}super({...e,width:v,height:y,viewMatrix:A,longitude:n,latitude:t,zoom:r,...x,fovy:w,focalDistance:b}),this.latitude=t,this.longitude=n,this.zoom=r,this.pitch=o,this.bearing=i,this.altitude=b,this.fovy=w,this.orthographic=u,this._subViewports=h?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let r=t;r<=n;r++){const e=r?new iT({...this,worldOffset:r}):this;this._subViewports.push(e)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*FR(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)/FR(n)]}addMetersToLngLat(e,t){return BR(e,t)}panByPosition(e,t){const n=HR(t,this.pixelUnprojectionMatrix),r=lR([],this.projectFlat(e),((o=[])[0]=-(i=n)[0],o[1]=-i[1],o));var o,i;const s=lR([],this.center,r),[a,l]=this.unprojectFlat(s);return{longitude:a,latitude:l}}getBounds(){const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{width:n,height:r,unproject:o}=e,i={targetZ:t},s=o([0,r],i),a=o([n,r],i);let l,c;return(e.fovy?.5*e.fovy*WR:Math.atan(.5/e.altitude))>(90-e.pitch)*WR-.01?(l=XR(e,0,t),c=XR(e,n,t)):(l=o([0,0],i),c=o([n,0],i)),[s,a,c,l]}(this,(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}fitBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=this,{longitude:o,latitude:i,zoom:s}=VR({width:n,height:r,bounds:e,...t});return new iT({width:n,height:r,longitude:o,latitude:i,zoom:s})}}iT.displayName="WebMercatorViewport";class sT{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:e,settings:t}=this;this._handle=e.addChannel({delay:e.getTime(),duration:t.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const aT=()=>{},lT=2,cT=3,uT=e=>e,dT=1;class hT{constructor(e){this._onTransitionUpdate=e=>{const{time:t,settings:{interpolator:n,startProps:r,endProps:o,duration:i,easing:s}}=e,a=s(t/i),l=n.interpolateProps(r,o,a);this.propsInTransition=this.getControllerState({...this.props,...l}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new sT(e.timeline),this.onViewStateChange=e.onViewStateChange||aT,this.onStateChange=e.onStateChange||aT}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let r=n;if(this.transition.inProgress){const{interruption:e,endProps:t}=this.transition.settings;r={...n,...e===lT?t:this.propsInTransition||n}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:n}=e;return(t>0||"auto"===t)&&Boolean(n)}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){if(this.transition.inProgress){return this.transition.settings.interruption===cT||this._isUpdateDueToCurrentTransition(t)}return!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),o=t.transitionInterpolator,i=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===i)return;const s=o.initializeProps(e,r);this.propsInTransition={};const a={duration:i,easing:t.transitionEasing||uT,interpolator:o,interruption:t.transitionInterruption||dT,startProps:s.start,endProps:s.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(a),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(t)}}}function pT(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}class fT{constructor(e){const{compare:t,extract:n,required:r}=e;this._propsToCompare=t,this._propsToExtract=n||t,this._requiredProps=r}arePropsEqual(e,t){for(const n of this._propsToCompare)if(!(n in e)||!(n in t)||!LM(e[n],t[n]))return!1;return!0}initializeProps(e,t){const n={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(n[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(n),this._checkRequiredProps(r),{start:n,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach((t=>{const n=e[t];pT(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}const gT=["longitude","latitude","zoom","bearing","pitch"],mT=["longitude","latitude","zoom"];class vT extends fT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:gT,required:mT},super(n.transitionProps),this.opts=n}initializeProps(e,t){const n=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const i=r(e),s=r(t),a=i.unproject(o);n.start.around=o,Object.assign(n.end,{around:s.project(a),aroundPosition:a,width:t.width,height:t.height})}return n}interpolateProps(e,t,n){const r={};for(const o of this._propsToExtract)r[o]=OM(e[o]||0,t[o]||0,n);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,OM(e.around,t.around,n)))}return r}}const yT={transitionDuration:0},bT=e=>1-(1-e)*(1-e),_T=["wheel"],wT=["panstart","panmove","panend"],xT=["pinchstart","pinchmove","pinchend"],AT=["tripanstart","tripanmove","tripanend"],ET=["doubletap"],ST=["keydown"],CT={};class MT{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new hT({...e,getControllerState:e=>new this.ControllerState(e),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events){var e;if(this._events[t])null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:n}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-n]}isPointInBounds(e,t){const{width:n,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout((()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)}),e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:n=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:i=!0,touchZoom:s=!0,touchRotate:a=!1,keyboard:l=!0}=e,c=Boolean(this.onViewStateChange);this.toggleEvents(_T,c&&n),this.toggleEvents(wT,c),this.toggleEvents(xT,c&&(s||a)),this.toggleEvents(AT,c&&a),this.toggleEvents(ET,c&&i),this.toggleEvents(ST,c&&l),this.scrollZoom=n,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=i,this.touchZoom=s,this.touchRotate=a,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach((e=>{this._events[e]!==t&&(this._events[e]=t,t?this.eventManager.on(e,this.handleEvent):this.eventManager.off(e,this.handleEvent))}))}updateViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),o){const e=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:e,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);const r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,yT,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,yT,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],o=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:bT},{isDragging:!1,isPanning:!0})}else{const e=this.controllerState.panEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,yT,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],o=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:bT},{isDragging:!1,isRotating:!0})}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;e.srcEvent.preventDefault();const{speed:n=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let i=2/(1+Math.exp(-Math.abs(o*n)));o<0&&0!==i&&(i=1/i);const s=this.controllerState.zoom({pos:t,scale:i});return this.updateViewport(s,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,yT,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const n=this.controllerState.rotate({pos:t});return this.updateViewport(n,yT,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:bT},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return CT._startPinchRotation=e.rotation,CT._lastPinchEvent=e,this.updateViewport(n,yT,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:n}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){const{rotation:n}=e;t=t.rotate({deltaAngleX:CT._startPinchRotation-n})}return this.updateViewport(t,yT,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),CT._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:n}=CT;if(this.touchZoom&&t&&n&&e.scale!==n.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const i=Math.log2(e.scale),s=(i-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),a=Math.pow(2,i+s*t/2);o=o.zoom({pos:r,scale:a}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:bT},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const e=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return CT._startPinchRotation=null,CT._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:i}=!0===this.keyboard?{}:this.keyboard,{controllerState:s}=this;let a;const l={};switch(e.srcEvent.code){case"Minus":a=t?s.zoomOut(n).zoomOut(n):s.zoomOut(n),l.isZooming=!0;break;case"Equal":a=t?s.zoomIn(n).zoomIn(n):s.zoomIn(n),l.isZooming=!0;break;case"ArrowLeft":t?(a=s.rotateLeft(o),l.isRotating=!0):(a=s.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(a=s.rotateRight(o),l.isRotating=!0):(a=s.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(a=s.rotateUp(i),l.isRotating=!0):(a=s.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(a=s.rotateDown(i),l.isRotating=!0):(a=s.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(a,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new vT({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:yT}}class RT{constructor(e,t){this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class TT extends RT{constructor(e){const{width:t,height:n,latitude:r,longitude:o,zoom:i,bearing:s=0,pitch:a=0,altitude:l=1.5,position:c=[0,0,0],maxZoom:u=20,minZoom:d=0,maxPitch:h=60,minPitch:p=0,startPanLngLat:f,startZoomLngLat:g,startRotatePos:m,startBearing:v,startPitch:y,startZoom:b,normalize:_=!0}=e;pT(Number.isFinite(o)),pT(Number.isFinite(r)),pT(Number.isFinite(i)),super({width:t,height:n,latitude:r,longitude:o,zoom:i,bearing:s,pitch:a,altitude:l,maxZoom:u,minZoom:d,maxPitch:h,minPitch:p,normalize:_,position:c},{startPanLngLat:f,startZoomLngLat:g,startRotatePos:m,startBearing:v,startPitch:y,startZoom:b}),this.makeViewport=e.makeViewport}panStart(e){let{pos:t}=e;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}pan(e){let{pos:t,startPos:n}=e;const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart(e){let{pos:t}=e;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate(e){let{pos:t,deltaAngleX:n=0,deltaAngleY:r=0}=e;const{startRotatePos:o,startBearing:i,startPitch:s}=this.getState();if(!o||void 0===i||void 0===s)return this;let a;return a=t?this._getNewRotation(t,o,s,i):{bearing:i+n,pitch:s+r},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart(e){let{pos:t}=e;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}zoom(e){let{pos:t,startPos:n,scale:r}=e,{startZoom:o,startZoomLngLat:i}=this.getState();if(i||(o=this.getViewportProps().zoom,i=this._unproject(n)||this._unproject(t)),!i)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let l=o+Math.log2(r);l=IM(l,a,s);const c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(i,t)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}zoomOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}moveLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}moveRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}moveUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}moveDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}rotateLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),n={...this.getViewportProps()},{bearing:r,longitude:o}=n;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(n.longitude=o<0?o+360:o-360),n}applyConstraints(e){const{maxZoom:t,minZoom:n,zoom:r}=e;e.zoom=IM(r,n,t);const{maxPitch:o,minPitch:i,pitch:s}=e;e.pitch=IM(s,i,o);const{normalize:a=!0}=e;return a&&Object.assign(e,function(e){const{width:t,height:n,pitch:r=0}=e;let{longitude:o,latitude:i,zoom:s,bearing:a=0}=e;(o<-180||o>180)&&(o=wR(o+180,360)-180),(a<-180||a>180)&&(a=wR(a+180,360)-180);const l=AR(n/512);if(s<=l)s=l,i=0;else{const e=n/2/Math.pow(2,s),t=LR([0,e])[1];if(i<t)i=t;else{const t=LR([0,512-e])[1];i>t&&(i=t)}}return{width:t,height:n,longitude:o,latitude:i,zoom:s,pitch:r,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.zoom({pos:[t/2,n/2],scale:e})}_panFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.pan({startPos:[t/2,n/2],pos:[t/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,n,r){const o=e[0]-t[0],i=e[1]-t[1],s=e[1],a=t[1],{width:l,height:c}=this.getViewportProps(),u=o/l;let d=0;i>0?Math.abs(c-a)>5&&(d=i/(a-c)*1.2):i<0&&a>5&&(d=1-s/a),d=IM(d,-1,1);const{minPitch:h,maxPitch:p}=this.getViewportProps();let f=n;return d>0?f=n+d*(p-n):d<0&&(f=n-d*(h-n)),{pitch:f,bearing:r+180*u}}}class PT extends MT{constructor(){super(...arguments),this.ControllerState=TT,this.transition={transitionDuration:300,transitionInterpolator:new vT({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e);(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class kT extends oT{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}get ViewportType(){return iT}get ControllerType(){return PT}}kT.displayName="MapView";const IT=[255,255,255],OT=1;let LT=0;class NT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="ambient";const{color:t=IT}=e,{intensity:n=OT}=e;this.id=e.id||"ambient-".concat(LT++),this.color=t,this.intensity=n}}const FT=[255,255,255],DT=1,BT=[0,0,-1];let zT=0;class jT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="directional";const{color:t=FT}=e,{intensity:n=DT}=e,{direction:r=BT}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(zT++),this.color=t,this.intensity=n,this.type="directional",this.direction=new tR(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class UT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};const{id:n}=t;this.id=n,this.device=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class GT extends UT{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){var t,n,r;const[o,i]=this.device.canvasContext.getDrawingBufferSize(),s=null===(t=e.clearCanvas)||void 0===t||t,a=null!==(n=e.clearColor)&&void 0!==n?n:!!s&&[0,0,0,0],l=!!s&&1,c=null!==(r=e.colorMask)&&void 0!==r?r:15,u={viewport:[0,0,o,i]};e.colorMask&&(u.colorMask=c),e.scissorRect&&(u.scissorRect=e.scissorRect);const d=this.device.beginRenderPass({framebuffer:e.target,parameters:u,clearColor:a,clearDepth:l});try{return this._drawLayers(d,e)}finally{d.end()}}_drawLayers(e,t){const{target:n,moduleParameters:r,viewports:o,views:i,onViewportActive:s,clearStack:a=!0}=t;t.pass=t.pass||"unknown",a&&(this._lastRenderIndex=-1);const l=[];for(const c of o){const o=i&&i[c.id];null===s||void 0===s||s(c);const a=this._getDrawLayerParams(c,t),u=c.subViewports||[c];for(const i of u){const s=this._drawLayersInViewport(e,{target:n,moduleParameters:r,viewport:i,view:o,pass:t.pass,layers:t.layers},a);l.push(s)}}return l}_getDrawLayerParams(e,t){let{layers:n,pass:r,isPicking:o=!1,layerFilter:i,cullRect:s,effects:a,moduleParameters:l}=t,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const u=[],d=HT(this._lastRenderIndex+1),h={layer:n[0],viewport:e,isPicking:o,renderPass:r,cullRect:s},p={};for(let g=0;g<n.length;g++){const t=n[g],o=this._shouldDrawLayer(t,h,i,p),s={shouldDrawLayer:o};var f;if(o&&!c)s.layerRenderIndex=d(t,o),s.moduleParameters=this._getModuleParameters(t,a,r,l),s.layerParameters={...null===(f=t.context.deck)||void 0===f?void 0:f.props.parameters,...this.getLayerParameters(t,g,e)};u[g]=s}return u}_drawLayersInViewport(e,t,n){let{layers:r,moduleParameters:o,pass:i,target:s,viewport:a,view:l}=t;const c=function(e,t){let{moduleParameters:n,target:r,viewport:o}=t;const i=n&&n.devicePixelRatio||e.canvasContext.cssToDeviceRatio(),[,s]=e.canvasContext.getDrawingBufferSize(),a=r?r.height:s,l=o;return[l.x*i,a-(l.y+l.height)*i,l.width*i,l.height*i]}(this.device,{moduleParameters:o,target:s,viewport:a});if(l&&l.props.clear){const e=!0===l.props.clear?{color:!0,depth:!0}:l.props.clear;this.device.withParametersWebGL({scissorTest:!0,scissor:c},(()=>this.device.clearWebGL(e)))}const u={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:c});for(let h=0;h<r.length;h++){const t=r[h],{shouldDrawLayer:o,layerRenderIndex:s,moduleParameters:l,layerParameters:c}=n[h];if(o&&t.props.pickable&&u.pickableCount++,t.isComposite)u.compositeCount++;else if(o){u.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,s),l.viewport=a,t.context.renderPass=e;try{t._drawLayer({renderPass:e,moduleParameters:l,uniforms:{layerIndex:s},parameters:c})}catch(d){t.raiseError(d,"drawing ".concat(t," to ").concat(i))}}}return u}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,n){return e.props.parameters}_shouldDrawLayer(e,t,n,r){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;let o=e.parent;for(;o;){if(!o.props.visible||!o.filterSubLayer(t))return!1;t.layer=o,o=o.parent}if(n){const e=t.layer.id;if(e in r||(r[e]=n(t)),!r[e])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,n,r){var o;const i=this.device.canvasContext.cssToDeviceRatio(),s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,picking:{isActive:0},devicePixelRatio:i});if(t)for(const l of t){var a;Object.assign(s,null===(a=l.getModuleParameters)||void 0===a?void 0:a.call(l,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function HT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={},r=(o,i)=>{const s=o.props._offset,a=o.id,l=o.parent&&o.parent.id;let c;if(l&&!(l in t)&&r(o.parent,!1),l in n){const e=n[l]=n[l]||HT(t[l],t);c=e(o,i),n[a]=e}else Number.isFinite(s)?(c=s+(t[l]||0),n[a]=null):c=e;return i&&c>=e&&(e=c+1),t[a]=c,c};return r}class VT extends GT{constructor(e,t){super(e,t),this.shadowMap=e.createTexture({width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),this.depthBuffer=e.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1,dataFormat:6402,type:5125}),this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[this.shadowMap],depthStencilAttachment:this.depthBuffer})}render(e){const t=this.fbo,n=this.device.canvasContext.cssToDeviceRatio(),r=e.viewports[0],o=r.width*n,i=r.height*n;o===t.width&&i===t.height||t.resize({width:o,height:i}),super.render({...e,clearColor:[1,1,1,1],target:t,pass:"shadow"})}getLayerParameters(e,t,n){return{...e.props.parameters,blend:!1,depthRange:[0,1],depthTest:!0}}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null),this.shadowMap&&(this.shadowMap.destroy(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.destroy(),this.depthBuffer=null)}}const WT=pS((function(e){let{viewport:t,center:n}=e;return new mR(t.viewProjectionMatrix).invert().transform(n)})),XT=pS((function(e){let{viewport:t,shadowMatrices:n}=e;const r=[],o=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,s=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map((e=>function(e,t){const[n,r,o]=e,i=HR([n,r,o],t);if(Number.isFinite(o))return i;return[i[0],i[1],0]}(e,o)));for(const a of n){const e=a.clone().translate(new tR(t.center).negate()),n=s.map((t=>e.transform(t))),o=(new mR).ortho({left:Math.min(...n.map((e=>e[0]))),right:Math.max(...n.map((e=>e[0]))),bottom:Math.min(...n.map((e=>e[1]))),top:Math.max(...n.map((e=>e[1]))),near:Math.min(...n.map((e=>-e[2]))),far:Math.max(...n.map((e=>-e[2])))});r.push(o.multiplyRight(a))}return r})),qT=[0,0,0,1],KT=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];const YT={name:"shadow",dependencies:[xS],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nout vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nin vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?function(e,t){const{shadowEnabled:n=!0}=e;if(!n||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1,shadow_uShadowMap0:e.dummyShadowMap,shadow_uShadowMap1:e.dummyShadowMap};const r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||qT,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},o=WT({viewport:e.viewport,center:t.project_uCenter}),i=[],s=XT({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice();for(let a=0;a<e.shadowMatrices.length;a++){const n=s[a],r=n.clone().translate(new tR(e.viewport.center).negate());t.project_uCoordinateSystem===HE.LNGLAT&&t.project_uProjectionMode===VE.WEB_MERCATOR?(s[a]=r,i[a]=o):(s[a]=n.clone().multiplyRight(KT),i[a]=r.transform(o))}for(let a=0;a<s.length;a++)r["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],r["shadow_uProjectCenters[".concat(a,"]")]=i[a];for(let a=0;a<2;a++)r["shadow_uShadowMap".concat(a)]=e.shadowMaps&&e.shadowMaps[a]||e.dummyShadowMap;return r}(e,t):{}}},ZT={color:[255,255,255],intensity:1},QT=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],$T=[0,0,0,200/255];class JT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id="lighting-effect",this.shadowColor=$T,this.shadow=!1,this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:t,deck:n}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(t),n._addDefaultShaderModule(YT),this.dummyShadowMap=t.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const t in e){const n=e[t];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((e=>e.shadow)),this.context&&this.setup(this.context),this.props=e}preRender(e){let{layers:t,layerFilter:n,viewports:r,onViewportActive:o,views:i}=e;if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let e=0;e<this.shadowPasses.length;e++){this.shadowPasses[e].render({layers:t,layerFilter:n,viewports:r,onViewportActive:o,views:i,moduleParameters:{shadowLightId:e,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((t=>t.getProjectedLight({layer:e}))),pointLights:this.pointLights.map((t=>t.getProjectedLight({layer:e})))},t}cleanup(e){for(const t of this.shadowPasses)t.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(YT))}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const n=(new mR).lookAt({eye:new tR(t.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const n=new VT(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:n}=this;e||0!==t.length||0!==n.length||(this.ambientLight=new NT(ZT),this.directionalLights.push(new jT(QT[0]),new jT(QT[1])))}}const eP=new JT;class tP{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const t=this._defaultEffects;if(!t.find((t=>t.id===e.id))){const n=t.findIndex((t=>function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:1/0)-(null!==(r=t.order)&&void 0!==r?r:1/0)}(t,e)>0));n<0?t.push(e):t.splice(n,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(JR(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._resolvedEffects}_setEffects(e){const t={};for(const r of this.effects)t[r.id]=r;const n=[];for(const r of e){const e=t[r.id];let o=r;e&&e!==r?e.setProps?(e.setProps(r.props),o=e):e.cleanup(this._context):e||r.setup(this._context),n.push(o),delete t[r.id]}for(const r in t)t[r].cleanup(this._context);this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),e.some((e=>e instanceof JT))||this._resolvedEffects.push(eP),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class nP extends GT{shouldDrawLayer(e){const{operation:t}=e.props;return t.includes("draw")||t.includes("terrain")}}const rP={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class oP extends GT{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer(e){let{layers:t,layerFilter:n,views:r,viewports:o,onViewportActive:i,pickingFBO:s,deviceRect:{x:a,y:l,width:c,height:u},cullRect:d,effects:h,pass:p="picking",pickZ:f,moduleParameters:g}=e;this.pickZ=f;const m=this._resetColorEncoder(f),v=[a,l,c,u],y=super.render({target:s,layers:t,layerFilter:n,views:r,viewports:o,onViewportActive:i,cullRect:d,effects:null===h||void 0===h?void 0:h.filter((e=>e.useInPicking)),pass:p,isPicking:!0,moduleParameters:g,clearColor:[0,0,0,0],colorMask:15,scissorRect:v});this._colorEncoderState=null;return{decodePickingColor:m&&iP.bind(null,m),stats:y}}shouldDrawLayer(e){const{pickable:t,operation:n}=e.props;return t&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getModuleParameters(){return{picking:{isActive:1,isAttribute:this.pickZ},lightSources:{}}}getLayerParameters(e,t,n){const r={depthMask:!0,depthTest:!0,depthRange:[0,1],...e.props.parameters},{pickable:o,operation:i}=e.props;return!this._colorEncoderState||i.includes("terrain")?r.blend=!1:o&&i.includes("draw")&&(Object.assign(r,rP),r.blend=!0,r.blendColor=function(e,t,n){const{byLayer:r,byAlpha:o}=e;let i,s=r.get(t);s?(s.viewports.push(n),i=s.a):(i=r.size+1,i<=255?(s={a:i,layer:t,viewports:[n]},r.set(t,s),o[i]=s):(GE.warn("Too many pickable layers, only picking the first 255")(),i=0));return[0,0,0,i/255]}(this._colorEncoderState,e,n)),r}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function iP(e,t){const n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}class sP{constructor(e){this.device=e,this.gl=e.gl,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new nP(e),this.pickLayersPass=new oP(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};n.effects&&this._preRender(n.effects,n);const r=this.lastPostProcessEffect?this.renderBuffers[0]:n.target;this.lastPostProcessEffect&&(n.clearColor=[0,0,0,0],n.clearCanvas=!0);const o=t.render({...n,target:r});n.effects&&this._postRender(n.effects,n),this.renderCount++,jS("deckRenderer.renderLayers",this,o,e)}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){this.lastPostProcessEffect=null,t.preRenderStats=t.preRenderStats||{};for(const n of e)t.preRenderStats[n.id]=n.preRender(t),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,t=this.device.canvasContext.getDrawingBufferSize();0===e.length&&[0,1].map((t=>{const n=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});e.push(this.device.createFramebuffer({id:"deck-renderbuffer-".concat(t),colorAttachments:[n]}))}));for(const n of e)n.resize(t)}_postRender(e,t){const{renderBuffers:n}=this,r={...t,inputBuffer:n[0],swapBuffer:n[1]};for(const o of e)if(o.postRender){r.target=o.id===this.lastPostProcessEffect?t.target:void 0;const e=o.postRender(r);r.inputBuffer=e,r.swapBuffer=e===n[0]?n[1]:n[0]}}}const aP={pickedColor:null,pickedObjectIndex:-1};function lP(e){let{pickedColors:t,decodePickingColor:n,deviceX:r,deviceY:o,deviceRadius:i,deviceRect:s}=e;const{x:a,y:l,width:c,height:u}=s;let d=i*i,h=-1,p=0;for(let f=0;f<u;f++){const e=f+l-o,n=e*e;if(n>d)p+=4*c;else for(let o=0;o<c;o++){if(t[p+3]-1>=0){const e=o+a-r,t=e*e+n;t<=d&&(d=t,h=p)}p+=4}}if(h>=0){const e=t.slice(h,h+4),r=n(e);if(r){const t=Math.floor(h/4/c),n=h/4-t*c;return{...r,pickedColor:e,pickedX:a+n,pickedY:l+t}}GE.error("Picked non-existent layer. Is picking buffer corrupt?")()}return aP}function cP(e){let t,{pickInfo:n,viewports:r,pixelRatio:o,x:i,y:s,z:a}=e,l=r[0];if(r.length>1&&(l=function(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.containsPixel(t))return r}return e[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:i,y:s})),l){const e=[i-l.x,s-l.y];void 0!==a&&(e[2]=a),t=l.unproject(e)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:i,y:s,pixel:[i,s],coordinate:t,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:o}}function uP(e){const{pickInfo:t,lastPickedInfo:n,mode:r,layers:o}=e,{pickedColor:i,pickedLayer:s,pickedObjectIndex:a}=t,l=s?[s]:[];if("hover"===r){const e=n.index,t=n.layerId,r=s?s.props.id:null;if(r!==t||a!==e){if(r!==t){const e=o.find((e=>e.props.id===t));e&&l.unshift(e)}n.layerId=r,n.index=a,n.info=null}}const c=cP(e),u=new Map;return u.set(null,c),l.forEach((e=>{let t={...c};e===s&&(t.color=i,t.index=a,t.picked=!0),t=dP({layer:e,info:t,mode:r});const o=t.layer;e===s&&"hover"===r&&(n.info=t),u.set(o.id,t),"hover"===r&&o.updateAutoHighlight(t)})),u}function dP(e){let{layer:t,info:n,mode:r}=e;for(;t&&n;){const e=n.layer||null;n.sourceLayer=e,n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:e}),t=t.parent}return n}class hP{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new oP(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject(e){let{x:t,y:n,layers:r,viewports:o}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info;const s=i&&i.layer&&i.layer.id,a=i&&i.viewport&&i.viewport.id,l=s?r.find((e=>e.id===s)):null,c=a&&o.find((e=>e.id===a))||o[0],u=c&&c.unproject([t-c.x,n-c.y]),d={x:t,y:n,viewport:c,coordinate:u,layer:l};return{...i,...d}}_resizeBuffer(){var e,t;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const e=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=e}const n=this.device.gl;null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter((e=>this.pickLayersPass.shouldDrawLayer(e)&&!e.isComposite));return t.length?t:null}_pickClosestObject(e){let{layers:t,views:n,viewports:r,x:o,y:i,radius:s=0,depth:a=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:d}=e;const h=this.device.canvasContext.cssToDeviceRatio(),p=this._getPickable(t);if(!p||0===r.length)return{result:[],emptyInfo:cP({viewports:r,x:o,y:i,pixelRatio:h})};this._resizeBuffer();const f=this.device.canvasContext.cssToDevicePixels([o,i],!0),g=[f.x+Math.floor(f.width/2),f.y+Math.floor(f.height/2)],m=Math.round(s*h),{width:v,height:y}=this.pickingFBO,b=this._getPickingRect({deviceX:g[0],deviceY:g[1],deviceRadius:m,deviceWidth:v,deviceHeight:y}),_={x:o-s,y:i-s,width:2*s+1,height:2*s+1};let w;const x=[],A=new Set;for(let E=0;E<a;E++){let e,t;if(b){e=lP({...this._drawAndSample({layers:p,views:n,viewports:r,onViewportActive:u,deviceRect:b,cullRect:_,effects:d,pass:"picking:".concat(l)}),deviceX:g[0],deviceY:g[1],deviceRadius:m,deviceRect:b})}else e={pickedColor:null,pickedObjectIndex:-1};if(e.pickedLayer&&c&&this.depthFBO){const{pickedColors:o}=this._drawAndSample({layers:[e.pickedLayer],views:n,viewports:r,onViewportActive:u,deviceRect:{x:e.pickedX,y:e.pickedY,width:1,height:1},cullRect:_,effects:d,pass:"picking:".concat(l,":z")},!0);o[3]&&(t=o[0])}e.pickedLayer&&E+1<a&&(A.add(e.pickedLayer),e.pickedLayer.disablePickingIndex(e.pickedObjectIndex)),w=uP({pickInfo:e,lastPickedInfo:this.lastPickedInfo,mode:l,layers:p,viewports:r,x:o,y:i,z:t,pixelRatio:h});for(const n of w.values())n.layer&&x.push(n);if(!e.pickedColor)break}for(const E of A)E.restorePickingColors();return{result:x,emptyInfo:w.get(null)}}_pickVisibleObjects(e){let{layers:t,views:n,viewports:r,x:o,y:i,width:s=1,height:a=1,mode:l="query",maxObjects:c=null,onViewportActive:u,effects:d}=e;const h=this._getPickable(t);if(!h||0===r.length)return[];this._resizeBuffer();const p=this.device.canvasContext.cssToDeviceRatio(),f=this.device.canvasContext.cssToDevicePixels([o,i],!0),g=f.x,m=f.y+f.height,v=this.device.canvasContext.cssToDevicePixels([o+s,i+a],!0),y=v.x+v.width,b=v.y,_={x:g,y:b,width:y-g,height:m-b},w=function(e){let{pickedColors:t,decodePickingColor:n}=e;const r=new Map;if(t)for(let o=0;o<t.length;o+=4)if(t[o+3]-1>=0){const e=t.slice(o,o+4),i=e.join(",");if(!r.has(i)){const t=n(e);t?r.set(i,{...t,color:e}):GE.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:h,views:n,viewports:r,onViewportActive:u,deviceRect:_,cullRect:{x:o,y:i,width:s,height:a},effects:d,pass:"picking:".concat(l)})),x=new Map,A=[],E=Number.isFinite(c);for(let C=0;C<w.length;C++){var S;if(E&&A.length>=c)break;const e=w[C];let t={color:e.pickedColor,layer:null,index:e.pickedObjectIndex,picked:!0,x:o,y:i,pixelRatio:p};t=dP({layer:e.pickedLayer,info:t,mode:l});const n=t.layer.id;x.has(n)||x.set(n,new Set);const r=x.get(n),s=null!==(S=t.object)&&void 0!==S?S:t.index;r.has(s)||(r.add(s),A.push(t))}return A}_drawAndSample(e){let{layers:t,views:n,viewports:r,onViewportActive:o,deviceRect:i,cullRect:s,effects:a,pass:l}=e,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const u=c?this.depthFBO:this.pickingFBO,d={layers:t,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:o,pickingFBO:u,deviceRect:i,cullRect:s,effects:a,pass:l,pickZ:c,preRenderStats:{}};for(const y of a)y.useInPicking&&(d.preRenderStats[y.id]=y.preRender(d));const{decodePickingColor:h}=this.pickLayersPass.render(d),{x:p,y:f,width:g,height:m}=i,v=new(c?Float32Array:Uint8Array)(g*m*4);return this.device.readPixelsToArrayWebGL(u,{sourceX:p,sourceY:f,sourceWidth:g,sourceHeight:m,target:v}),{pickedColors:v,decodePickingColor:h}}_getPickingRect(e){let{deviceX:t,deviceY:n,deviceRadius:r,deviceWidth:o,deviceHeight:i}=e;const s=Math.max(0,t-r),a=Math.max(0,n-r),l=Math.min(o,t+r+1)-s,c=Math.min(i,n+r+1)-a;return l<=0||c<=0?null:{x:s,y:a,width:l,height:c}}}const pP={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},fP="top-left",gP="__root";class mP{constructor(e){let{deck:t,parentElement:n}=e;this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=t,this.parentElement=n}getWidgets(){return this.resolvedWidgets}setProps(e){e.widgets&&!JR(e.widgets,this.widgets,1)&&this._setWidgets(e.widgets)}finalize(){for(const e of this.getWidgets())this._remove(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find((t=>t.id===e.id))||(this._add(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}_setWidgets(e){const t={};for(const n of this.resolvedWidgets)t[n.id]=n;this.resolvedWidgets.length=0;for(const n of this.defaultWidgets)t[n.id]=null,this.resolvedWidgets.push(n);for(let n of e){const e=t[n.id];e?e.viewId!==n.viewId||e.placement!==n.placement?(this._remove(e),this._add(n)):n!==e&&(e.setProps(n.props),n=e):this._add(n),t[n.id]=null,this.resolvedWidgets.push(n)}for(const n in t){const e=t[n];e&&this._remove(e)}this.widgets=e}_add(e){const{viewId:t=null,placement:n=fP}=e,r=e.onAdd({deck:this.deck,viewId:t});r&&this._getContainer(t,n).append(r),e._element=r}_remove(e){e.onRemove(),e._element&&e._element.remove(),e._element=void 0}_getContainer(e,t){const n=e||gP;let r=this.containers[n];var o;r||(r=document.createElement("div"),r.style.pointerEvents="none",r.style.position="absolute",r.style.overflow="hidden",null===(o=this.parentElement)||void 0===o||o.append(r),this.containers[n]=r);let i=r.querySelector(".".concat(t));return i||(i=document.createElement("div"),i.className=t,i.style.position="absolute",Object.assign(i.style,pP[t]),r.append(i)),i}_updateContainers(){const e=this.deck.width,t=this.deck.height;for(const n in this.containers){const r=this.lastViewports[n]||null,o=n===gP||r,i=this.containers[n];o?(i.style.display="block",i.style.left="".concat(r?r.x:0,"px"),i.style.top="".concat(r?r.y:0,"px"),i.style.width="".concat(r?r.width:e,"px"),i.style.height="".concat(r?r.height:t,"px")):i.style.display="none"}}onRedraw(e){let{viewports:t,layers:n}=e;const r=t.reduce(((e,t)=>(e[t.id]=t,e)),{}),{lastViewports:o}=this;for(const a of this.getWidgets()){const{viewId:e}=a;if(e){const t=r[e];var i;if(t)a.onViewportChange&&!t.equals(o[e])&&a.onViewportChange(t),null===(i=a.onRedraw)||void 0===i||i.call(a,{viewports:[t],layers:n})}else{var s;if(a.onViewportChange)for(const e of t)e.equals(o[e.id])||a.onViewportChange(e);null===(s=a.onRedraw)||void 0===s||s.call(a,{viewports:t,layers:n})}}this.lastViewports=r,this._updateContainers()}onHover(e,t){for(const o of this.getWidgets()){var n;const{viewId:i}=o;var r;if(!i||i===(null===(n=e.viewport)||void 0===n?void 0:n.id))null===(r=o.onHover)||void 0===r||r.call(o,e,t)}}onEvent(e,t){const n=XE[t.type];if(n)for(const i of this.getWidgets()){var r;const{viewId:s}=i;var o;if(!s||s===(null===(r=e.viewport)||void 0===r?void 0:r.id))null===(o=i[n.handler])||void 0===o||o.call(i,e,t)}}}const vP={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class yP{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd(e){let{deck:t}=e;const n=document.createElement("div");return n.className="deck-tooltip",Object.assign(n.style,vP),this.deck=t,this.element=n,n}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(e){var t;this.isVisible&&e.id===(null===(t=this.lastViewport)||void 0===t?void 0:t.id)&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:t}=this,n=t&&t.props.getTooltip;if(!n)return;const r=n(e);this.lastViewport=e.viewport,this.setTooltip(r,e.x,e.y)}setTooltip(e,t,n){const r=this.element;if(r){if("string"===typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)"),e&&"object"===typeof e&&"style"in e&&Object.assign(r.style,e.style)}}}var bP;const _P=null===(bP=globalThis.loaders)||void 0===bP?void 0:bP.parseImageNode,wP="undefined"!==typeof Image,xP="undefined"!==typeof ImageBitmap,AP=Boolean(_P),EP=!!xC||AP;function SP(e){const t=MP(e);if(!t)throw new Error("Not an image");return t}function CP(e){switch(SP(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function MP(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}const RP=/^data:image\/svg\+xml/,TP=/\.svg((\?|#).*)?$/;function PP(e){return e&&(RP.test(e)||TP.test(e))}function kP(e,t){if(PP(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function IP(e,t,n){const r=function(e,t){if(PP(t)){let t=(new TextDecoder).decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(n){throw new Error(n.message)}return"data:image/svg+xml;base64,".concat(btoa(t))}return kP(e,t)}(e,n),o=self.URL||self.webkitURL,i="string"!==typeof r&&o.createObjectURL(r);try{return await async function(e,t){const n=new Image;if(n.src=e,t.image&&t.image.decode&&n.decode)return await n.decode(),n;return await new Promise(((e,t)=>{try{n.onload=()=>e(n),n.onerror=e=>{const n=e instanceof Error?e.message:"error";t(new Error(n))}}catch(r){t(r)}}))}(i||r,t)}finally{i&&o.revokeObjectURL(i)}}const OP={};let LP=!0;async function NP(e,t,n){let r;if(PP(n)){r=await IP(e,t,n)}else r=kP(e,n);const o=t&&t.imagebitmap;return await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e){for(const t in e||OP)return!1;return!0}(t)&&LP||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(n){console.warn(n),LP=!1}return await createImageBitmap(e)}(r,o)}function FP(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(o=t,[...o].map((e=>e.charCodeAt(0))));var o;for(let i=0;i<r.length;++i)if(r[i]!==e[i+n])return!1;return!0}(e,"ftyp",4)?0===(96&e[8])?null:function(e){switch(function(e,t,n){return String.fromCharCode(...e.slice(t,n))}(e,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(e):null}const DP=!1,BP=!0;function zP(e){const t=jP(e);return function(e){const t=jP(e),n=t.byteLength>=24&&2303741511===t.getUint32(0,DP);if(!n)return null;return{mimeType:"image/png",width:t.getUint32(16,DP),height:t.getUint32(20,DP)}}(t)||function(e){const t=jP(e),n=t.byteLength>=3&&65496===t.getUint16(0,DP)&&255===t.getUint8(2);if(!n)return null;const{tableMarkers:r,sofMarkers:o}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)e.add(n);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let i=2;for(;i+9<t.byteLength;){const e=t.getUint16(i,DP);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(i+5,DP),width:t.getUint16(i+7,DP)};if(!r.has(e))return null;i+=2,i+=t.getUint16(i,DP)}return null}(t)||function(e){const t=jP(e),n=t.byteLength>=10&&1195984440===t.getUint32(0,DP);if(!n)return null;return{mimeType:"image/gif",width:t.getUint16(6,BP),height:t.getUint16(8,BP)}}(t)||function(e){const t=jP(e),n=t.byteLength>=14&&16973===t.getUint16(0,DP)&&t.getUint32(2,BP)===t.byteLength;if(!n)return null;return{mimeType:"image/bmp",width:t.getUint32(18,BP),height:t.getUint32(22,BP)}}(t)||function(e){const t=new Uint8Array(e instanceof DataView?e.buffer:e),n=FP(t);if(!n)return null;return{mimeType:n.mimeType,width:0,height:0}}(t)}function jP(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}const UP={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:"4.2.0-beta.2",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,n){const r=((t=t||{}).image||{}).type||"auto",{url:o}=n||{};let i;switch(function(e){switch(e){case"auto":case"data":return function(){if(xP)return"imagebitmap";if(wP)return"image";if(EP)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return xP||wP||EP;case"imagebitmap":return xP;case"image":return wP;case"data":return EP;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}(r)){case"imagebitmap":i=await NP(e,t,o);break;case"image":i=await IP(e,t,o);break;case"data":i=await async function(e,t){var n;const{mimeType:r}=zP(e)||{},o=null===(n=globalThis.loaders)||void 0===n?void 0:n.parseImageNode;return rC(o),await o(e,r)}(e);break;default:rC(!1)}return"data"===r&&(i=CP(i)),i},tests:[e=>Boolean(zP(new DataView(e)))],options:{image:{type:"auto",decode:!0}}};const GP={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){const t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse};const HP=function(){const e="9.0.9",t=globalThis.deck&&globalThis.deck.VERSION;if(t&&t!==e)throw new Error("deck.gl - multiple versions detected: ".concat(t," vs ").concat(e));return t||(GE.log(1,"deck.gl ".concat(e))(),globalThis.deck={...globalThis.deck,VERSION:e,version:e,log:GE,_registerLoggers:zS},function(e){const t=fM();e=Array.isArray(e)?e:[e];for(const n of e){const e=iC(n);t.find((t=>e===t))||t.unshift(e)}}([GP,[UP,{imagebitmap:{premultiplyAlpha:"none"}}]])),e}(),VP=new BE({id:"luma.gl"});const WP=new class{constructor(){NA(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new XS({id:e})),this.stats.get(e)}};const XP=function(){const e="9.0.11";if(globalThis.luma&&globalThis.luma.VERSION!==e)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(e));return globalThis.luma||(xE()&&VP.log(1,"".concat(e," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:e,version:e,log:VP,stats:WP}),e}(),qP={};function KP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";qP[e]=qP[e]||1;const t=qP[e]++;return"".concat(e,"-").concat(t)}function YP(e){let t=!0;for(const n in e){t=!1;break}return t}class ZP{constructor(e,t,n){if(NA(this,"id",void 0),NA(this,"props",void 0),NA(this,"userData",{}),NA(this,"_device",void 0),NA(this,"destroyed",!1),NA(this,"allocatedBytes",0),NA(this,"_attachedResources",new Set),!e)throw new Error("no device");this._device=e,this.props=function(e,t){const n={...t};for(const r in e)void 0!==e[r]&&(n[r]=e[r]);return n}(t,n);const r="undefined"!==this.props.id?this.props.id:KP(this[Symbol.toStringTag]);this.props.id=r,this.id=r,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),t=this[Symbol.toStringTag];e.get("".concat(t,"s Active")).decrementCount()}trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").addCount(e),n.get("".concat(t," Memory")).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const t=this._device.statsManager.getStats("Resource Counts");t.get("GPU Memory").subtractCount(this.allocatedBytes),t.get("".concat(e," Memory")).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),t=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get("".concat(t,"s Created")).incrementCount(),e.get("".concat(t,"s Active")).incrementCount()}}NA(ZP,"defaultProps",{id:"undefined",handle:void 0,userData:void 0});class QP extends ZP{get[Symbol.toStringTag](){return"Buffer"}constructor(e,t){const n={...t};(t.usage||0)&QP.INDEX&&!t.indexType&&(t.data instanceof Uint32Array?n.indexType="uint32":t.data instanceof Uint16Array&&(n.indexType="uint16")),super(e,n,QP.defaultProps),NA(this,"usage",void 0),NA(this,"indexType",void 0),NA(this,"updateTimestamp",void 0),NA(this,"debugData",new ArrayBuffer(0)),this.usage=t.usage||0,this.indexType=n.indexType,this.updateTimestamp=e.incrementTimestamp()}readSyncWebGL(e,t){throw new Error("not implemented")}_setDebugData(e,t,n){const r=ArrayBuffer.isView(e)?e.buffer:e,o=Math.min(e?e.byteLength:n,QP.DEBUG_DATA_MAX_LENGTH);null===e?this.debugData=new ArrayBuffer(o):0===t&&n===e.byteLength?this.debugData=r.slice(0,o):this.debugData=r.slice(t,t+o)}}function $P(e){const t=function(e){const t=ek[e];return t}(JP[e]),n=e.includes("norm"),r=!n&&!e.startsWith("float"),o=e.startsWith("s");return{dataType:JP[e],byteLength:t,integer:r,signed:o,normalized:n}}NA(QP,"defaultProps",{...ZP.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1}),NA(QP,"MAP_READ",1),NA(QP,"MAP_WRITE",2),NA(QP,"COPY_SRC",4),NA(QP,"COPY_DST",8),NA(QP,"INDEX",16),NA(QP,"VERTEX",32),NA(QP,"UNIFORM",64),NA(QP,"STORAGE",128),NA(QP,"INDIRECT",256),NA(QP,"QUERY_RESOLVE",512),NA(QP,"DEBUG_DATA_MAX_LENGTH",32);const JP={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},ek={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4},tk=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],nk=/^(rg?b?a?)([0-9]*)([a-z]*)(-srgb)?(-webgl|-unsized)?$/;function rk(e){const t=nk.exec(e);if(t){const[,e,n,r,o,i]=t;if(e){const t=$P("".concat(r).concat(n));return{format:e,components:e.length,srgb:"-srgb"===o,unsized:"-unsized"===i,webgl:"-webgl"===i,...t}}}return function(e){var t;const n=ok[e];if(!n)throw new Error("Unknown format ".concat(e));return{format:n.format||"",components:n.components||(null===(t=n.format)||void 0===t?void 0:t.length)||1,byteLength:n.bpp||1,srgb:!1,unsized:!1}}(e)}const ok={"rgba4unorm-webgl":{format:"rgba",bpp:2},"rgb565unorm-webgl":{format:"rgb",bpp:2},"rgb5a1unorm-webgl":{format:"rgba",bbp:2},rgb9e5ufloat:{format:"rgb",bbp:4},rg11b10ufloat:{format:"rgb",bbp:4},rgb10a2unorm:{format:"rgba",bbp:4},"rgb10a2uint-webgl":{format:"rgba",bbp:4},stencil8:{components:1,bpp:1,a:"stencil"},depth16unorm:{components:1,bpp:2,a:"depth"},depth24plus:{components:1,bpp:3,a:"depth"},depth32float:{components:1,bpp:4,a:"depth"},"depth24plus-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth24unorm-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth32float-stencil8":{components:2,bpp:4,a:"depth-stencil"}};class ik{}class sk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;NA(this,"features",void 0),NA(this,"disabledFeatures",void 0),this.features=new Set(e),this.disabledFeatures=t||{}}*[Symbol.iterator](){yield*this.features}has(e){return!this.disabledFeatures[e]&&this.features.has(e)}}class ak{get[Symbol.toStringTag](){return"Device"}constructor(e){NA(this,"id",void 0),NA(this,"props",void 0),NA(this,"userData",{}),NA(this,"statsManager",WP),NA(this,"_lumaData",{}),NA(this,"timestamp",0),this.props={...ak.defaultProps,...e},this.id=this.props.id||KP(this[Symbol.toStringTag].toLowerCase())}isTextureFormatCompressed(e){return t=e,tk.some((e=>t.startsWith(e)));var t}loseDevice(){return!1}getCanvasContext(){if(!this.canvasContext)throw new Error("Device has no CanvasContext");return this.canvasContext}createTexture(e){return(e instanceof Promise||"string"===typeof e)&&(e={data:e}),this._createTexture(e)}createCommandEncoder(){throw new Error("not implemented")}readPixelsToArrayWebGL(e,t){throw new Error("not implemented")}readPixelsToBufferWebGL(e,t){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,t){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError(e){this.props.onError(e)}_getBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t={...e};return(e.usage||0)&QP.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?t.indexType="uint32":e.data instanceof Uint16Array?t.indexType="uint16":VP.warn("indices buffer content must be of integer type")()),t}}function lk(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}NA(ak,"defaultProps",{id:null,canvas:null,container:null,manageState:!0,width:800,height:600,requestMaxLimits:!0,debug:Boolean(VP.get("debug")),spector:Boolean(VP.get("spector")),break:[],initalizeFeatures:!0,disabledFeatures:{"compilation-status-async-webgl":!0},gl:null,onError:e=>VP.error(e.message)}),NA(ak,"VERSION",XP);const ck=new Map;class uk{static registerDevices(e){for(const t of e)lk(t.type&&t.isSupported&&t.create),ck.set(t.type,t)}static getAvailableDevices(){return Array.from(ck).map((e=>e.type))}static getSupportedDevices(){return Array.from(ck).filter((e=>e.isSupported())).map((e=>e.type))}static setDefaultDeviceProps(e){Object.assign(ak.defaultProps,e)}static async attachDevice(e){const t=dk(e.devices)||ck;if(e.handle instanceof WebGL2RenderingContext){const n=t.get("webgl");if(n)return await n.attach(e.handle)}if(null===e.handle){const e=t.get("unknown");if(e)return await e.attach(null)}throw new Error("Failed to attach device. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static async createDevice(){var e,t,n,r;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o={...ak.defaultProps,...o},o.gl&&(o.type="webgl");const i=dk(o.devices)||ck;switch(o.type){case"webgpu":let s=i.get("webgpu");if(s)return await s.create(o);break;case"webgl":let a=i.get("webgl");if(a)return await a.create(o);break;case"unknown":const l=i.get("unknown");if(l)return await l.create(o);break;case"best-available":if(s=i.get("webgpu"),null!==(e=s)&&void 0!==e&&null!==(t=e.isSupported)&&void 0!==t&&t.call(e))return await s.create(o);if(a=i.get("webgl"),null!==(n=a)&&void 0!==n&&null!==(r=n.isSupported)&&void 0!==r&&r.call(n))return await a.create(o)}throw new Error("No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static enforceWebGL2(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=HTMLCanvasElement.prototype;if(!e&&t.originalGetContext)return t.getContext=t.originalGetContext,void(t.originalGetContext=void 0);t.originalGetContext=t.getContext,t.getContext=function(e,t){return"webgl"===e||"experimental-webgl"===e?this.originalGetContext("webgl2",t):this.originalGetContext(e,t)}}}function dk(e){if(!e||0===(null===e||void 0===e?void 0:e.length))return null;const t=new Map;for(const n of e)t.set(n.type,n);return t}NA(uk,"defaultProps",{...ak.defaultProps,type:"best-available",devices:void 0}),NA(uk,"stats",WP),NA(uk,"log",VP);const hk=xE()&&"undefined"!==typeof document,pk=()=>hk&&"complete"===document.readyState,fk={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,colorSpace:"srgb",alphaMode:"opaque"};class gk{static get isPageLoaded(){return pk()}constructor(e){if(NA(this,"id",void 0),NA(this,"props",void 0),NA(this,"canvas",void 0),NA(this,"htmlCanvas",void 0),NA(this,"offscreenCanvas",void 0),NA(this,"type",void 0),NA(this,"width",1),NA(this,"height",1),NA(this,"resizeObserver",void 0),NA(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1}),this.props={...fk,...e},e=this.props,!xE())return this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,void(this.canvas=null);if(e.canvas)"string"===typeof e.canvas?this.canvas=function(e){const t=document.getElementById(e);if(!t&&!pk())throw new Error("Accessing '".concat(e,"' before page was loaded"));if(!(t instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return t}(e.canvas):this.canvas=e.canvas;else{var t,n;const r=function(e){const{width:t,height:n}=e,r=document.createElement("canvas");return r.id="lumagl-auto-created-canvas",r.width=t||1,r.height=n||1,r.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",r.style.height=Number.isFinite(n)?"".concat(n,"px"):"100%",r}(e),o=function(e){if("string"===typeof e){const t=document.getElementById(e);if(!t&&!pk())throw new Error("Accessing '".concat(e,"' before page was loaded"));if(!t)throw new Error("".concat(e," is not an HTML element"));return t}if(e)return e;return document.body}((null===(t=e)||void 0===t?void 0:t.container)||null);o.insertBefore(r,o.firstChild),this.canvas=r,null!==(n=e)&&void 0!==n&&n.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&e.autoResize&&(this.resizeObserver=new ResizeObserver((e=>{for(const t of e)t.target===this.canvas&&this.update()})),this.resizeObserver.observe(this.canvas))}getDevicePixelRatio(e){if("undefined"!==typeof OffscreenCanvas&&this.canvas instanceof OffscreenCanvas)return 1;if(!(e=void 0===e?this.props.useDevicePixels:e)||e<=0)return 1;if(!0===e){return"undefined"!==typeof window&&window.devicePixelRatio||1}return e}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const e=this.getDevicePixelRatio(),t=this.canvas;return t.parentElement?[t.clientWidth*e,t.clientHeight*e]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[e,t]=this.getPixelSize();return e/t}cssToDeviceRatio(){try{const[e]=this.getDrawingBufferSize(),{clientWidth:t}=this._canvasSizeInfo;return t?e/t:1}catch{return 1}}cssToDevicePixels(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.cssToDeviceRatio(),[r,o]=this.getDrawingBufferSize();return function(e,t,n,r,o){const i=e,s=mk(i[0],t,n);let a=vk(i[1],t,r,o),l=mk(i[0]+1,t,n);const c=l===n-1?l:l-1;let u;l=vk(i[1]+1,t,r,o),o?(l=0===l?l:l+1,u=a,a=l):u=l===r-1?l:l-1;return{x:s,y:a,width:Math.max(c-s+1,1),height:Math.max(u-a+1,1)}}(e,n,r,o,t)}setDevicePixelRatio(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.htmlCanvas)return;let n="width"in t?t.width:this.htmlCanvas.clientWidth,r="height"in t?t.height:this.htmlCanvas.clientHeight;n&&r||(VP.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,n=this.htmlCanvas.width||1,r=this.htmlCanvas.height||1);const o=this._canvasSizeInfo;if(o.clientWidth!==n||o.clientHeight!==r||o.devicePixelRatio!==e){let t=e;const o=Math.floor(n*t),i=Math.floor(r*t);this.htmlCanvas.width=o,this.htmlCanvas.height=i;const[s,a]=this.getDrawingBufferSize();s===o&&a===i||(t=Math.min(s/n,a/r),this.htmlCanvas.width=Math.floor(n*t),this.htmlCanvas.height=Math.floor(r*t),VP.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=n,this._canvasSizeInfo.clientHeight=r,this._canvasSizeInfo.devicePixelRatio=e}}getDrawingBufferSize(){const e=this.device.gl;if(!e)throw new Error("canvas size");return[e.drawingBufferWidth,e.drawingBufferHeight]}_setAutoCreatedCanvasId(e){var t;"lumagl-auto-created-canvas"===(null===(t=this.htmlCanvas)||void 0===t?void 0:t.id)&&(this.htmlCanvas.id=e)}}function mk(e,t,n){return Math.min(Math.round(e*t),n-1)}function vk(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}NA(gk,"pageLoaded",function(){if(pk()||"undefined"===typeof window)return Promise.resolve();return new Promise((e=>{window.addEventListener("load",(()=>e()))}))}());const yk={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},bk=(e,t,n)=>t?e.enable(n):e.disable(n),_k=(e,t,n)=>e.hint(n,t),wk=(e,t,n)=>e.pixelStorei(n,t),xk=(e,t,n)=>{const r=36006===n?36009:36008;return e.bindFramebuffer(r,t)},Ak=(e,t,n)=>{const r={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[n];e.bindBuffer(r,t)};function Ek(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}const Sk={3042:bk,32773:(e,t)=>e.blendColor(...t),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(e,t)=>e.clearColor(...t),3107:(e,t)=>e.colorMask(...t),2884:bk,2885:(e,t)=>e.cullFace(t),2929:bk,2931:(e,t)=>e.clearDepth(t),2932:(e,t)=>e.depthFunc(t),2928:(e,t)=>e.depthRange(...t),2930:(e,t)=>e.depthMask(t),3024:bk,35723:_k,35725:(e,t)=>e.useProgram(t),36007:(e,t)=>e.bindRenderbuffer(36161,t),36389:(e,t)=>{var n;return null===(n=e.bindTransformFeedback)||void 0===n?void 0:n.call(e,36386,t)},34229:(e,t)=>e.bindVertexArray(t),36006:xk,36010:xk,34964:Ak,36662:Ak,36663:Ak,35053:Ak,35055:Ak,2886:(e,t)=>e.frontFace(t),33170:_k,2849:(e,t)=>e.lineWidth(t),32823:bk,32824:"polygonOffset",10752:"polygonOffset",35977:bk,32926:bk,32928:bk,32938:"sampleCoverage",32939:"sampleCoverage",3089:bk,3088:(e,t)=>e.scissor(...t),2960:bk,2961:(e,t)=>e.clearStencil(t),2968:(e,t)=>e.stencilMaskSeparate(1028,t),36005:(e,t)=>e.stencilMaskSeparate(1029,t),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(e,t)=>e.viewport(...t),34383:bk,10754:bk,12288:bk,12289:bk,12290:bk,12291:bk,12292:bk,12293:bk,12294:bk,12295:bk,3333:wk,3317:wk,37440:wk,37441:wk,37443:wk,3330:wk,3332:wk,3331:wk,3314:wk,32878:wk,3316:wk,3315:wk,32877:wk,framebuffer:(e,t)=>{const n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)},blend:(e,t)=>t?e.enable(3042):e.disable(3042),blendColor:(e,t)=>e.blendColor(...t),blendEquation:(e,t)=>{const n="number"===typeof t?[t,t]:t;e.blendEquationSeparate(...n)},blendFunc:(e,t)=>{const n=2===(null===t||void 0===t?void 0:t.length)?[...t,...t]:t;e.blendFuncSeparate(...n)},clearColor:(e,t)=>e.clearColor(...t),clearDepth:(e,t)=>e.clearDepth(t),clearStencil:(e,t)=>e.clearStencil(t),colorMask:(e,t)=>e.colorMask(...t),cull:(e,t)=>t?e.enable(2884):e.disable(2884),cullFace:(e,t)=>e.cullFace(t),depthTest:(e,t)=>t?e.enable(2929):e.disable(2929),depthFunc:(e,t)=>e.depthFunc(t),depthMask:(e,t)=>e.depthMask(t),depthRange:(e,t)=>e.depthRange(...t),dither:(e,t)=>t?e.enable(3024):e.disable(3024),derivativeHint:(e,t)=>{e.hint(35723,t)},frontFace:(e,t)=>e.frontFace(t),mipmapHint:(e,t)=>e.hint(33170,t),lineWidth:(e,t)=>e.lineWidth(t),polygonOffsetFill:(e,t)=>t?e.enable(32823):e.disable(32823),polygonOffset:(e,t)=>e.polygonOffset(...t),sampleCoverage:(e,t)=>e.sampleCoverage(...t),scissorTest:(e,t)=>t?e.enable(3089):e.disable(3089),scissor:(e,t)=>e.scissor(...t),stencilTest:(e,t)=>t?e.enable(2960):e.disable(2960),stencilMask:(e,t)=>{t=Ek(t)?t:[t,t];const[n,r]=t;e.stencilMaskSeparate(1028,n),e.stencilMaskSeparate(1029,r)},stencilFunc:(e,t)=>{t=Ek(t)&&3===t.length?[...t,...t]:t;const[n,r,o,i,s,a]=t;e.stencilFuncSeparate(1028,n,r,o),e.stencilFuncSeparate(1029,i,s,a)},stencilOp:(e,t)=>{t=Ek(t)&&3===t.length?[...t,...t]:t;const[n,r,o,i,s,a]=t;e.stencilOpSeparate(1028,n,r,o),e.stencilOpSeparate(1029,i,s,a)},viewport:(e,t)=>e.viewport(...t)};function Ck(e,t,n){return void 0!==t[e]?t[e]:n[e]}const Mk={blendEquation:(e,t,n)=>e.blendEquationSeparate(Ck(32777,t,n),Ck(34877,t,n)),blendFunc:(e,t,n)=>e.blendFuncSeparate(Ck(32969,t,n),Ck(32968,t,n),Ck(32971,t,n),Ck(32970,t,n)),polygonOffset:(e,t,n)=>e.polygonOffset(Ck(32824,t,n),Ck(10752,t,n)),sampleCoverage:(e,t,n)=>e.sampleCoverage(Ck(32938,t,n),Ck(32939,t,n)),stencilFuncFront:(e,t,n)=>e.stencilFuncSeparate(1028,Ck(2962,t,n),Ck(2967,t,n),Ck(2963,t,n)),stencilFuncBack:(e,t,n)=>e.stencilFuncSeparate(1029,Ck(34816,t,n),Ck(36003,t,n),Ck(36004,t,n)),stencilOpFront:(e,t,n)=>e.stencilOpSeparate(1028,Ck(2964,t,n),Ck(2965,t,n),Ck(2966,t,n)),stencilOpBack:(e,t,n)=>e.stencilOpSeparate(1029,Ck(34817,t,n),Ck(34818,t,n),Ck(34819,t,n))},Rk={enable:(e,t)=>e({[t]:!0}),disable:(e,t)=>e({[t]:!1}),pixelStorei:(e,t,n)=>e({[t]:n}),hint:(e,t,n)=>e({[t]:n}),useProgram:(e,t)=>e({35725:t}),bindRenderbuffer:(e,t,n)=>e({36007:n}),bindTransformFeedback:(e,t,n)=>e({36389:n}),bindVertexArray:(e,t)=>e({34229:t}),bindFramebuffer:(e,t,n)=>{switch(t){case 36160:return e({36006:n,36010:n});case 36009:return e({36006:n});case 36008:return e({36010:n});default:return null}},bindBuffer:(e,t,n)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[t];return r?e({[r]:n}):{valueChanged:!0}},blendColor:(e,t,n,r,o)=>e({32773:new Float32Array([t,n,r,o])}),blendEquation:(e,t)=>e({32777:t,34877:t}),blendEquationSeparate:(e,t,n)=>e({32777:t,34877:n}),blendFunc:(e,t,n)=>e({32969:t,32968:n,32971:t,32970:n}),blendFuncSeparate:(e,t,n,r,o)=>e({32969:t,32968:n,32971:r,32970:o}),clearColor:(e,t,n,r,o)=>e({3106:new Float32Array([t,n,r,o])}),clearDepth:(e,t)=>e({2931:t}),clearStencil:(e,t)=>e({2961:t}),colorMask:(e,t,n,r,o)=>e({3107:[t,n,r,o]}),cullFace:(e,t)=>e({2885:t}),depthFunc:(e,t)=>e({2932:t}),depthRange:(e,t,n)=>e({2928:new Float32Array([t,n])}),depthMask:(e,t)=>e({2930:t}),frontFace:(e,t)=>e({2886:t}),lineWidth:(e,t)=>e({2849:t}),polygonOffset:(e,t,n)=>e({32824:t,10752:n}),sampleCoverage:(e,t,n)=>e({32938:t,32939:n}),scissor:(e,t,n,r,o)=>e({3088:new Int32Array([t,n,r,o])}),stencilMask:(e,t)=>e({2968:t,36005:t}),stencilMaskSeparate:(e,t,n)=>e({[1028===t?2968:36005]:n}),stencilFunc:(e,t,n,r)=>e({2962:t,2967:n,2963:r,34816:t,36003:n,36004:r}),stencilFuncSeparate:(e,t,n,r,o)=>e({[1028===t?2962:34816]:n,[1028===t?2967:36003]:r,[1028===t?2963:36004]:o}),stencilOp:(e,t,n,r)=>e({2964:t,2965:n,2966:r,34817:t,34818:n,34819:r}),stencilOpSeparate:(e,t,n,r,o)=>e({[1028===t?2964:34817]:n,[1028===t?2965:34818]:r,[1028===t?2966:34819]:o}),viewport:(e,t,n,r,o)=>e({2978:[t,n,r,o]})},Tk=(e,t)=>e.isEnabled(t),Pk={3042:Tk,2884:Tk,2929:Tk,3024:Tk,32823:Tk,32926:Tk,32928:Tk,3089:Tk,2960:Tk,35977:Tk},kk=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Ik(e,t){if(function(e){for(const t in e)return!1;return!0}(t))return;const n={};for(const o in t){const r=Number(o),i=Sk[o];i&&("string"===typeof i?n[i]=!0:i(e,t[o],r))}const r=e.state&&e.state.cache;if(r)for(const o in n){(0,Mk[o])(e,t,r)}}function Ok(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yk;if("number"===typeof t){const n=t,r=Pk[n];return r?r(e,n):e.getParameter(n)}const n=Array.isArray(t)?t:Object.keys(t),r={};for(const o of n){const t=Pk[o];r[o]=t?t(e,Number(o)):e.getParameter(Number(o))}return r}function Lk(e,t){if(e===t)return!0;const n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}return!1}class Nk{constructor(e){let{copyState:t=!1,log:n=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};NA(this,"gl",void 0),NA(this,"program",null),NA(this,"stateStack",[]),NA(this,"enable",!0),NA(this,"cache",void 0),NA(this,"log",void 0),this.gl=e,this.cache=t?Ok(e):Object.assign({},yk),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){lk(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];Ik(this.gl,e),this.stateStack.pop()}_updateCache(e){let t,n=!1;const r=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const o in e){lk(void 0!==o);const i=e[o],s=this.cache[o];Lk(i,s)||(n=!0,t=s,r&&!(o in r)&&(r[o]=s),this.cache[o]=i)}return{valueChanged:n,oldValue:t}}}function Fk(e){return e.state}function Dk(e,t){const{enable:n=!0,copyState:r}=t;if(lk(void 0!==r),!e.state){e.state=new Nk(e,{copyState:r}),function(e){const t=e.useProgram.bind(e);e.useProgram=function(n){const r=Fk(e);r.program!==n&&(t(n),r.program=n)}}(e);for(const t in Rk){Uk(e,t,Rk[t])}jk(e,"getParameter"),jk(e,"isEnabled")}return Fk(e).enable=n,e}function Bk(e){let t=Fk(e);t||(Dk(e,{copyState:!1}),t=Fk(e)),t.push()}function zk(e){const t=Fk(e);lk(t),t.pop()}function jk(e,t){const n=e[t].bind(e);e[t]=function(t){if(void 0===t||kk.has(t))return n(t);const r=Fk(e);return t in r.cache||(r.cache[t]=n(t)),r.enable?r.cache[t]:n(t)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function Uk(e,t,n){if(!e[t])return;const r=e[t].bind(e);e[t]=function(){const t=Fk(e);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];const{valueChanged:a,oldValue:l}=n(t._updateCache,...i);return a&&r(...i),l},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}const Gk={powerPreference:"high-performance",onContextLost:()=>console.error("WebGL context lost"),onContextRestored:()=>console.info("WebGL context restored")};function Hk(e,t,n){return void 0===n[t]&&(n[t]=e.getExtension(t)||null),n[t]}function Vk(e,t){const n=e.getParameter(7936),r=e.getParameter(7937);Hk(e,"WEBGL_debug_renderer_info",t);const o=t.WEBGL_debug_renderer_info,i=e.getParameter(o?o.UNMASKED_VENDOR_WEBGL:7936)||n,s=e.getParameter(o?o.UNMASKED_RENDERER_WEBGL:7937)||r,a=e.getParameter(7938),l=Wk(i,s),c=function(e,t){if(/Metal/i.exec(e)||/Metal/i.exec(t))return"metal";if(/ANGLE/i.exec(e)||/ANGLE/i.exec(t))return"opengl";return"unknown"}(i,s),u=function(e,t){if(/SwiftShader/i.exec(e)||/SwiftShader/i.exec(t))return"cpu";switch(Wk(e,t)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}(i,s);return{type:"webgl",gpu:l,gpuType:u,gpuBackend:c,vendor:i,renderer:s,version:a,shadingLanguage:"glsl",shadingLanguageVersion:300}}function Wk(e,t){return/NVIDIA/i.exec(e)||/NVIDIA/i.exec(t)?"nvidia":/INTEL/i.exec(e)||/INTEL/i.exec(t)?"intel":/Apple/i.exec(e)||/Apple/i.exec(t)?"apple":/AMD/i.exec(e)||/AMD/i.exec(t)||/ATI/i.exec(e)||/ATI/i.exec(t)?"amd":/SwiftShader/i.exec(e)||/SwiftShader/i.exec(t)?"software":"unknown"}function Xk(e){switch(e){case"uint8":case"unorm8":return 5121;case"sint8":case"snorm8":return 5120;case"uint16":case"unorm16":return 5123;case"sint16":case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(e))}const qk="texture-compression-bc",Kk="texture-compression-astc",Yk="texture-compression-etc2",Zk="texture-compression-pvrtc-webgl",Qk="texture-compression-atc-webgl",$k="float32-renderable-webgl",Jk="float16-renderable-webgl",eI="snorm8-renderable-webgl",tI="norm16-renderable-webgl",nI="snorm16-renderable-webgl",rI="float32-filterable",oI="float16-filterable-webgl",iI="WEBGL_compressed_texture_s3tc",sI="WEBGL_compressed_texture_s3tc_srgb",aI="EXT_texture_compression_rgtc",lI="EXT_texture_compression_bptc",cI="EXT_texture_norm16",uI="EXT_render_snorm",dI={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat_renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[uI],"norm16-renderable-webgl":[cI],"snorm16-renderable-webgl":[cI,uI],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[iI,sI,aI,lI],"texture-compression-bc5-webgl":[aI],"texture-compression-bc7-webgl":[lI],"texture-compression-etc2":["WEBGL_compressed_texture_etc"],"texture-compression-astc":["WEBGL_compressed_texture_astc"],"texture-compression-etc1-webgl":["WEBGL_compressed_texture_etc1"],"texture-compression-pvrtc-webgl":["WEBGL_compressed_texture_pvrtc"],"texture-compression-atc-webgl":["WEBGL_compressed_texture_atc"]};function hI(e,t,n){return(dI[t]||[]).every((t=>Hk(e,t,n)))}const pI={"rgb8unorm-unsized":{gl:6407,b:4,c:2,bpp:4,dataFormat:6407,types:[5121,33635]},"rgba8unorm-unsized":{gl:6408,b:4,c:2,bpp:4,dataFormat:6408,types:[5121,32819,32820]},r8unorm:{gl:33321,b:1,c:1,rb:!0},r8snorm:{gl:36756,b:1,c:1,render:eI},r8uint:{gl:33330,b:1,c:1,rb:!0},r8sint:{gl:33329,b:1,c:1,rb:!0},rg8unorm:{gl:33323,b:2,c:2,rb:!0},rg8snorm:{gl:36757,b:2,c:2,render:eI},rg8uint:{gl:33336,b:2,c:2,rb:!0},rg8sint:{gl:33335,b:2,c:2,rb:!0},r16uint:{gl:33332,b:2,c:1,rb:!0},r16sint:{gl:33331,b:2,c:1,rb:!0},r16float:{gl:33325,b:2,c:1,render:Jk,filter:"float16-filterable-webgl",rb:!0},"r16unorm-webgl":{gl:33322,b:2,c:1,f:tI,rb:!0},"r16snorm-webgl":{gl:36760,b:2,c:1,f:nI},"rgba4unorm-webgl":{gl:32854,b:2,c:4,wgpu:!1,rb:!0},"rgb565unorm-webgl":{gl:36194,b:2,c:4,wgpu:!1,rb:!0},"rgb5a1unorm-webgl":{gl:32855,b:2,c:4,wgpu:!1,rb:!0},"rgb8unorm-webgl":{gl:32849,b:3,c:3,wgpu:!1},"rgb8snorm-webgl":{gl:36758,b:3,c:3,wgpu:!1},rgba8unorm:{gl:32856,b:4,c:2,bpp:4},"rgba8unorm-srgb":{gl:35907,b:4,c:4,bpp:4},rgba8snorm:{gl:36759,b:4,c:4,render:eI},rgba8uint:{gl:36220,b:4,c:4,bpp:4},rgba8sint:{gl:36238,b:4,c:4,bpp:4},bgra8unorm:{b:4,c:4},"bgra8unorm-srgb":{b:4,c:4},rg16uint:{gl:33338,b:4,c:1,bpp:4},rg16sint:{gl:33337,b:4,c:2,bpp:4},rg16float:{gl:33327,bpp:4,b:4,c:2,render:Jk,filter:oI,rb:!0},"rg16unorm-webgl":{gl:33324,b:2,c:2,render:tI},"rg16snorm-webgl":{gl:36761,b:2,c:2,render:nI},r32uint:{gl:33334,b:4,c:1,bpp:4,rb:!0},r32sint:{gl:33333,b:4,c:1,bpp:4,rb:!0},r32float:{gl:33326,bpp:4,b:4,c:1,render:$k,filter:rI},rgb9e5ufloat:{gl:35901,b:4,c:3,p:1,render:"rgb9e5ufloat_renderable-webgl"},rg11b10ufloat:{gl:35898,b:4,c:3,p:1,render:$k,rb:!0},rgb10a2unorm:{gl:32857,b:4,c:4,p:1,rb:!0},"rgb10a2uint-webgl":{b:4,c:4,gl:36975,p:1,wgpu:!1,bpp:4,rb:!0},"rgb16unorm-webgl":{gl:32852,b:2,c:3,f:tI},"rgb16snorm-webgl":{gl:36762,b:2,c:3,f:tI},rg32uint:{gl:33340,b:8,c:2,rb:!0},rg32sint:{gl:33339,b:8,c:2,rb:!0},rg32float:{gl:33328,b:8,c:2,render:$k,filter:rI,rb:!0},rgba16uint:{gl:36214,b:8,c:4,rb:!0},rgba16sint:{gl:36232,b:8,c:4,rb:!0},rgba16float:{gl:34842,b:8,c:4,render:Jk,filter:oI},"rgba16unorm-webgl":{gl:32859,b:2,c:4,render:tI,rb:!0},"rgba16snorm-webgl":{gl:36763,b:2,c:4,render:nI},"rgb32float-webgl":{gl:34837,render:$k,filter:rI,gl2ext:"EXT_color_buffer_float",dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,b:16,c:4,rb:!0},rgba32sint:{gl:36226,b:16,c:4,rb:!0},rgba32float:{gl:34836,b:16,c:4,render:$k,filter:rI,rb:!0},stencil8:{gl:36168,b:1,c:1,attachment:36128,rb:!0},depth16unorm:{gl:33189,b:2,c:1,attachment:36096,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,b:3,c:1,attachment:36096,dataFormat:6402,types:[5125]},depth32float:{gl:36012,b:4,c:1,attachment:36096,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth24unorm-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,dataFormat:34041,types:[34042],rb:!0},"depth32float-stencil8":{gl:36013,b:5,c:2,p:1,attachment:33306,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:iI,f:qk},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:sI,f:qk},"bc1-rgba-unorm":{gl:33777,x:iI,f:qk},"bc1-rgba-unorm-srgb":{gl:35916,x:sI,f:qk},"bc2-rgba-unorm":{gl:33778,x:iI,f:qk},"bc2-rgba-unorm-srgb":{gl:35918,x:sI,f:qk},"bc3-rgba-unorm":{gl:33779,x:iI,f:qk},"bc3-rgba-unorm-srgb":{gl:35919,x:sI,f:qk},"bc4-r-unorm":{gl:36283,x:aI,f:qk},"bc4-r-snorm":{gl:36284,x:aI,f:qk},"bc5-rg-unorm":{gl:36285,x:aI,f:qk},"bc5-rg-snorm":{gl:36286,x:aI,f:qk},"bc6h-rgb-ufloat":{gl:36495,x:lI,f:qk},"bc6h-rgb-float":{gl:36494,x:lI,f:qk},"bc7-rgba-unorm":{gl:36492,x:lI,f:qk},"bc7-rgba-unorm-srgb":{gl:36493,x:lI,f:qk},"etc2-rgb8unorm":{gl:37492,f:Yk},"etc2-rgb8unorm-srgb":{gl:37494,f:Yk},"etc2-rgb8a1unorm":{gl:37496,f:Yk},"etc2-rgb8a1unorm-srgb":{gl:37497,f:Yk},"etc2-rgba8unorm":{gl:37493,f:Yk},"etc2-rgba8unorm-srgb":{gl:37495,f:Yk},"eac-r11unorm":{gl:37488,f:Yk},"eac-r11snorm":{gl:37489,f:Yk},"eac-rg11unorm":{gl:37490,f:Yk},"eac-rg11snorm":{gl:37491,f:Yk},"astc-4x4-unorm":{gl:37808,f:Kk},"astc-4x4-unorm-srgb":{gl:37840,f:Kk},"astc-5x4-unorm":{gl:37809,f:Kk},"astc-5x4-unorm-srgb":{gl:37841,f:Kk},"astc-5x5-unorm":{gl:37810,f:Kk},"astc-5x5-unorm-srgb":{gl:37842,f:Kk},"astc-6x5-unorm":{gl:37811,f:Kk},"astc-6x5-unorm-srgb":{gl:37843,f:Kk},"astc-6x6-unorm":{gl:37812,f:Kk},"astc-6x6-unorm-srgb":{gl:37844,f:Kk},"astc-8x5-unorm":{gl:37813,f:Kk},"astc-8x5-unorm-srgb":{gl:37845,f:Kk},"astc-8x6-unorm":{gl:37814,f:Kk},"astc-8x6-unorm-srgb":{gl:37846,f:Kk},"astc-8x8-unorm":{gl:37815,f:Kk},"astc-8x8-unorm-srgb":{gl:37847,f:Kk},"astc-10x5-unorm":{gl:37819,f:Kk},"astc-10x5-unorm-srgb":{gl:37851,f:Kk},"astc-10x6-unorm":{gl:37817,f:Kk},"astc-10x6-unorm-srgb":{gl:37849,f:Kk},"astc-10x8-unorm":{gl:37818,f:Kk},"astc-10x8-unorm-srgb":{gl:37850,f:Kk},"astc-10x10-unorm":{gl:37819,f:Kk},"astc-10x10-unorm-srgb":{gl:37851,f:Kk},"astc-12x10-unorm":{gl:37820,f:Kk},"astc-12x10-unorm-srgb":{gl:37852,f:Kk},"astc-12x12-unorm":{gl:37821,f:Kk},"astc-12x12-unorm-srgb":{gl:37853,f:Kk},"pvrtc-rgb4unorm-webgl":{gl:35840,f:Zk},"pvrtc-rgba4unorm-webgl":{gl:35842,f:Zk},"pvrtc-rbg2unorm-webgl":{gl:35841,f:Zk},"pvrtc-rgba2unorm-webgl":{gl:35843,f:Zk},"etc1-rbg-unorm-webgl":{gl:36196,f:"texture-compression-etc1-webgl"},"atc-rgb-unorm-webgl":{gl:35986,f:Qk},"atc-rgba-unorm-webgl":{gl:35986,f:Qk},"atc-rgbai-unorm-webgl":{gl:34798,f:Qk}},fI={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},gI={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function mI(e,t,n){const r=pI[t];if(!r)return!1;if(void 0===r.gl)return!1;const o=r.x||r.gl2ext;return!o||Boolean(Hk(e,o,n))}function vI(e){const t=pI[e],n=null===t||void 0===t?void 0:t.gl;if(void 0===n)throw new Error("Unsupported texture format ".concat(e));return n}function yI(e){var t;const n=pI[e],r=vI(e),o=rk(e);return{format:r,dataFormat:(null===n||void 0===n?void 0:n.dataFormat)||_I(o.format,o.integer,o.normalized,r),type:o.dataType?Xk(o.dataType):(null===n||void 0===n||null===(t=n.types)||void 0===t?void 0:t[0])||5121,compressed:o.compressed}}function bI(e){const t=yI(e);return(fI[t.dataFormat]||4)*(gI[t.type]||1)}function _I(e,t,n,r){if(6408===r||6407===r)return r;switch(e){case"r":return t&&!n?36244:6403;case"rg":return t&&!n?33320:33319;case"rgb":return t&&!n?36248:6407;case"rgba":return t&&!n?36249:6408;default:return 6408}}const wI={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class xI extends sk{constructor(e,t,n){super([],n),NA(this,"gl",void 0),NA(this,"extensions",void 0),NA(this,"testedFeatures",new Set),this.gl=e,this.extensions=t,Hk(e,"EXT_color_buffer_float",t)}*[Symbol.iterator](){const e=this.getFeatures();for(const t of e)this.has(t)&&(yield t);return[]}has(e){return!this.disabledFeatures[e]&&(this.testedFeatures.has(e)||(this.testedFeatures.add(e),function(e){return e in dI}(e)&&hI(this.gl,e,this.extensions)&&this.features.add(e),this.getWebGLFeature(e)&&this.features.add(e)),this.features.has(e))}initializeFeatures(){const e=this.getFeatures().filter((e=>"polygon-mode-webgl"!==e));for(const t of e)this.has(t)}getFeatures(){return[...Object.keys(wI),...Object.keys(dI)]}getWebGLFeature(e){const t=wI[e];return"string"===typeof t?Boolean(Hk(this.gl,t,this.extensions)):Boolean(t)}}class AI extends ik{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}constructor(e){super(),NA(this,"gl",void 0),NA(this,"limits",{}),this.gl=e}getParameter(e){return void 0===this.limits[e]&&(this.limits[e]=this.gl.getParameter(e)),this.limits[e]}}class EI extends ZP{get[Symbol.toStringTag](){return"Texture"}constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:EI.defaultProps),NA(this,"dimension",void 0),NA(this,"format",void 0),NA(this,"width",void 0),NA(this,"height",void 0),NA(this,"depth",void 0),NA(this,"updateTimestamp",void 0),this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.updateTimestamp=e.incrementTimestamp()}}NA(EI,"defaultProps",{...ZP.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!0,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,type:void 0,sampler:{},view:void 0}),NA(EI,"COPY_SRC",1),NA(EI,"COPY_DST",2),NA(EI,"TEXTURE_BINDING",4),NA(EI,"STORAGE_BINDING",8),NA(EI,"RENDER_ATTACHMENT",16);class SI extends ZP{get[Symbol.toStringTag](){return"Framebuffer"}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},SI.defaultProps),NA(this,"width",void 0),NA(this,"height",void 0),NA(this,"colorAttachments",[]),NA(this,"depthStencilAttachment",null),this.width=this.props.width,this.height=this.props.height}resize(e){let t=!e;if(e){const[n,r]=Array.isArray(e)?e:[e.width,e.height];t=t||r!==this.height||n!==this.width,this.width=n,this.height=r}t&&(VP.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(this.width,"x").concat(this.height))(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(0===this.props.colorAttachments.length&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((e=>{if("string"===typeof e){const t=this.createColorTexture(e);return this.attachResource(t),t.view}return e instanceof EI?e.view:e}));const e=this.props.depthStencilAttachment;if(e)if("string"===typeof e){const t=this.createDepthStencilTexture(e);this.attachResource(t),this.depthStencilAttachment=t.view}else this.depthStencilAttachment=e instanceof EI?e.view:e}createColorTexture(e){return this.device.createTexture({id:"color-attachment",usage:EI.RENDER_ATTACHMENT,format:e,width:this.width,height:this.height})}createDepthStencilTexture(e){return this.device.createTexture({id:"depth-stencil-attachment",usage:EI.RENDER_ATTACHMENT,format:e,width:this.width,height:this.height})}resizeAttachments(e,t){for(let n=0;n<this.colorAttachments.length;++n)if(this.colorAttachments[n]){const r=this.device._createTexture({...this.colorAttachments[n].props,width:e,height:t});this.destroyAttachedResource(this.colorAttachments[n]),this.colorAttachments[n]=r.view,this.attachResource(r.view)}if(this.depthStencilAttachment){const n=this.device._createTexture({...this.depthStencilAttachment.props,width:e,height:t});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=n.view,this.attachResource(n)}}}NA(SI,"defaultProps",{...ZP.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let CI="";async function MI(e,t){return await new Promise(((n,r)=>{try{const o=new Image;o.onload=()=>n(o),o.onerror=()=>r(new Error("Could not load image ".concat(e,"."))),o.crossOrigin=(null===t||void 0===t?void 0:t.crossOrigin)||"anonymous",o.src=e.startsWith("http")?e:CI+e}catch(o){r(o)}}))}async function RI(e,t){const n=document.getElementsByTagName("head")[0];if(!n)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",e),t&&(r.id=t),new Promise(((t,o)=>{r.onload=t,r.onerror=t=>o(new Error("Unable to load script '".concat(e,"': ").concat(t))),n.appendChild(r)}))}function TI(e,t,n){if(function(e){for(const t in e)return!1;return!0}(t))return n(e);const{nocatch:r=!0}=t;let o;if(Bk(e),Ik(e,t),r)o=n(e),zk(e);else try{o=n(e)}finally{zk(e)}return o}function PI(e,t){const n=e,{gl:r}=n;if(t.cullMode)switch(t.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029)}if(t.frontFace&&r.frontFace(NI("frontFace",t.frontFace,{ccw:2305,cw:2304})),t.unclippedDepth&&e.features.has("depth-clip-control")&&r.enable(34383),void 0!==t.depthBias&&(r.enable(32823),r.polygonOffset(t.depthBias,t.depthBiasSlopeScale||0)),t.provokingVertex&&e.features.has("provoking-vertex-webgl")){const e=n.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,r=NI("provokingVertex",t.provokingVertex,{first:36429,last:36430});null===e||void 0===e||e.provokingVertexWEBGL(r)}if((t.polygonMode||t.polygonOffsetLine)&&e.features.has("polygon-mode-webgl")){if(t.polygonMode){const e=n.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,r=NI("polygonMode",t.polygonMode,{fill:6914,line:6913});null===e||void 0===e||e.polygonModeWEBGL(1028,r),null===e||void 0===e||e.polygonModeWEBGL(1029,r)}t.polygonOffsetLine&&r.enable(10754)}if(e.features.has("shader-clip-cull-distance-webgl")&&(t.clipDistance0&&r.enable(12288),t.clipDistance1&&r.enable(12289),t.clipDistance2&&r.enable(12290),t.clipDistance3&&r.enable(12291),t.clipDistance4&&r.enable(12292),t.clipDistance5&&r.enable(12293),t.clipDistance6&&r.enable(12294),t.clipDistance7&&r.enable(12295)),void 0!==t.depthWriteEnabled&&r.depthMask(t.depthWriteEnabled),t.depthCompare&&("always"!==t.depthCompare?r.enable(2929):r.disable(2929),r.depthFunc(kI("depthCompare",t.depthCompare))),t.stencilWriteMask){const e=t.stencilWriteMask;r.stencilMaskSeparate(1028,e),r.stencilMaskSeparate(1029,e)}if(t.stencilReadMask&&VP.warn("stencilReadMask not supported under WebGL"),t.stencilCompare){const e=t.stencilReadMask||4294967295,n=kI("depthCompare",t.stencilCompare);"always"!==t.stencilCompare?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,n,0,e),r.stencilFuncSeparate(1029,n,0,e)}if(t.stencilPassOperation&&t.stencilFailOperation&&t.stencilDepthFailOperation){const e=II("stencilPassOperation",t.stencilPassOperation),n=II("stencilFailOperation",t.stencilFailOperation),o=II("stencilDepthFailOperation",t.stencilDepthFailOperation);r.stencilOpSeparate(1028,n,o,e),r.stencilOpSeparate(1029,n,o,e)}if(t.blendColorOperation||t.blendAlphaOperation){r.enable(3042);const e=OI("blendColorOperation",t.blendColorOperation||"add"),n=OI("blendAlphaOperation",t.blendAlphaOperation||"add");r.blendEquationSeparate(e,n);const o=LI("blendColorSrcFactor",t.blendColorSrcFactor||"one"),i=LI("blendColorDstFactor",t.blendColorDstFactor||"zero"),s=LI("blendAlphaSrcFactor",t.blendAlphaSrcFactor||"one"),a=LI("blendAlphaDstFactor",t.blendAlphaDstFactor||"zero");r.blendFuncSeparate(o,i,s,a)}}function kI(e,t){return NI(e,t,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function II(e,t){return NI(e,t,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function OI(e,t){return NI(e,t,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function LI(e,t){return NI(e,t,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function NI(e,t,n){if(!(t in n))throw new Error(function(e,t){return"Illegal parameter ".concat(t," for ").concat(e)}(e,t));return n[t]}function FI(e){const t={};return e.addressModeU&&(t[10242]=DI(e.addressModeU)),e.addressModeV&&(t[10243]=DI(e.addressModeV)),e.addressModeW&&(t[32882]=DI(e.addressModeW)),e.magFilter&&(t[10240]=BI(e.magFilter)),(e.minFilter||e.mipmapFilter)&&(t[10241]=function(e,t){if(!t)return BI(e);switch(e){case"nearest":return"nearest"===t?9984:9986;case"linear":return"nearest"===t?9985:9987}}(e.minFilter||"linear",e.mipmapFilter)),void 0!==e.lodMinClamp&&(t[33082]=e.lodMinClamp),void 0!==e.lodMaxClamp&&(t[33083]=e.lodMaxClamp),"comparison-sampler"===e.type&&(t[34892]=34894),e.compare&&(t[34893]=kI("compare",e.compare)),e.maxAnisotropy&&(t[34046]=e.maxAnisotropy),t}function DI(e){switch(e){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function BI(e){switch(e){case"nearest":return 9728;case"linear":return 9729}}class zI extends QP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),NA(this,"device",void 0),NA(this,"gl",void 0),NA(this,"handle",void 0),NA(this,"glTarget",void 0),NA(this,"glUsage",void 0),NA(this,"glIndexType",5123),NA(this,"byteLength",void 0),NA(this,"bytesUsed",void 0),this.device=e,this.gl=this.device.gl;const n="object"===typeof t?t.handle:void 0;this.handle=n||this.gl.createBuffer(),e.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=function(e){if(e&QP.INDEX)return 34963;if(e&QP.VERTEX)return 34962;if(e&QP.UNIFORM)return 35345;return 34962}(this.props.usage),this.glUsage=function(e){if(e&QP.INDEX)return 35044;if(e&QP.VERTEX)return 35044;if(e&QP.UNIFORM)return 35048;return 35044}(this.props.usage),this.glIndexType="uint32"===this.props.indexType?5125:5123,t.data?this._initWithData(t.data,t.byteOffset,t.byteLength):this._initWithByteLength(t.byteLength||0)}_initWithData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;const r=this.glTarget;this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.glUsage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.bytesUsed=n,this.byteLength=n,this._setDebugData(e,t,n),this.trackAllocatedMemory(n)}_initWithByteLength(e){lk(e>=0);let t=e;0===e&&(t=new Float32Array(0));const n=this.glTarget;return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,t,this.glUsage),this.gl.bindBuffer(n,null),this.bytesUsed=e,this.byteLength=e,this._setDebugData(null,0,e),this.trackAllocatedMemory(e),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=36663;this.gl.bindBuffer(n,this.handle),this.gl.bufferSubData(n,t,e),this.gl.bindBuffer(n,null),this._setDebugData(e,t,e.byteLength)}async readAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.readSyncWebGL(e,t)}readSyncWebGL(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;n=null!==(e=n)&&void 0!==e?e:this.byteLength-t;const r=new Uint8Array(n);return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,r,0,n),this.gl.bindBuffer(36662,null),this._setDebugData(r,t,n),r}}class jI extends ZP{get[Symbol.toStringTag](){return"Sampler"}constructor(e,t){super(e,t,jI.defaultProps)}}NA(jI,"defaultProps",{...ZP.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});class UI extends jI{constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"handle",void 0),NA(this,"parameters",void 0),this.device=e,this.parameters=FI(t),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return"Sampler(".concat(this.id,",").concat(JSON.stringify(this.props),")")}_setSamplerParameters(e){for(const[t,n]of Object.entries(e)){const e=Number(t);switch(e){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,e,n);break;default:this.device.gl.samplerParameteri(this.handle,e,n)}}}}class GI extends ZP{get[Symbol.toStringTag](){return"TextureView"}constructor(e,t){super(e,t,GI.defaultProps)}}NA(GI,"defaultProps",{...ZP.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});class HI extends GI{constructor(e,t){super(e,{...EI.defaultProps,...t}),NA(this,"device",void 0),NA(this,"gl",void 0),NA(this,"handle",void 0),NA(this,"texture",void 0),this.device=e,this.gl=this.device.gl,this.handle=null,this.texture=t.texture}}const VI={parameters:{},pixelStore:{},pixels:null,border:0,dataFormat:void 0,textureUnit:void 0,target:void 0};class WI extends EI{constructor(e,t){var n;super(e,{...VI,format:"rgba8unorm",...t}),NA(this,"MAX_ATTRIBUTES",void 0),NA(this,"device",void 0),NA(this,"gl",void 0),NA(this,"handle",void 0),NA(this,"sampler",void 0),NA(this,"view",void 0),NA(this,"glFormat",void 0),NA(this,"type",void 0),NA(this,"dataFormat",void 0),NA(this,"mipmaps",void 0),NA(this,"target",void 0),NA(this,"textureUnit",void 0),NA(this,"loaded",!1),NA(this,"_video",void 0),this.device=e,this.gl=this.device.gl,this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glFormat=6408,this.target=function(e){switch(e.dimension){case"2d":return 3553;case"cube":return 34067;case"2d-array":return 35866;case"3d":return 32879;default:throw new Error(e.dimension)}}(this.props),this.loaded=!1,"string"===typeof(null===(n=this.props)||void 0===n?void 0:n.data)&&Object.assign(this.props,{data:MI(this.props.data)}),this.initialize(this.props),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}createView(e){return new HI(this.device,{...e,texture:this})}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("cube"===this.props.dimension)return this.initializeCube(e);let t=e.data;if(t instanceof Promise)return t.then((t=>this.initialize(Object.assign({},e,{pixels:t,data:t})))),this;const n="undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement;if(n&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",(()=>this.initialize(e))),this;const{parameters:r={}}=e,{pixels:o=null,pixelStore:i={},textureUnit:s,mipmaps:a=!0}=e;t||(t=o);let{width:l,height:c,dataFormat:u,type:d,compressed:h=!1}=e;const{depth:p=0}=e,f=vI(e.format);return({width:l,height:c,compressed:h,dataFormat:u,type:d}=this._deduceParameters({format:e.format,type:d,dataFormat:u,compressed:h,data:t,width:l,height:c})),this.width=l,this.height=c,this.glFormat=f,this.type=d,this.dataFormat=u,this.textureUnit=s,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),this.mipmaps=a,this.setImageData({data:t,width:l,height:c,depth:p,format:f,type:d,dataFormat:u,parameters:i,compressed:h}),this.setSampler(e.sampler),this._setSamplerParameters(r),this.view=this.createView({...this.props,mipLevelCount:1,arrayLayerCount:1}),a&&this.device.isTextureFormatFilterable(e.format)&&this.generateMipmap(),n&&(this._video={video:t,parameters:r,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}initializeCube(e){const{mipmaps:t=!0,parameters:n={}}=e;return this.setCubeMapImageData(e).then((()=>{this.loaded=!0,t&&this.generateMipmap(e),this.setSampler(e.sampler),this._setSamplerParameters(n)})),this}setSampler(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t instanceof UI?(this.sampler=t,e=t.props):(this.sampler=new UI(this.device,t),e=t);const n=FI(e);return this._setSamplerParameters(n),this}resize(e){const{height:t,width:n,mipmaps:r=!1}=e;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,mipmaps:r}):this}update(){if(this._video){const{video:e,parameters:t,lastTime:n}=this._video;if(n===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),TI(this.gl,e,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this}setImageData(e){if("3d"===this.props.dimension||"2d-array"===this.props.dimension)return this.setImageData3D(e);this.trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:n=null,level:r=0,glFormat:o=this.glFormat,offset:i=0,parameters:s={}}=e;let{data:a=null,type:l=this.type,width:c=this.width,height:u=this.height,dataFormat:d=this.dataFormat,compressed:h=!1}=e;a||(a=n),({type:l,dataFormat:d,compressed:h,width:c,height:u}=this._deduceParameters({format:this.props.format,type:l,dataFormat:d,compressed:h,data:a,width:c,height:u}));const{gl:p}=this;p.bindTexture(this.target,this.handle);let f=null;if(({data:a,dataType:f}=this._getDataType({data:a,compressed:h})),TI(this.gl,s,(()=>{switch(f){case"null":case"browser-object":p.texImage2D(t,r,o,c,u,0,d,l,a);break;case"typed-array":p.texImage2D(t,r,o,c,u,0,d,l,a,i);break;case"buffer":this.device.gl.bindBuffer(35052,a.handle||a),this.device.gl.texImage2D(t,r,o,c,u,0,d,l,i),this.device.gl.bindBuffer(35052,null);break;case"compressed":for(const[e,n]of a.entries())p.compressedTexImage2D(t,e,n.format,n.width,n.height,0,n.data);break;default:lk(!1,"Unknown image data type")}})),a&&a.byteLength)this.trackAllocatedMemory(a.byteLength,"Texture");else{const e=bI(this.props.format);this.trackAllocatedMemory(this.width*this.height*e,"Texture")}return this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:n=null,data:r=null,x:o=0,y:i=0,width:s=this.width,height:a=this.height,level:l=0,glFormat:c=this.glFormat,type:u=this.type,dataFormat:d=this.dataFormat,compressed:h=!1,offset:p=0,parameters:f={}}=e;if(({type:u,dataFormat:d,compressed:h,width:s,height:a}=this._deduceParameters({format:this.props.format,type:u,dataFormat:d,compressed:h,data:r,width:s,height:a})),lk(1===this.depth,"texSubImage not supported for 3D textures"),r||(r=n),r&&r.data){const e=r;r=e.data,s=e.shape[0],a=e.shape[1]}r instanceof zI&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),TI(this.gl,f,(()=>{h?this.gl.compressedTexSubImage2D(t,l,o,i,s,a,c,r):null===r?this.gl.texSubImage2D(t,l,o,i,s,a,d,u,null):ArrayBuffer.isView(r)?this.gl.texSubImage2D(t,l,o,i,s,a,d,u,r,p):"undefined"!==typeof WebGLBuffer&&r instanceof WebGLBuffer?(this.device.gl.bindBuffer(35052,r),this.device.gl.texSubImage2D(t,l,o,i,s,a,d,u,p),this.device.gl.bindBuffer(35052,null)):this.device.gl.texSubImage2D(t,l,o,i,s,a,d,u,r)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return VP.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:n=!1}=e;return n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof zI?{data:t.handle,dataType:"buffer"}:"undefined"!==typeof WebGLBuffer&&t instanceof WebGLBuffer?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:n}=e;let{width:r,height:o,dataFormat:i,type:s,compressed:a}=e;const l=yI(t);return i=i||l.dataFormat,s=s||l.type,a=a||l.compressed,({width:r,height:o}=this._deduceImageSize(n,r,o)),{dataFormat:i,type:s,compressed:a,width:r,height:o,format:t,data:n}}_deduceImageSize(e,t,n){let r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},lk(r,"Could not deduced texture size"),lk(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),lk(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}async setCubeMapImageData(e){const{gl:t}=this,{width:n,height:r,pixels:o,data:i,format:s=6408,type:a=5121}=e,l=o||i,c=await Promise.all(WI.FACES.map((e=>{const t=l[e];return Promise.all(Array.isArray(t)?t:[t])})));this.bind(),WI.FACES.forEach(((e,o)=>{c[o].length>1&&!1!==this.props.mipmaps&&VP.warn("".concat(this.id," has mipmap and multiple LODs."))(),c[o].forEach(((o,i)=>{n&&r?t.texImage2D(e,i,s,n,r,0,s,a,o):t.texImage2D(e,i,s,s,a,o)}))})),this.unbind()}setImageDataForFace(e){const{face:t,width:n,height:r,pixels:o,data:i,format:s=6408,type:a=5121}=e,{gl:l}=this,c=o||i;return this.bind(),c instanceof Promise?c.then((n=>this.setImageDataForFace(Object.assign({},e,{face:t,data:n,pixels:n})))):this.width||this.height?l.texImage2D(t,0,s,n,r,0,s,a,c):l.texImage2D(t,0,s,s,a,c),this}setImageData3D(e){const{level:t=0,dataFormat:n,format:r,type:o,width:i,height:s,depth:a=1,offset:l=0,data:c,parameters:u={}}=e;this.trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle);const d=yI(r);if(TI(this.gl,u,(()=>{ArrayBuffer.isView(c)&&this.gl.texImage3D(this.target,t,d.format,i,s,a,0,d.dataFormat,d.type,c),c instanceof zI&&(this.gl.bindBuffer(35052,c.handle),this.gl.texImage3D(this.target,t,n,i,s,a,0,r,o,l))})),c&&c.byteLength)this.trackAllocatedMemory(c.byteLength,"Texture");else{const e=bI(this.props.format);this.trackAllocatedMemory(this.width*this.height*this.depth*e,"Texture")}return this.loaded=!0,this}_setSamplerParameters(e){if(!YP(e)){!function(e){VP.log(1,"texture sampler parameters",e)()}(e),this.gl.bindTexture(this.target,this.handle);for(const[t,n]of Object.entries(e)){const e=Number(t),r=n;switch(e){case 33082:case 33083:this.gl.texParameterf(this.target,e,r);break;default:this.gl.texParameteri(this.target,e,r)}}this.gl.bindTexture(this.target,null)}}}NA(WI,"FACES",[34069,34070,34071,34072,34073,34074]);class XI extends SI{get texture(){return this.colorAttachments[0]}constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"gl",void 0),NA(this,"handle",void 0);const n=null===t.handle;if(this.device=e,this.gl=e.gl,this.handle=this.props.handle||n?this.props.handle:this.gl.createFramebuffer(),!n){e.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures();const n=this.gl.bindFramebuffer(36160,this.handle);for(let e=0;e<this.colorAttachments.length;++e){const t=this.colorAttachments[e],n=36064+e;t&&this._attachOne(n,t)}if(this.depthStencilAttachment&&this._attachOne(function(e){const t=pI[e];if(null===t||void 0===t||!t.attachment)throw new Error("".concat(e," is not a depth stencil format"));return t.attachment}(this.depthStencilAttachment.props.format),this.depthStencilAttachment),!1!==t.check){const e=this.gl.checkFramebufferStatus(36160);if(36053!==e)throw new Error("Framebuffer ".concat(function(e){switch(e){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return"".concat(e)}}(e)))}this.gl.bindFramebuffer(36160,n)}}destroy(){super.destroy(),this.destroyed||null===this.handle||this.gl.deleteFramebuffer(this.handle)}createDepthStencilTexture(e){return new WI(this.device,{id:"".concat(this.id,"-depth-stencil"),format:e,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(e,t){if(null===this.handle)return this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===e&&(e=this.gl.drawingBufferWidth),void 0===t&&(t=this.gl.drawingBufferHeight);for(const n of this.colorAttachments)n.texture.resize({width:e,height:t});return this.depthStencilAttachment&&this.depthStencilAttachment.texture.resize({width:e,height:t}),this}_attachOne(e,t){if(Array.isArray(t)){const[n,r=0,o=0]=t;return this._attachTexture(e,n,r,o),n}if(t instanceof WI)return this._attachTexture(e,t,0,0),t;if(t instanceof HI){const n=t;return this._attachTexture(e,n.texture,n.props.baseMipLevel,n.props.baseArrayLayer),t.texture}throw new Error("attach")}_attachTexture(e,t,n,r){const{gl:o}=this.device;switch(o.bindTexture(t.target,t.handle),t.target){case 35866:case 32879:o.framebufferTextureLayer(36160,e,t.target,r,n);break;case 34067:const i=function(e){return e<34069?e+34069:e}(n);o.framebufferTexture2D(36160,e,i,t.handle,r);break;case 3553:o.framebufferTexture2D(36160,e,3553,t.handle,r);break;default:lk(!1,"Illegal texture type")}o.bindTexture(t.target,null)}}class qI extends gk{constructor(e,t){super(t),NA(this,"device",void 0),NA(this,"presentationSize",void 0),NA(this,"_framebuffer",null),this.device=e,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId("".concat(this.device.id,"-canvas")),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new XI(this.device,{handle:null}),this._framebuffer}update(){const e=this.getPixelSize();(e[0]!==this.presentationSize[0]||e[1]!==this.presentationSize[1])&&(this.presentationSize=e,this.resize())}resize(e){if(this.device.gl)if(this.canvas){const t=this.getDevicePixelRatio(null===e||void 0===e?void 0:e.useDevicePixels);this.setDevicePixelRatio(t,e)}else;}commit(){}}const KI={spector:VP.get("spector")||VP.get("inspect")};let YI=null,ZI=!1;var QI;!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",e[e.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.CULL_FACE=2884]="CULL_FACE",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.BLEND=3042]="BLEND",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.DITHER=3024]="DITHER",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DOUBLE=5130]="DOUBLE",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",e[e.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.READ_BUFFER=3074]="READ_BUFFER",e[e.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",e[e.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",e[e.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",e[e.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",e[e.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",e[e.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",e[e.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",e[e.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",e[e.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",e[e.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",e[e.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",e[e.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",e[e.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",e[e.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",e[e.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",e[e.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",e[e.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",e[e.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",e[e.RED=6403]="RED",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB10_A2=32857]="RGB10_A2",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",e[e.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",e[e.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",e[e.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",e[e.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",e[e.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",e[e.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",e[e.SRGB=35904]="SRGB",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",e[e.RGBA32F=34836]="RGBA32F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.RGB16F=34843]="RGB16F",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R16F=33325]="R16F",e[e.R32F=33326]="R32F",e[e.RG16F=33327]="RG16F",e[e.RG32F=33328]="RG32F",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2UI=36975]="RGB10_A2UI",e[e.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",e[e.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.RG=33319]="RG",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",e[e.CURRENT_QUERY=34917]="CURRENT_QUERY",e[e.QUERY_RESULT=34918]="QUERY_RESULT",e[e.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",e[e.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",e[e.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",e[e.DRAW_BUFFER0=34853]="DRAW_BUFFER0",e[e.DRAW_BUFFER1=34854]="DRAW_BUFFER1",e[e.DRAW_BUFFER2=34855]="DRAW_BUFFER2",e[e.DRAW_BUFFER3=34856]="DRAW_BUFFER3",e[e.DRAW_BUFFER4=34857]="DRAW_BUFFER4",e[e.DRAW_BUFFER5=34858]="DRAW_BUFFER5",e[e.DRAW_BUFFER6=34859]="DRAW_BUFFER6",e[e.DRAW_BUFFER7=34860]="DRAW_BUFFER7",e[e.DRAW_BUFFER8=34861]="DRAW_BUFFER8",e[e.DRAW_BUFFER9=34862]="DRAW_BUFFER9",e[e.DRAW_BUFFER10=34863]="DRAW_BUFFER10",e[e.DRAW_BUFFER11=34864]="DRAW_BUFFER11",e[e.DRAW_BUFFER12=34865]="DRAW_BUFFER12",e[e.DRAW_BUFFER13=34866]="DRAW_BUFFER13",e[e.DRAW_BUFFER14=34867]="DRAW_BUFFER14",e[e.DRAW_BUFFER15=34868]="DRAW_BUFFER15",e[e.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e[e.MAX_SAMPLES=36183]="MAX_SAMPLES",e[e.SAMPLER_BINDING=35097]="SAMPLER_BINDING",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",e[e.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",e[e.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",e[e.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",e[e.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",e[e.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",e[e.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",e[e.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",e[e.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",e[e.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",e[e.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",e[e.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",e[e.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",e[e.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",e[e.UNIFORM_TYPE=35383]="UNIFORM_TYPE",e[e.UNIFORM_SIZE=35384]="UNIFORM_SIZE",e[e.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",e[e.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",e[e.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",e[e.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",e[e.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",e[e.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",e[e.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS",e[e.SYNC_FENCE=37142]="SYNC_FENCE",e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED",e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED",e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STREAM_COPY=35042]="STREAM_COPY",e[e.STATIC_READ=35045]="STATIC_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e[e.INVALID_INDEX=4294967295]="INVALID_INDEX",e[e.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",e[e.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",e[e.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",e[e.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",e[e.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",e[e.R16_EXT=33322]="R16_EXT",e[e.RG16_EXT=33324]="RG16_EXT",e[e.RGB16_EXT=32852]="RGB16_EXT",e[e.RGBA16_EXT=32859]="RGBA16_EXT",e[e.R16_SNORM_EXT=36760]="R16_SNORM_EXT",e[e.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",e[e.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",e[e.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",e[e.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",e[e.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",e[e.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",e[e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",e[e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",e[e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",e[e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e[e.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",e[e.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",e[e.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",e[e.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",e[e.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",e[e.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",e[e.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",e[e.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",e[e.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",e[e.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",e[e.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",e[e.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",e[e.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",e[e.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",e[e.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",e[e.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",e[e.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",e[e.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",e[e.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",e[e.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",e[e.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",e[e.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",e[e.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",e[e.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",e[e.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",e[e.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",e[e.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",e[e.LINE_WEBGL=6913]="LINE_WEBGL",e[e.FILL_WEBGL=6914]="FILL_WEBGL",e[e.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",e[e.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",e[e.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",e[e.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",e[e.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",e[e.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",e[e.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",e[e.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",e[e.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",e[e.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",e[e.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",e[e.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",e[e.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",e[e.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",e[e.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",e[e.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",e[e.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",e[e.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",e[e.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",e[e.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",e[e.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",e[e.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",e[e.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",e[e.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"}(QI||(QI={}));function $I(e){return e.luma=e.luma||{},e.luma}function JI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?t.debug?function(e,t){if(!globalThis.WebGLDebugUtils)return VP.warn("webgl-debug not loaded")(),e;const n=$I(e);if(n.debugContext)return n.debugContext;globalThis.WebGLDebugUtils.init({...QI,...e});const r=globalThis.WebGLDebugUtils.makeDebugContext(e,tO.bind(null,t),nO.bind(null,t));for(const s in QI)s in r||"number"!==typeof QI[s]||(r[s]=QI[s]);class o{}Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.setPrototypeOf(o,r);const i=Object.create(o);return n.realContext=e,n.debugContext=i,i.debug=!0,i}(e,t):function(e){const t=$I(e);return t.realContext?t.realContext:e}(e):null}function eO(e,t){t=Array.from(t).map((e=>void 0===e?"undefined":e));let n=globalThis.WebGLDebugUtils.glFunctionArgsToString(e,t);return n="".concat(n.slice(0,100)).concat(n.length>100?"...":""),"gl.".concat(e,"(").concat(n,")")}function tO(e,t,n,r){r=Array.from(r).map((e=>void 0===e?"undefined":e));const o=globalThis.WebGLDebugUtils.glEnumToString(t),i=globalThis.WebGLDebugUtils.glFunctionArgsToString(n,r),s="".concat(o," in gl.").concat(n,"(").concat(i,")");if(VP.error(s)(),e.throwOnError)throw new Error(s)}function nO(e,t,n){let r="";if(VP.level>=1&&(r=eO(t,n),VP.log(1,r)()),e.break&&e.break.length>0){r=r||eO(t,n);e.break.every((e=>-1!==r.indexOf(e)))}for(const o of n)if(void 0===o){if(r=r||eO(t,n),e.throwOnError)throw new Error("Undefined argument: ".concat(r));VP.error("Undefined argument: ".concat(r))()}}function rO(e,t,n,r){if(null!==r&&void 0!==r&&r.inlineSource){const r=function(e,t,n){let r="";for(let o=t-2;o<=t;o++){const i=e[o-1];void 0!==i&&(r+=oO(i,t,n))}return r}(t,n),o=e.linePos>0?"".concat(" ".repeat(e.linePos+5),"^^^\n"):"";return"\n".concat(r).concat(o).concat(e.type.toUpperCase(),": ").concat(e.message,"\n\n")}return null!==r&&void 0!==r&&r.html?"<div class='luma-compiler-log-error' style=\"color:red;\"><b> ".concat(e.type.toUpperCase(),": ").concat(e.message,"</b></div>"):"".concat(e.type.toUpperCase(),": ").concat(e.message)}function oO(e,t,n){const r=null!==n&&void 0!==n&&n.html?e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"):e;return"".concat(function(e,t){let n="";for(let r=e.length;r<t;++r)n+=" ";return n+e}(String(t),4),": ").concat(r).concat(null!==n&&void 0!==n&&n.html?"<br/>":"\n")}function iO(e,t){return{name:sO(e,t),language:"glsl",version:aO(e)}}function sO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(e);return n?n[1]:t}function aO(e){let t=100;const n=e.match(/[^\s]+/g);if(n&&n.length>=2&&"#version"===n[0]){const e=parseInt(n[1],10);Number.isFinite(e)&&(t=e)}return t}class lO extends ZP{get[Symbol.toStringTag](){return"Shader"}constructor(e,t){super(e,{id:cO(t),...t},lO.defaultProps),NA(this,"stage",void 0),NA(this,"source",void 0),NA(this,"compilationStatus","pending"),this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.debug){case"never":return;case"errors":if("success"===this.compilationStatus)return}const e=await this.getCompilationInfo();"warnings"===this.props.debug&&0===(null===e||void 0===e?void 0:e.length)||this._displayShaderLog(e)}_displayShaderLog(e){var t,n;if("undefined"===typeof document||null===(t=document)||void 0===t||!t.createElement)return;const r=iO(this.source).name,o="".concat(this.stage," ").concat(r);let i=function(e,t,n){let r="";const o=t.split(/\r?\n/),i=e.slice().sort(((e,t)=>e.lineNum-t.lineNum));switch((null===n||void 0===n?void 0:n.showSourceCode)||"no"){case"all":let t=0;for(let e=1;e<=o.length;e++)for(r+=oO(o[e-1],e,n);i.length>t&&i[t].lineNum===e;){const e=i[t++];r+=rO(e,o,e.lineNum,{...n,inlineSource:!1})}return r;case"issues":case"no":for(const i of e)r+=rO(i,o,i.lineNum,{inlineSource:"no"!==(null===n||void 0===n?void 0:n.showSourceCode)});return r}}(e,this.source,{showSourceCode:"all",html:!0});const s=this.getTranslatedSource();s&&(i+='<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>'.concat(s,"</pre></code>"));const a=document.createElement("Button");a.innerHTML="\n<h1>Shader Compilation Error in ".concat(o,'</h1><br /><br />\n<code style="user-select:text;"><pre>\n').concat(i,"\n</pre></code>"),a.style.top="10px",a.style.left="10px",a.style.position="absolute",a.style.zIndex="9999",a.style.width="100%",a.style.textAlign="left",document.body.appendChild(a);const l=document.getElementsByClassName("luma-compiler-log-error");null!==(n=l[0])&&void 0!==n&&n.scrollIntoView&&l[0].scrollIntoView(),a.onclick=()=>{const e="data:text/plain,".concat(encodeURIComponent(this.source));navigator.clipboard.writeText(e)}}}function cO(e){return iO(e.source).name||e.id||KP("unnamed ".concat(e.stage,"-shader"))}function uO(e){const t=e.toLowerCase();return["warning","error","info"].includes(t)?t:"info"}NA(lO,"defaultProps",{...ZP.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debug:"errors"});class dO extends lO{constructor(e,t){switch(super(e,t),NA(this,"device",void 0),NA(this,"handle",void 0),this.device=e,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){return function(e){const t=e.split(/\r?\n/),n=[];for(const r of t){if(r.length<=1)continue;const e=r.split(":");if(2===e.length){const[t,r]=e;n.push({message:r.trim(),type:uO(t),lineNum:0,linePos:0});continue}const[t,o,i,...s]=e;let a=parseInt(i,10);isNaN(a)&&(a=0);let l=parseInt(o,10);isNaN(l)&&(l=0),n.push({message:s.join(":").trim(),type:uO(t),lineNum:a,linePos:l})}return n}(this.device.gl.getShaderInfoLog(this.handle))}getTranslatedSource(){const e=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return null===e||void 0===e?void 0:e.getTranslatedShaderSource(this.handle)}async _compile(e){e=(e=>e.startsWith("#version ")?e:"#version 100\n".concat(e))(e);const{gl:t}=this.device;if(t.shaderSource(this.handle,e),t.compileShader(this.handle),0!==VP.level){if(this.device.features.has("compilation-status-async-webgl"))VP.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),VP.info(2,"Shader ".concat(this.id," - async compilation complete: ").concat(this.compilationStatus))(),this._getCompilationStatus(),this.debugShader();else if(this._getCompilationStatus(),this.debugShader(),"error"===this.compilationStatus)throw new Error("GLSL compilation errors in ".concat(this.props.stage," shader ").concat(this.props.id))}else this.compilationStatus="pending"}async _waitForCompilationComplete(){const e=async e=>await new Promise((t=>setTimeout(t,e)));if(!this.device.features.has("compilation-status-async-webgl"))return void await e(10);const{gl:t}=this.device;for(;;){if(t.getShaderParameter(this.handle,37297))return;await e(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}class hO extends ZP{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,t){super(e,t,hO.defaultProps)}}NA(hO,"defaultProps",{...ZP.defaultProps,framebuffer:null,parameters:void 0,clearColor:[0,0,0,0],clearDepth:1,clearStencil:0,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});const pO=6144,fO=[1,2,4,8];class gO extends hO{constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"glParameters",void 0),this.device=e,Bk(this.device.gl),this.setParameters(this.props.parameters),this.clear()}end(){zk(this.device.gl)}pushDebugGroup(e){}popDebugGroup(){}insertDebugMarker(e){}setParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...this.glParameters};this.props.framebuffer&&(t.framebuffer=this.props.framebuffer),this.props.depthReadOnly&&(t.depthMask=!this.props.depthReadOnly),t.stencilMask=this.props.stencilReadOnly?0:1,t[35977]=this.props.discard,e.viewport&&(e.viewport.length>=6?(t.viewport=e.viewport.slice(0,4),t.depthRange=[e.viewport[4],e.viewport[5]]):t.viewport=e.viewport),e.scissorRect&&(t.scissorTest=!0,t.scissor=e.scissorRect),e.blendConstant&&(t.blendColor=e.blendConstant),e.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),e[2967]=e.stencilReference),e.colorMask&&(t.colorMask=fO.map((t=>Boolean(t&e.colorMask)))),this.glParameters=t,Ik(this.device.gl,t)}beginOcclusionQuery(e){const t=this.props.occlusionQuerySet;null===t||void 0===t||t.beginOcclusionQuery()}endOcclusionQuery(){const e=this.props.occlusionQuerySet;null===e||void 0===e||e.endOcclusionQuery()}clear(){const e={...this.glParameters};let t=0;!1!==this.props.clearColor&&(t|=16384,e.clearColor=this.props.clearColor),!1!==this.props.clearDepth&&(t|=256,e.clearDepth=this.props.clearDepth),!1!==this.props.clearStencil&&(t|=1024,e.clearStencil=this.props.clearStencil),0!==t&&TI(this.device.gl,e,(()=>{this.device.gl.clear(t)}))}clearColorBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0];TI(this.device.gl,{framebuffer:this.props.framebuffer},(()=>{switch(t.constructor){case Int32Array:this.device.gl.clearBufferiv(pO,e,t);break;case Uint32Array:this.device.gl.clearBufferuiv(pO,e,t);break;case Float32Array:default:this.device.gl.clearBufferfv(pO,e,t)}}))}}class mO extends ZP{get[Symbol.toStringTag](){return"RenderPipeline"}constructor(e,t){super(e,t,mO.defaultProps),NA(this,"shaderLayout",void 0),NA(this,"bufferLayout",void 0),NA(this,"linkStatus","pending"),NA(this,"hash",""),this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}setUniformsWebGL(e){throw new Error("Use uniform blocks")}}function vO(e){return Array.isArray(e)?0===e.length||"number"===typeof e[0]?e:null:function(e){return!ArrayBuffer.isView(e)||e instanceof DataView?null:e}(e)}function yO(e){const t={bindings:{},uniforms:{}};return Object.keys(e).forEach((n=>{const r=e[n];var o;null!==vO(o=r)||"number"===typeof o||"boolean"===typeof o?t.uniforms[n]=r:t.bindings[n]=r})),t}NA(mO,"defaultProps",{...ZP.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}});const bO={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},_O={f32:4,f16:2,i32:4,u32:4};function wO(e){let t;e.endsWith("-webgl")&&(e.replace("-webgl",""),t=!0);const[n,r]=e.split("x"),o=n,i=r?parseInt(r):1,s=$P(o),a={type:o,components:i,byteLength:s.byteLength*i,integer:s.integer,signed:s.signed,normalized:s.normalized};return t&&(a.webglOnly=!0),a}function xO(e,t){const n={};for(const r of e.attributes)n[r.name]=AO(e,t,r.name);return n}function AO(e,t,n){const r=function(e,t){const n=e.attributes.find((e=>e.name===t));n||VP.warn('shader layout attribute "'.concat(t,'" not present in shader'));return n||null}(e,n),o=function(e,t){EO(e);let n=function(e,t){for(const n of e)if(n.format&&n.name===t)return{attributeName:n.name,bufferName:t,stepMode:n.stepMode,vertexFormat:n.format,byteOffset:0,byteStride:n.byteStride||0};return null}(e,t);if(n)return n;if(n=function(e,t){for(const r of e){var n;let e=r.byteStride;if("number"!==typeof r.byteStride)for(const t of r.attributes||[]){e+=wO(t.format).byteLength}const o=null===(n=r.attributes)||void 0===n?void 0:n.find((e=>e.attribute===t));if(o)return{attributeName:o.attribute,bufferName:r.name,stepMode:r.stepMode,vertexFormat:o.format,byteOffset:o.byteOffset,byteStride:e}}return null}(e,t),n)return n;return VP.warn('layout for attribute "'.concat(t,'" not present in buffer layout')),null}(t,n);if(!r)return null;const i=function(e){const[t,n]=bO[e],r="i32"===t||"u32"===t,o="u32"!==t,i=_O[t]*n,s=function(e,t){let n;switch(e){case"f32":n="float32";break;case"i32":n="sint32";break;case"u32":n="uint32";break;case"f16":return t<=2?"float16x2":"float16x4"}return 1===t?n:"".concat(n,"x").concat(t)}(t,n);return{dataType:t,components:n,defaultVertexFormat:s,byteLength:i,integer:r,signed:o}}(r.type),s=(null===o||void 0===o?void 0:o.vertexFormat)||i.defaultVertexFormat,a=wO(s);return{attributeName:(null===o||void 0===o?void 0:o.attributeName)||r.name,bufferName:(null===o||void 0===o?void 0:o.bufferName)||r.name,location:r.location,shaderType:r.type,shaderDataType:i.dataType,shaderComponents:i.components,vertexFormat:s,bufferDataType:a.type,bufferComponents:a.components,normalized:a.normalized,integer:i.integer,stepMode:(null===o||void 0===o?void 0:o.stepMode)||r.stepMode,byteOffset:(null===o||void 0===o?void 0:o.byteOffset)||0,byteStride:(null===o||void 0===o?void 0:o.byteStride)||0}}function EO(e){for(const t of e)(t.attributes&&t.format||!t.attributes&&!t.format)&&VP.warn("BufferLayout ".concat(name," must have either 'attributes' or 'format' field"))}const SO="Failed to deduce GL constant from typed array";function CO(e,t){const{clamped:n=!0}=t||{};switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}const MO={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},RO={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class TO{static getBytesPerElement(e){return CO(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){lk(e.size);return CO(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TO(...[MO,...t])}constructor(){NA(this,"offset",void 0),NA(this,"stride",void 0),NA(this,"type",void 0),NA(this,"size",void 0),NA(this,"divisor",void 0),NA(this,"normalized",void 0),NA(this,"integer",void 0),NA(this,"buffer",void 0),NA(this,"index",void 0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>this._assign(e))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return TO.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return TO.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=function(e,t,n){const{removedProps:r={},deprecatedProps:o={},replacedProps:i={}}=n;for(const a in r)if(a in t){const t=r[a]?"".concat(e,".").concat(r[a]):"N/A";VP.removed("".concat(e,".").concat(a),t)()}for(const a in o)if(a in t){const t=o[a];VP.deprecated("".concat(e,".").concat(a),"".concat(e,".").concat(t))()}let s=null;for(const[a,l]of Object.entries(i))a in t&&(VP.deprecated("".concat(e,".").concat(a),"".concat(e,".").concat(l))(),s=s||Object.assign({},t),s[l]=t[a],delete s[a]);return s||t}("Accessor",e,RO),void 0!==e.type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalize&&(this.normalized=e.normalize),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),void 0===this.offset&&delete this.offset,void 0===this.stride&&delete this.stride,void 0===this.type&&delete this.type,void 0===this.size&&delete this.size,void 0===this.divisor&&delete this.divisor,void 0===this.normalized&&delete this.normalized,void 0===this.integer&&delete this.integer,void 0===this.buffer&&delete this.buffer,void 0===this.index&&delete this.index,this}}const PO=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],kO={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function IO(e){const t=kO[e];if(!t)throw new Error("uniform");const[n,r,,o]=t;return{format:o,components:r,glType:n}}function OO(e){const t=kO[e];if(!t)throw new Error("attribute");const[,n,,r,o]=t;return{attributeType:r,vertexFormat:o,components:n}}function LO(e,t){const n={attributes:[],bindings:[]};n.attributes=function(e,t){const n=[],r=e.getProgramParameter(t,35721);for(let o=0;o<r;o++){const r=e.getActiveAttrib(t,o);if(!r)throw new Error("activeInfo");const{name:i,type:s}=r,a=e.getAttribLocation(t,i);if(a>=0){const{attributeType:e}=OO(s),t=/instance/i.test(i)?"instance":"vertex";n.push({name:i,location:a,stepMode:t,type:e})}}return n.sort(((e,t)=>e.location-t.location)),n}(e,t);const r=function(e,t){const n=(n,r)=>e.getActiveUniformBlockParameter(t,n,r),r=[],o=e.getProgramParameter(t,35382);for(let i=0;i<o;i++){const o={name:e.getActiveUniformBlockName(t,i)||"",location:n(i,35391),byteLength:n(i,35392),vertex:n(i,35396),fragment:n(i,35398),uniformCount:n(i,35394),uniforms:[]},s=n(i,35395)||[],a=e.getActiveUniforms(t,s,35383),l=e.getActiveUniforms(t,s,35384),c=e.getActiveUniforms(t,s,35387),u=e.getActiveUniforms(t,s,35388);for(let n=0;n<o.uniformCount;++n){const r=e.getActiveUniform(t,s[n]);if(!r)throw new Error("activeInfo");o.uniforms.push({name:r.name,format:IO(a[n]).format,type:a[n],arrayLength:l[n],byteOffset:c[n],byteStride:u[n]})}r.push(o)}return r.sort(((e,t)=>e.location-t.location)),r}(e,t);for(const l of r){const e=l.uniforms.map((e=>({name:e.name,format:e.format,byteOffset:e.byteOffset,byteStride:e.byteStride,arrayLength:e.arrayLength})));n.bindings.push({type:"uniform",name:l.name,location:l.location,visibility:(l.vertex?1:0)&(l.fragment?2:0),minBindingSize:l.byteLength,uniforms:e})}const o=function(e,t){const n=[],r=e.getProgramParameter(t,35718);for(let o=0;o<r;o++){const r=e.getActiveUniform(t,o);if(!r)throw new Error("activeInfo");const{name:i,size:s,type:a}=r,{name:l,isArray:c}=DO(i);let u=e.getUniformLocation(t,l);const d={location:u,name:l,size:s,type:a,isArray:c};if(n.push(d),d.size>1)for(let o=0;o<d.size;o++){const r="".concat(l,"[").concat(o,"]");u=e.getUniformLocation(t,r);const i={...d,name:r,location:u};n.push(i)}}return n}(e,t);let i=0;for(const l of o)if(s=l.type,PO.includes(s)){const{viewDimension:e,sampleType:t}=FO(l.type);n.bindings.push({type:"texture",name:l.name,location:i,viewDimension:e,sampleType:t}),l.textureUnit=i,i+=1}var s;o.length&&(n.uniforms=o);const a=function(e,t){const n=[],r=e.getProgramParameter(t,35971);for(let o=0;o<r;o++){const r=e.getTransformFeedbackVarying(t,o);if(!r)throw new Error("activeInfo");const{name:i,type:s,size:a}=r,{glType:l,components:c}=IO(s),u={location:o,name:i,accessor:new TO({type:l,size:a*c})};n.push(u)}return n.sort(((e,t)=>e.location-t.location)),n}(e,t);return null!==a&&void 0!==a&&a.length&&(n.varyings=a),n}const NO={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function FO(e){const t=NO[e];if(!t)throw new Error("sampler");const[n,r]=t;return{viewDimension:n,sampleType:r}}function DO(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};const t=/([^[]*)(\[[0-9]+\])?/.exec(e);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]?1:0,isArray:Boolean(t[2])}}function BO(e,t,n,r){const o=e;let i=r;!0===i&&(i=1),!1===i&&(i=0);const s="number"===typeof i?[i]:i;switch(n){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if("number"!==typeof r)throw new Error("samplers must be set to integers");return e.uniform1i(t,r);case 5126:return e.uniform1fv(t,s);case 35664:return e.uniform2fv(t,s);case 35665:return e.uniform3fv(t,s);case 35666:return e.uniform4fv(t,s);case 5124:case 35670:return e.uniform1iv(t,s);case 35667:case 35671:return e.uniform2iv(t,s);case 35668:case 35672:return e.uniform3iv(t,s);case 35669:case 35673:return e.uniform4iv(t,s);case 5125:return o.uniform1uiv(t,s,1);case 36294:return o.uniform2uiv(t,s,2);case 36295:return o.uniform3uiv(t,s,3);case 36296:return o.uniform4uiv(t,s,4);case 35674:return e.uniformMatrix2fv(t,!1,s);case 35675:return e.uniformMatrix3fv(t,!1,s);case 35676:return e.uniformMatrix4fv(t,!1,s);case 35685:return o.uniformMatrix2x3fv(t,!1,s);case 35686:return o.uniformMatrix2x4fv(t,!1,s);case 35687:return o.uniformMatrix3x2fv(t,!1,s);case 35688:return o.uniformMatrix3x4fv(t,!1,s);case 35689:return o.uniformMatrix4x2fv(t,!1,s);case 35690:return o.uniformMatrix4x3fv(t,!1,s)}throw new Error("Illegal uniform")}class zO extends mO{constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"handle",void 0),NA(this,"vs",void 0),NA(this,"fs",void 0),NA(this,"introspectedLayout",void 0),NA(this,"uniforms",{}),NA(this,"bindings",{}),NA(this,"varyings",null),NA(this,"_uniformCount",0),NA(this,"_uniformSetters",{}),this.device=e,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=t.vs,this.fs=t.fs;const{varyings:n,bufferMode:r=35981}=t;switch(n&&n.length>0&&(this.varyings=n,this.device.gl.transformFeedbackVaryings(this.handle,n,r)),this._linkShaders(),VP.time(1,"RenderPipeline ".concat(this.id," - shaderLayout introspection"))(),this.introspectedLayout=LO(this.device.gl,this.handle),VP.timeEnd(1,"RenderPipeline ".concat(this.id," - shaderLayout introspection"))(),this.shaderLayout=function(e,t){const n={...e,attributes:e.attributes.map((e=>({...e})))};for(const r of(null===t||void 0===t?void 0:t.attributes)||[]){const e=n.attributes.find((e=>e.name===r.name));e?(e.type=r.type||e.type,e.stepMode=r.stepMode||e.stepMode):VP.warn("shader layout attribute ".concat(r.name," not present in shader"))}return n}(this.introspectedLayout,t.shaderLayout),this.props.topology){case"triangle-fan-webgl":case"line-loop-webgl":VP.warn("Primitive topology ".concat(this.props.topology," is deprecated and will be removed in v9.1"))}}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(e,t){for(const[n,r]of Object.entries(e)){const e=this.shaderLayout.bindings.find((e=>e.name===n))||this.shaderLayout.bindings.find((e=>e.name==="".concat(n,"Uniforms")));if(e){switch(r||VP.warn('Unsetting binding "'.concat(n,'" in render pipeline "').concat(this.id,'"'))(),e.type){case"uniform":if(!(r instanceof zI)&&!(r.buffer instanceof zI))throw new Error("buffer value");break;case"texture":if(!(r instanceof HI||r instanceof WI||r instanceof XI))throw new Error("texture value");break;case"sampler":VP.warn("Ignoring sampler ".concat(n))();break;default:throw new Error(e.type)}this.bindings[n]=r}else{const e=this.shaderLayout.bindings.map((e=>'"'.concat(e.name,'"'))).join(", ");null!==t&&void 0!==t&&t.disableWarnings||VP.warn('Unknown binding "'.concat(n,'" in render pipeline "').concat(this.id,'", expected one of ').concat(e))()}}}draw(e){var t;const{renderPass:n,parameters:r=this.props.parameters,topology:o=this.props.topology,vertexArray:i,vertexCount:s,instanceCount:a,isInstanced:l=!1,firstVertex:c=0,transformFeedback:u}=e,d=function(e){switch(e){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"line-loop-webgl":return 2;case"triangle-list":return 4;case"triangle-strip":return 5;case"triangle-fan-webgl":return 6;default:throw new Error(e)}}(o),h=Boolean(i.indexBuffer),p=null===(t=i.indexBuffer)||void 0===t?void 0:t.glIndexType;if("success"!==this.linkStatus)return VP.info(2,"RenderPipeline:".concat(this.id,".draw() aborted - waiting for shader linking"))(),!1;if(!this._areTexturesRenderable()||0===s)return VP.info(2,"RenderPipeline:".concat(this.id,".draw() aborted - textures not yet loaded"))(),!1;if(0===s)return VP.info(2,"RenderPipeline:".concat(this.id,".draw() aborted - no vertices to draw"))(),!0;this.device.gl.useProgram(this.handle),i.bindBeforeRender(n),u&&u.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const f=n;return function(e,t,n,r){if(YP(t))return r(e);const o=e;Bk(o.gl);try{return PI(e,t),Ik(o.gl,n),r(e)}finally{zk(o.gl)}}(this.device,r,f.glParameters,(()=>{h&&l?this.device.gl.drawElementsInstanced(d,s||0,p,c,a||0):h?this.device.gl.drawElements(d,s||0,p,c):l?this.device.gl.drawArraysInstanced(d,c,s||0,a||0):this.device.gl.drawArrays(d,c,s||0),u&&u.end()})),i.unbindAfterRender(n),!0}setUniformsWebGL(e){const{bindings:t}=yO(e);Object.keys(t).forEach((e=>{VP.warn('Unsupported value "'.concat(JSON.stringify(t[e]),'" used in setUniforms() for key ').concat(e,". Use setBindings() instead?"))()})),Object.assign(this.uniforms,e)}async _linkShaders(){const{gl:e}=this.device;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),VP.time(4,"linkProgram for ".concat(this.id))(),e.linkProgram(this.handle),VP.timeEnd(4,"linkProgram for ".concat(this.id))(),VP.level,!this.device.features.has("compilation-status-async-webgl")){const e=this._getLinkStatus();return void this._reportLinkStatus(e)}VP.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),VP.info(2,"RenderPipeline ".concat(this.id," - async linking complete: ").concat(this.linkStatus))();const t=this._getLinkStatus();this._reportLinkStatus(t)}_reportLinkStatus(e){var t;if("success"!==e){if("error"===this.vs.compilationStatus)throw this.vs.debugShader(),new Error("Error during compilation of shader ".concat(this.vs.id));if("error"===(null===(t=this.fs)||void 0===t?void 0:t.compilationStatus))throw this.fs.debugShader(),new Error("Error during compilation of shader ".concat(this.fs.id));throw new Error("Error during ".concat(e,": ").concat(this.device.gl.getProgramInfoLog(this.handle)))}}_getLinkStatus(){const{gl:e}=this.device;if(!e.getProgramParameter(this.handle,35714))return this.linkStatus="error","linking";e.validateProgram(this.handle);return e.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")}async _waitForLinkComplete(){const e=async e=>await new Promise((t=>setTimeout(t,e)));if(!this.device.features.has("compilation-status-async-webgl"))return void await e(10);const{gl:t}=this.device;for(;;){if(t.getProgramParameter(this.handle,37297))return;await e(10)}}_areTexturesRenderable(){let e=!0;for(const[,t]of Object.entries(this.bindings))t instanceof WI&&(t.update(),e=e&&t.loaded);return e}_applyBindings(){if("success"!==this.linkStatus)return;const{gl:e}=this.device;e.useProgram(this.handle);let t=0,n=0;for(const r of this.shaderLayout.bindings){const o=this.bindings[r.name]||this.bindings[r.name.replace(/Uniforms$/,"")];if(!o)throw new Error("No value for binding ".concat(r.name," in ").concat(this.id));switch(r.type){case"uniform":const{name:i}=r,s=e.getUniformBlockIndex(this.handle,i);if(4294967295===s)throw new Error("Invalid uniform block name ".concat(i));e.uniformBlockBinding(this.handle,n,s),o instanceof zI?e.bindBufferBase(35345,n,o.handle):e.bindBufferRange(35345,n,o.buffer.handle,o.offset||0,o.size||o.buffer.byteLength-o.offset),n+=1;break;case"texture":if(!(o instanceof HI||o instanceof WI||o instanceof XI))throw new Error("texture");let a;if(o instanceof HI)a=o.texture;else if(o instanceof WI)a=o;else{if(!(o instanceof XI&&o.colorAttachments[0]instanceof HI))throw new Error("No texture");VP.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),a=o.colorAttachments[0].texture}e.activeTexture(33984+t),e.bindTexture(a.target,a.handle),t+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error("binding type '".concat(r.type,"' not supported in WebGL"))}}}_applyUniforms(){for(const t of this.shaderLayout.uniforms||[]){var e;const{name:n,location:r,type:o,textureUnit:i}=t,s=null!==(e=this.uniforms[n])&&void 0!==e?e:i;void 0!==s&&BO(this.device.gl,r,o,s)}}}class jO extends ZP{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,t){super(e,t,jO.defaultProps)}}NA(jO,"defaultProps",{...ZP.defaultProps,measureExecutionTime:void 0});class UO extends ZP{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,t){super(e,t,UO.defaultProps)}}NA(UO,"defaultProps",{...ZP.defaultProps});class GO extends UO{constructor(e){super(e,{}),NA(this,"device",void 0),NA(this,"commands",[]),this.device=e}submitCommands(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.commands;for(const t of e)switch(t.name){case"copy-buffer-to-buffer":HO(this.device,t.options);break;case"copy-buffer-to-texture":VO(this.device,t.options);break;case"copy-texture-to-buffer":WO(this.device,t.options);break;case"copy-texture-to-texture":XO(this.device,t.options)}}}function HO(e,t){var n,r;const o=t.source,i=t.destination;e.gl.bindBuffer(36662,o.handle),e.gl.bindBuffer(36663,i.handle),e.gl.copyBufferSubData(36662,36663,null!==(n=t.sourceOffset)&&void 0!==n?n:0,null!==(r=t.destinationOffset)&&void 0!==r?r:0,t.size),e.gl.bindBuffer(36662,null),e.gl.bindBuffer(36663,null)}function VO(e,t){throw new Error("Not implemented")}function WO(e,t){const{source:n,mipLevel:r=0,aspect:o="all",width:i=t.source.width,height:s=t.source.height,depthOrArrayLayers:a=0,origin:l=[0,0],destination:c,byteOffset:u=0,bytesPerRow:d,rowsPerImage:h}=t;if("all"!==o)throw new Error("not supported");if(0!==r||0!==a||d||h)throw new Error("not implemented");const{framebuffer:p,destroyFramebuffer:f}=qO(n);let g;try{const t=c,n=i||p.width,r=s||p.height,o=yI(p.texture.props.format),a=o.dataFormat,d=o.type;e.gl.bindBuffer(35051,t.handle),g=e.gl.bindFramebuffer(36160,p.handle),e.gl.readPixels(l[0],l[1],n,r,a,d,u)}finally{e.gl.bindBuffer(35051,null),void 0!==g&&e.gl.bindFramebuffer(36160,g),f&&p.destroy()}}function XO(e,t){const{source:n,destinationMipLevel:r=0,origin:o=[0,0],destinationOrigin:i=[0,0],destination:s}=t;let{width:a=t.destination.width,height:l=t.destination.height}=t;const{framebuffer:c,destroyFramebuffer:u}=qO(n),[d,h]=o,[p,f,g]=i,m=e.gl.bindFramebuffer(36160,c.handle);let v,y=null;if(!(s instanceof WI))throw new Error("invalid destination");switch(y=s,a=Number.isFinite(a)?a:y.width,l=Number.isFinite(l)?l:y.height,y.bind(0),v=y.target,v){case 3553:case 34067:e.gl.copyTexSubImage2D(v,r,p,f,d,h,a,l);break;case 35866:case 32879:e.gl.copyTexSubImage3D(v,r,p,f,g,d,h,a,l)}y&&y.unbind(),e.gl.bindFramebuffer(36160,m),u&&c.destroy()}function qO(e){if(e instanceof EI){const{width:t,height:n,id:r}=e;return{framebuffer:e.device.createFramebuffer({id:"framebuffer-for-".concat(r),width:t,height:n,colorAttachments:[e]}),destroyFramebuffer:!0}}return{framebuffer:e,destroyFramebuffer:!1}}class KO extends jO{constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"commandBuffer",void 0),this.device=e,this.commandBuffer=new GO(e)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(e){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:e})}copyBufferToTexture(e){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:e})}copyTextureToBuffer(e){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:e})}copyTextureToTexture(e){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:e})}pushDebugGroup(e){}popDebugGroup(){}insertDebugMarker(e){}resolveQuerySet(e,t,n){}}class YO extends ZP{get[Symbol.toStringTag](){return"VertexArray"}constructor(e,t){super(e,t,YO.defaultProps),NA(this,"maxVertexAttributes",void 0),NA(this,"attributeInfos",void 0),NA(this,"indexBuffer",null),NA(this,"attributes",void 0),this.maxVertexAttributes=e.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;const r=xO(e,t),o=new Array(n).fill(null);for(const i of Object.values(r))o[i.location]=i;return o}(t.renderPipeline.shaderLayout,t.renderPipeline.bufferLayout,this.maxVertexAttributes)}setConstantWebGL(e,t){throw new Error("constant attributes not supported")}}let ZO;function QO(e){return(!ZO||ZO.byteLength<e)&&(ZO=new ArrayBuffer(e)),ZO}NA(YO,"defaultProps",{...ZP.defaultProps,renderPipeline:null});class $O extends YO{get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(e){return"Chrome"===(t||xE()?wE(t)?"Electron":(t||kE.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node");var t}constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"handle",void 0),NA(this,"buffer",null),NA(this,"bufferValue",null),this.device=e,this.handle=this.device.gl.createVertexArray()}destroy(){var e;(super.destroy(),this.buffer)&&(null===(e=this.buffer)||void 0===e||e.destroy());this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(e){const t=e;if(t&&34963!==t.glTarget)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,t?t.handle:null),this.indexBuffer=t,this.device.gl.bindVertexArray(null)}setBuffer(e,t){const n=t;if(34963===n.glTarget)throw new Error("Use .setIndexBuffer()");const{size:r,type:o,stride:i,offset:s,normalized:a,integer:l,divisor:c}=this._getAccessor(e);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,n.handle),l?this.device.gl.vertexAttribIPointer(e,r,o,i,s):this.device.gl.vertexAttribPointer(e,r,o,a,i,s),this.device.gl.enableVertexAttribArray(e),this.device.gl.vertexAttribDivisor(e,c||0),this.attributes[e]=n,this.device.gl.bindVertexArray(null)}setConstantWebGL(e,t){this._enable(e,!1),this.attributes[e]=t}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let e=0;e<this.maxVertexAttributes;++e){const t=this.attributes[e];ArrayBuffer.isView(t)&&this.device.setConstantAttributeWebGL(e,t)}}_getAccessor(e){const t=this.attributeInfos[e];if(!t)throw new Error("Unknown attribute location ".concat(e));const n=Xk(t.bufferDataType);return{size:t.bufferComponents,type:n,stride:t.byteStride,offset:t.byteOffset,normalized:t.normalized,integer:t.integer,divisor:"instance"===t.stepMode?1:0}}_enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=$O.isConstantAttributeZeroSupported(this.device);(t||(n||0!==e))&&(e=Number(e),this.device.gl.bindVertexArray(this.handle),t?this.device.gl.enableVertexAttribArray(e):this.device.gl.disableVertexAttribArray(e),this.device.gl.bindVertexArray(null))}getConstantBuffer(e,t){const n=function(e){if(Array.isArray(e))return new Float32Array(e);return e}(t),r=n.byteLength*e,o=n.length*e;if(this.buffer&&r!==this.buffer.byteLength)throw new Error("Buffer size is immutable, byte length ".concat(r," !== ").concat(this.buffer.byteLength,"."));let i=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:r}),i=i||!function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(n,this.bufferValue),i){const e=function(e,t){return new e(QO(e.BYTES_PER_ELEMENT*t),0,t)}(t.constructor,o);!function(e){const{target:t,source:n,start:r=0,count:o=1}=e,i=n.length,s=o*i;let a=0;for(let l=r;a<i;a++)t[l++]=n[a];for(;a<s;)a<s-a?(t.copyWithin(r+a,r,r+a),a*=2):(t.copyWithin(r+a,r,r+s-a),a=s);e.target}({target:e,source:n,start:0,count:o}),this.buffer.write(e),this.bufferValue=t}return this.buffer}}class JO extends ZP{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,t){super(e,t,JO.defaultProps)}}NA(JO,"defaultProps",{...ZP.defaultProps,layout:void 0,buffers:{}});class eL extends JO{constructor(e,t){super(e,t),NA(this,"device",void 0),NA(this,"gl",void 0),NA(this,"handle",void 0),NA(this,"layout",void 0),NA(this,"buffers",{}),NA(this,"unusedBuffers",{}),NA(this,"bindOnUse",!0),NA(this,"_bound",!1),this.device=e,this.gl=e.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,t.buffers&&this.setBuffers(t.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"point-list";this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(function(e){switch(e){case"point-list":return 0;case"line-list":case"line-strip":case"line-loop-webgl":return 1;case"triangle-list":case"triangle-strip":case"triangle-fan-webgl":return 4;default:throw new Error(e)}}(e))}end(){this.gl.endTransformFeedback(),this.bindOnUse||this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(e){this.buffers={},this.unusedBuffers={},this.bind((()=>{for(const t in e)this.setBuffer(t,e[t])}))}setBuffer(e,t){const n=this._getVaryingIndex(e),{buffer:r,byteLength:o,byteOffset:i}=this._getBufferRange(t);if(n<0)return this.unusedBuffers[e]=r,void VP.warn("".concat(this.id," unusedBuffers varying buffer ").concat(e))();this.buffers[n]={buffer:r,byteLength:o,byteOffset:i},this.bindOnUse||this._bindBuffer(n,r,i,o)}getBuffer(e){if(tL(e))return this.buffers[e]||null;const t=this._getVaryingIndex(e);return t>=0?this.buffers[t]:null}bind(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this.gl.bindTransformFeedback(36386,t),this):(this._bound?e=t():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,e=t(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),e)}unbind(){this.bind(null)}_getBufferRange(e){if(e instanceof zI)return{buffer:e,byteOffset:0,byteLength:e.byteLength};const{buffer:t,byteOffset:n=0,byteLength:r=e.buffer.byteLength}=e;return{buffer:t,byteOffset:n,byteLength:r}}_getVaryingIndex(e){if(tL(e))return Number(e);for(const t of this.layout.varyings)if(e===t.name)return t.location;return-1}_bindBuffers(){for(const e in this.buffers){const{buffer:t,byteLength:n,byteOffset:r}=this._getBufferRange(this.buffers[e]);this._bindBuffer(Number(e),t,r,n)}}_unbindBuffers(){for(const e in this.buffers)this.gl.bindBufferBase(35982,Number(e),null)}_bindBuffer(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,n,r):this.gl.bindBufferBase(35982,e,o)}}function tL(e){return"number"===typeof e?Number.isInteger(e):/^\d+$/.test(e)}class nL extends ZP{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,t){super(e,t,nL.defaultProps)}}NA(nL,"defaultProps",{...ZP.defaultProps,type:void 0,count:void 0});class rL extends nL{get[Symbol.toStringTag](){return"Query"}constructor(e,t){if(super(e,t),NA(this,"device",void 0),NA(this,"handle",void 0),NA(this,"target",null),NA(this,"_queryPending",!1),NA(this,"_pollingPromise",null),this.device=e,t.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(e){return this._begin(null!==e&&void 0!==e&&e.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(e){this._queryPending||(this.target=e,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const e=this.device.gl.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise(((n,r)=>{const o=()=>{this.isResultAvailable()?(n(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)})),this._pollingPromise}}function oL(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return lk(!1),0}}function iL(e,t){var n;const{sourceX:r=0,sourceY:o=0,sourceFormat:i=6408,sourceAttachment:s=36064}=t||{};let{target:a=null,sourceWidth:l,sourceHeight:c,sourceType:u}=t||{};const{framebuffer:d,deleteFramebuffer:h}=aL(e);lk(d);const{gl:p,handle:f}=d;l=l||d.width,c=c||d.height;const g=s-36064;u=u||(null===(n=d.colorAttachments[g])||void 0===n||null===(n=n.texture)||void 0===n?void 0:n.type)||5121,a=function(e,t,n,r,o){if(e)return e;const i=CO(t=t||5121,{clamped:!1}),s=oL(n);return new i(r*o*s)}(a,u,i,l,c),u=u||function(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(SO)}}(a);const m=p.bindFramebuffer(36160,f);return p.readPixels(r,o,l,c,i,u,a),p.bindFramebuffer(36160,m||null),h&&d.destroy(),a}function sL(e,t){const{target:n,sourceX:r=0,sourceY:o=0,sourceFormat:i=6408,targetByteOffset:s=0}=t||{};let{sourceWidth:a,sourceHeight:l,sourceType:c}=t||{};const{framebuffer:u,deleteFramebuffer:d}=aL(e);lk(u),a=a||u.width,l=l||u.height;const h=u;c=c||5121;let p=n;if(!p){const e=s+a*l*oL(i)*function(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return lk(!1),0}}(c);p=h.device.createBuffer({byteLength:e})}const f=e.device.createCommandEncoder();return f.copyTextureToBuffer({source:e,width:a,height:l,origin:[r,o],destination:p,byteOffset:s}),f.destroy(),d&&u.destroy(),p}function aL(e){return e instanceof SI?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:lL(e),deleteFramebuffer:!0}}function lL(e,t){const{device:n,width:r,height:o,id:i}=e;return n.createFramebuffer({...t,id:"framebuffer-for-".concat(i),width:r,height:o,colorAttachments:[e]})}const cL="clear: bad arguments";class uL extends ak{static isSupported(){return"undefined"!==typeof WebGL2RenderingContext}static attach(e){if(e instanceof uL)return e;if((null===e||void 0===e?void 0:e.device)instanceof ak)return e.device;if(!function(e){if("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext)return!0;return Boolean(e&&Number.isFinite(e._version))}(e))throw new Error("Invalid WebGL2RenderingContext");return new uL({gl:e})}static async create(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};VP.groupCollapsed(1,"WebGLDevice created")();const n=[];t.debug&&n.push(async function(){xE()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await RI("https://unpkg.com/webgl-debug@2.0.1/index.js"))}()),t.spector&&n.push(async function(e){if(!globalThis.SPECTOR)try{await RI("https://spectorcdn.babylonjs.com/spector.bundle.js")}catch(t){VP.warn(String(t))}}()),"string"===typeof t.canvas&&n.push(gk.pageLoaded);const r=await Promise.allSettled(n);for(const s of r)"rejected"===s.status&&VP.error("Failed to initialize debug libraries ".concat(s.reason))();if(VP.probe(2,"DOM is loaded")(),null!==(e=t.gl)&&void 0!==e&&e.device)return VP.warn("reattaching existing device")(),uL.attach(t.gl);const o=new uL(t),i="Created ".concat(o.type).concat(o.debug?" debug":""," context: ").concat(o.info.vendor,", ").concat(o.info.renderer," for canvas: ").concat(o.canvasContext.id);return VP.probe(1,i)(),VP.table(1,o.info)(),VP.groupEnd(1)(),o}constructor(e){var t,n;super({...e,id:e.id||KP("webgl-device")}),NA(this,"type","webgl"),NA(this,"handle",void 0),NA(this,"features",void 0),NA(this,"limits",void 0),NA(this,"info",void 0),NA(this,"canvasContext",void 0),NA(this,"lost",void 0),NA(this,"_resolveContextLost",void 0),NA(this,"renderPass",null),NA(this,"gl",void 0),NA(this,"debug",!1),NA(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1}),NA(this,"_extensions",{}),NA(this,"_polyfilled",!1),NA(this,"spectorJS",void 0),NA(this,"_constants",void 0);const r=null===(t=e.gl)||void 0===t?void 0:t.device;if(r)throw new Error("WebGL context already attached to device ".concat(r.id));const o=(null===(n=e.gl)||void 0===n?void 0:n.canvas)||e.canvas;this.canvasContext=new qI(this,{...e,canvas:o}),this.lost=new Promise((e=>{this._resolveContextLost=e}));let i=e.gl||null;if(i||(i=function(e,t){t={...Gk,...t};let n=null;const r=e=>n=e.statusMessage||n;e.addEventListener("webglcontextcreationerror",r,!1);let o=null;if(o||(o=e.getContext("webgl2",t)),e.removeEventListener("webglcontextcreationerror",r,!1),!o)throw new Error("Failed to create WebGL context: ".concat(n||"Unknown error"));if(t.onContextLost){const{onContextLost:n}=t;e.addEventListener("webglcontextlost",(e=>n(e)),!1)}if(t.onContextRestored){const{onContextRestored:n}=t;e.addEventListener("webglcontextrestored",(e=>n(e)),!1)}return o}(this.canvasContext.canvas,{...e,onContextLost:e=>{var t;return null===(t=this._resolveContextLost)||void 0===t?void 0:t.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})}})),!i)throw new Error("WebGL context creation failed");this.handle=i,this.gl=i,this.gl.device=this,this.gl._version=2,this.info=Vk(this.gl,this._extensions),this.limits=new AI(this.gl),this.features=new xI(this.gl,this._extensions,this.props.disabledFeatures),this.props.initalizeFeatures&&this.features.initializeFeatures(),this.canvasContext.resize();const{enable:s=!0,copyState:a=!1}=e;Dk(this.gl,{enable:s,copyState:a,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VP.log(1,...t)()}}),e.debug&&(this.gl=JI(this.gl,{...e,throwOnError:!0}),this.debug=!0,VP.level=Math.max(VP.level,1),VP.warn("WebGL debug mode activated. Performance reduced.")()),e.spector&&(this.spectorJS=function(e){var t,n,r,o;if(null===(t=e={...KI,...e})||void 0===t||!t.spector)return null;if(!YI&&globalThis.SPECTOR&&(VP.probe(1,"SPECTOR found and initialized")(),YI=new globalThis.SPECTOR.Spector,globalThis.luma&&(globalThis.luma.spector=YI)),!YI)return null;if(ZI||(ZI=!0,YI.spyCanvases(),null===(r=YI)||void 0===r||r.onCaptureStarted.add((e=>VP.info("Spector capture started:",e)())),null===(o=YI)||void 0===o||o.onCapture.add((e=>{var t,n,r;VP.info("Spector capture complete:",e)(),null===(t=YI)||void 0===t||t.getResultUI(),null===(n=YI)||void 0===n||n.resultView.display(),null===(r=YI)||void 0===r||r.resultView.addCapture(e)}))),null!==(n=e)&&void 0!==n&&n.canvas){var i,s;if("string"===typeof e.spector&&e.spector!==e.canvas.id)return YI;null===(i=YI)||void 0===i||i.startCapture(null===(s=e)||void 0===s?void 0:s.canvas,500),new Promise((e=>setTimeout(e,2e3))).then((e=>{var t;VP.info("Spector capture stopped after 2 seconds")(),null===(t=YI)||void 0===t||t.stopCapture()}))}return YI}({...this.props,canvas:this.handle.canvas}))}destroy(){}get isLost(){return this.gl.isContextLost()}getSize(){return[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight]}isTextureFormatSupported(e){return mI(this.gl,e,this._extensions)}isTextureFormatFilterable(e){return function(e,t,n){if(!mI(e,t,n))return!1;if(t.startsWith("depth")||t.startsWith("stencil"))return!1;try{if(rk(t).signed)return!1}catch{return!1}return t.endsWith("32float")?Boolean(Hk(e,"OES_texture_float_linear, extensions",n)):!t.endsWith("16float")||Boolean(Hk(e,"OES_texture_half_float_linear, extensions",n))}(this.gl,e,this._extensions)}isTextureFormatRenderable(e){return function(e,t,n){return!!mI(e,t,n)&&"number"!==typeof t}(this.gl,e,this._extensions)}createCanvasContext(e){throw new Error("WebGL only supports a single canvas")}createBuffer(e){const t=this._getBufferProps(e);return new zI(this,t)}_createTexture(e){return new WI(this,e)}createExternalTexture(e){throw new Error("createExternalTexture() not implemented")}createSampler(e){return new UI(this,e)}createShader(e){return new dO(this,e)}createFramebuffer(e){return new XI(this,e)}createVertexArray(e){return new $O(this,e)}createTransformFeedback(e){return new eL(this,e)}createQuerySet(e){return new rL(this,e)}createRenderPipeline(e){return new zO(this,e)}beginRenderPass(e){return new gO(this,e)}createComputePipeline(e){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(e){throw new Error("ComputePass not supported in WebGL")}createCommandEncoder(e){return new KO(this,e)}submit(){var e;null===(e=this.renderPass)||void 0===e||e.end(),this.renderPass=null}readPixelsToArrayWebGL(e,t){return iL(e,t)}readPixelsToBufferWebGL(e,t){return sL(e,t)}setParametersWebGL(e){Ik(this.gl,e)}getParametersWebGL(e){return Ok(this.gl,e)}withParametersWebGL(e,t){return TI(this.gl,e,t)}clearWebGL(e){!function(e,t){const{framebuffer:n=null,color:r=null,depth:o=null,stencil:i=null}=t||{},s={};n&&(s.framebuffer=n);let a=0;r&&(a|=16384,!0!==r&&(s.clearColor=r)),o&&(a|=256,!0!==o&&(s.clearDepth=o)),i&&(a|=1024,!0!==o&&(s.clearStencil=o)),lk(0!==a,cL);const l=e.gl;TI(l,s,(()=>{l.clear(a)}))}(this,e)}resetWebGL(){VP.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),Ik(this.gl,yk)}loseDevice(){var e;let t=!1;const n=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return n&&(t=!0,n.loseContext()),null===(e=this._resolveContextLost)||void 0===e||e.call(this,{reason:"destroyed",message:"Application triggered context loss"}),t}pushState(){Bk(this.gl)}popState(){zk(this.gl)}setSpectorMetadata(e,t){e.__SPECTOR_Metadata=t}getGLKey(e,t){t=t||this.gl2||this.gl;const n=Number(e);for(const r in t)if(t[r]===n)return"GL.".concat(r);return String(e)}setConstantAttributeWebGL(e,t){const n=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(n).fill(null);const r=this._constants[e];switch(r&&function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(r,t)&&VP.info(1,"setConstantAttributeWebGL(".concat(e,") could have been skipped, value unchanged"))(),this._constants[e]=t,t.constructor){case Float32Array:!function(e,t,n){switch(n.length){case 1:e.gl.vertexAttrib1fv(t,n);break;case 2:e.gl.vertexAttrib2fv(t,n);break;case 3:e.gl.vertexAttrib3fv(t,n);break;case 4:e.gl.vertexAttrib4fv(t,n);break;default:lk(!1)}}(this,e,t);break;case Int32Array:!function(e,t,n){e.gl.vertexAttribI4iv(t,n)}(this,e,t);break;case Uint32Array:!function(e,t,n){e.gl.vertexAttribI4uiv(t,n)}(this,e,t);break;default:lk(!1)}}getExtension(e){return Hk(this.gl,e,this._extensions),this._extensions}}NA(uL,"type","webgl");let dL=0;const hL={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:e=>console.error(e),stats:uk.stats.get("animation-loop-".concat(dL++)),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class pL{constructor(e){if(NA(this,"device",null),NA(this,"canvas",null),NA(this,"props",void 0),NA(this,"animationProps",null),NA(this,"timeline",null),NA(this,"stats",void 0),NA(this,"cpuTime",void 0),NA(this,"gpuTime",void 0),NA(this,"frameRate",void 0),NA(this,"display",void 0),NA(this,"needsRedraw","initialized"),NA(this,"_initialized",!1),NA(this,"_running",!1),NA(this,"_animationFrameId",null),NA(this,"_nextFramePromise",null),NA(this,"_resolveNextFrame",null),NA(this,"_cpuStartTime",0),this.props={...hL,...e},!(e=this.props).device)throw new Error("No device provided");const{useDevicePixels:t=!0}=this.props;this.stats=e.stats||new XS({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport,autoResizeDrawingBuffer:e.autoResizeDrawingBuffer,useDevicePixels:t}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),"autoResizeDrawingBuffer"in e&&(this.props.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer||!1),"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(!1!==e&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const t=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(t),t}}stop(){return this._running&&(this.animationProps&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return null!==(e=this.device)&&void 0!==e&&e.isLost||(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers()),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((e=>{this._resolveNextFrame=e}))),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){var e;this._running&&(this._animationFrameId=(e=this._animationFrame.bind(this),"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60)))}_cancelAnimationFrame(){var e;null!==this._animationFrameId&&(e=this._animationFrameId,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){this.display?this.display._renderFrame(e):(this.props.onRender(this._getAnimationProps()),this.device.submit())}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){var e;if(!this.device)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:null===(e=this.device)||void 0===e||null===(e=e.canvasContext)||void 0===e?void 0:e.canvas,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:t,aspect:n}=this._getSizeAndAspect();e===this.animationProps.width&&t===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){var e;if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=(null===(e=this.device.canvasContext)||void 0===e?void 0:e.canvas)||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(t);const n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}_getSizeAndAspect(){var e,t;if(!this.device)return{width:1,height:1,aspect:1};const[n,r]=(null===(e=this.device)||void 0===e||null===(e=e.canvasContext)||void 0===e?void 0:e.getPixelSize())||[1,1];let o=1;const i=null===(t=this.device)||void 0===t||null===(t=t.canvasContext)||void 0===t?void 0:t.canvas;return i&&i.clientHeight?o=i.clientWidth/i.clientHeight:n>0&&r>0&&(o=n/r),{width:n,height:r,aspect:o}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){var e;this.props.autoResizeDrawingBuffer&&(null===(e=this.device)||void 0===e||null===(e=e.canvasContext)||void 0===e||e.resize({useDevicePixels:this.props.useDevicePixels}))}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}var fL=n(2254);const gL={mousedown:1,mousemove:2,mouseup:4};!function(e){const t=e.prototype.handler;e.prototype.handler=function(e){const n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(t=>t.pointerId===e.pointerId))||n.push(e)),t.call(this,e)}}(fL.PointerEventInput),fL.MouseInput.prototype.handler=function(e){let t=gL[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};const mL=fL.Manager,vL=fL;class yL{constructor(e,t,n){this.element=e,this.callback=t,this.options={enable:!0,...n}}}const bL=vL?[[vL.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[vL.Rotate,{enable:!1}],[vL.Pinch,{enable:!1}],[vL.Swipe,{enable:!1}],[vL.Pan,{threshold:0,enable:!1}],[vL.Press,{enable:!1}],[vL.Tap,{event:"doubletap",taps:2,enable:!1}],[vL.Tap,{event:"anytap",enable:!1}],[vL.Tap,{enable:!1}]]:null,_L={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},wL={doubletap:["tap"]},xL={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},AL={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},EL={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},SL={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},CL="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ML="undefined"!==typeof window?window:n.g;"undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document;let RL=!1;try{const e={get passive(){return RL=!0,!0}};ML.addEventListener("test",null,e),ML.removeEventListener("test",null)}catch($X){RL=!1}const TL=-1!==CL.indexOf("firefox"),{WHEEL_EVENTS:PL}=AL,kL="wheel",IL=4.000244140625;class OL extends yL{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{if(!this.options.enable)return;let t=e.deltaY;ML.WheelEvent&&(TL&&e.deltaMode===ML.WheelEvent.DOM_DELTA_PIXEL&&(t/=ML.devicePixelRatio),e.deltaMode===ML.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%IL===0&&(t=Math.floor(t/IL)),e.shiftKey&&t&&(t*=.25),this.callback({type:kL,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})},this.events=(this.options.events||[]).concat(PL),this.events.forEach((t=>e.addEventListener(t,this.handleEvent,!!RL&&{passive:!1})))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===kL&&(this.options.enable=t)}}const{MOUSE_EVENTS:LL}=AL,NL="pointermove",FL="pointerover",DL="pointerout",BL="pointerenter",zL="pointerleave";class jL extends yL{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.handleOverEvent(e),this.handleOutEvent(e),this.handleEnterEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(LL),this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===NL&&(this.enableMoveEvent=t),e===FL&&(this.enableOverEvent=t),e===DL&&(this.enableOutEvent=t),e===BL&&(this.enableEnterEvent=t),e===zL&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(FL,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(DL,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(BL,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(zL,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(NL,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:UL}=AL,GL="keydown",HL="keyup";class VL extends yL{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{const t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:GL,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:HL,srcEvent:e,key:e.key,target:e.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(UL),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===GL&&(this.enableDownEvent=t),e===HL&&(this.enableUpEvent=t)}}const WL="contextmenu";class XL extends yL{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.options.enable&&this.callback({type:WL,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===WL&&(this.options.enable=t)}}const qL={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function KL(e){const t=qL[e.srcEvent.type];if(!t)return null;const{buttons:n,button:r,which:o}=e.srcEvent;let i=!1,s=!1,a=!1;return 4===t||2===t&&!Number.isFinite(n)?(i=1===o,s=2===o,a=3===o):2===t?(i=Boolean(1&n),s=Boolean(4&n),a=Boolean(2&n)):1===t&&(i=0===r,s=1===r,a=2===r),{leftButton:i,middleButton:s,rightButton:a}}function YL(e,t){const n=e.center;if(!n)return null;const r=t.getBoundingClientRect(),o=r.width/t.offsetWidth||1,i=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/o,y:(n.y-r.top-t.clientTop)/i}}}const ZL={srcElement:"root",priority:0};class QL{constructor(e){this.handleEvent=e=>{if(this.isEmpty())return;const t=this._normalizeEvent(e);let n=e.srcEvent.target;for(;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{handlers:i,handlersByElement:s}=this;let a=ZL;"string"===typeof n||n&&n.addEventListener?a={...ZL,srcElement:n}:n&&(a={...ZL,...n});let l=s.get(a.srcElement);l||(l=[],s.set(a.srcElement,l));const c={type:e,handler:t,srcElement:a.srcElement,priority:a.priority};r&&(c.once=!0),o&&(c.passive=!0),i.push(c),this._active=this._active||!c.passive;let u=l.length-1;for(;u>=0&&!(l[u].priority>=c.priority);)u--;l.splice(u+1,0,c)}remove(e,t){const{handlers:n,handlersByElement:r}=this;for(let o=n.length-1;o>=0;o--){const i=n[o];if(i.type===e&&i.handler===t){n.splice(o,1);const e=r.get(i.srcElement);e.splice(e.indexOf(i),1),0===e.length&&r.delete(i.srcElement)}}this._active=n.some((e=>!e.passive))}_emit(e,t){const n=this.handlersByElement.get(t);if(n){let t=!1;const r=()=>{e.handled=!0},o=()=>{e.handled=!0,t=!0},i=[];for(let s=0;s<n.length;s++){const{type:a,handler:l,once:c}=n[s];if(l({...e,type:a,stopPropagation:r,stopImmediatePropagation:o}),c&&i.push(n[s]),t)break}for(let e=0;e<i.length;e++){const{type:t,handler:n}=i[e];this.remove(t,n)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...KL(e),...YL(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const $L={events:null,recognizers:null,recognizerOptions:{},Manager:mL,touchAction:"none",tabIndex:0};class JL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this._onBasicInput=e=>{const{srcEvent:t}=e,n=xL[t.type];n&&this.manager.emit(n,e)},this._onOtherEvent=e=>{this.manager.emit(e.type,e)},this.options={...$L,...t},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this,n=t.Manager;this.manager=new n(e,{touchAction:t.touchAction,recognizers:t.recognizers||bL}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(_L).forEach((e=>{const t=this.manager.get(e);t&&_L[e].forEach((e=>{t.recognizeWith(e)}))}));for(const r in t.recognizerOptions){const e=this.manager.get(r);if(e){const n=t.recognizerOptions[r];delete n.enable,e.set(n)}}this.wheelInput=new OL(e,this._onOtherEvent,{enable:!1}),this.moveInput=new jL(e,this._onOtherEvent,{enable:!1}),this.keyInput=new VL(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new XL(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,n){this._addEventHandler(e,t,n,!1)}once(e,t,n){this._addEventHandler(e,t,n,!0)}watch(e,t,n){this._addEventHandler(e,t,n,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:n}=this;if(!n)return;const r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=wL[e];o&&!this.options.recognizers&&o.forEach((o=>{const i=n.get(o);t?(i.requireFailure(e),r.dropRequireFailure(o)):i.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,n,r,o){if("string"!==typeof e){n=t;for(const t in e)this._addEventHandler(t,e[t],n,r,o);return}const{manager:i,events:s}=this,a=SL[e]||e;let l=s.get(a);l||(l=new QL(this),s.set(a,l),l.recognizerName=EL[a]||a,i&&i.on(a,l.handleEvent)),l.add(e,t,n,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!==typeof e){for(const t in e)this._removeEventHandler(t,e[t]);return}const{events:n}=this,r=SL[e]||e,o=n.get(r);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:e}=o;let t=!1;for(const r of n.values())if(r.recognizerName===e&&!r.isEmpty()){t=!0;break}t||this._toggleRecognizer(e,!1)}}}var eN;function tN(){}const nN={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{type:"webgl"},gl:null,glOptions:{},canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:tN,onWebGLInitialized:tN,onResize:tN,onViewStateChange:tN,onInteractionStateChange:tN,onBeforeRender:tN,onAfterRender:tN,onLoad:tN,onError:e=>GE.error(e.message,e.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:e=>{let{isDragging:t}=e;return t?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1};class rN{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new XS({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=e=>{const{_pickRequest:t}=this;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;{const n=e.offsetCenter;if(!n)return;t.x=n.x,t.y=n.y,t.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e},this._onEvent=e=>{const t=XE[e.type],n=e.offsetCenter;if(!t||!n||!this.layerManager)return;const r=this.layerManager.getLayers(),o=this.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:r,viewports:this.getViewports(n)},this._lastPointerDownInfo),{layer:i}=o,s=i&&(i[t.handler]||i.props[t.handler]),a=this.props[t.handler];let l=!1;s&&(l=s.call(i,o,e)),l||(null===a||void 0===a||a(o,e),this.widgetManager.onEvent(o,e))},this._onPointerDown=e=>{const t=e.offsetCenter,n=this._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=n.result[0]||n.emptyInfo},this.props={...nN,...e},(e=this.props).viewState&&e.initialViewState&&GE.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device?this.device=e.device:e.gl&&(e.gl instanceof WebGLRenderingContext&&GE.error("WebGL1 context not supported.")(),this.device=uL.attach(e.gl));let t=this.device;t||(uk.registerDevices([uL]),t=uk.createDevice({...e.deviceProps,canvas:this._createCanvas(e)})),this.animationLoop=this._createAnimationLoop(t,e),this.setProps(e),e._typedArrayManagerProps&&RM.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,n,r,o,i,s,a,l,c;(null===(e=this.animationLoop)||void 0===e||e.stop(),null===(t=this.animationLoop)||void 0===t||t.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(n=this.layerManager)||void 0===n||n.finalize(),this.layerManager=null,null===(r=this.viewManager)||void 0===r||r.finalize(),this.viewManager=null,null===(o=this.effectManager)||void 0===o||o.finalize(),this.effectManager=null,null===(i=this.deckRenderer)||void 0===i||i.finalize(),this.deckRenderer=null,null===(s=this.deckPicker)||void 0===s||s.finalize(),this.deckPicker=null,null===(a=this.eventManager)||void 0===a||a.destroy(),this.eventManager=null,null===(l=this.widgetManager)||void 0===l||l.finalize(),this.widgetManager=null,this.props.canvas||this.props.device||this.props.gl||!this.canvas)||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){var t;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&GE.removed("onLayerHover","onHover")(),"onLayerClick"in e&&GE.removed("onLayerClick","onClick")(),e.initialViewState&&!JR(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),null===(t=this.animationLoop)||void 0===t||t.setProps(n),this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n),this.widgetManager.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),i=this.deckRenderer.needsRedraw(e);return t=t||n||r||o||i,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return pT(this.viewManager),this.viewManager.views}getViewports(e){return pT(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var t;null===(t=this.layerManager)||void 0===t||t.removeDefaultShaderModule(e)}_pick(e,t,n){pT(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;if("string"===typeof t&&(t=document.getElementById(t),pT(t)),!t){t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay";(e.parent||document.body).appendChild(t)}return Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:n}=e;if(t||0===t){const e=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=e}if(n||0===n){var r;const t=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=t}}_updateCanvasSize(){var e,t;const{canvas:n}=this;if(!n)return;const r=null!==(e=n.clientWidth)&&void 0!==e?e:n.width,o=null!==(t=n.clientHeight)&&void 0!==t?t:n.height;var i,s;r===this.width&&o===this.height||(this.width=r,this.height=o,null===(i=this.viewManager)||void 0===i||i.setProps({width:r,height:o}),null===(s=this.layerManager)||void 0===s||s.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:o}))}_createAnimationLoop(e,t){const{gl:n,onError:r,useDevicePixels:o}=t;return new pL({device:e,useDevicePixels:o,autoResizeDrawingBuffer:!n,autoResizeViewport:!1,onInitialize:e=>this._setDevice(e.device),onRender:this._onRenderFrame.bind(this),onError:r})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,t=Array.isArray(e)?e:e?[e]:[new kT({id:"default-view"})];return t.length&&this.props.controller&&(t[0].props.controller=this.props.controller),t}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:o,emptyInfo:i}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=o.length>0;let s=i,a=!1;for(const n of o){var t;s=n,a=(null===(t=n.layer)||void 0===t?void 0:t.onHover(n,e.event))||a}var n,r;if(!a)null===(n=(r=this.props).onHover)||void 0===n||n.call(r,s,e.event),this.widgetManager.onHover(s,e.event);e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var t,n;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=null===(n=this.device.canvasContext)||void 0===n?void 0:n.canvas);this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device instanceof uL&&this.props.onWebGLInitialized(this.device.gl);const r=new BA;r.play(),this.animationLoop.attachTimeline(r),this.eventManager=new JL(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const i in XE)this.eventManager.on(i,this._onEvent);this.viewManager=new eT({timeline:r,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const o=this.viewManager.getViewports()[0];this.layerManager=new $R(this.device,{deck:this,stats:this.stats,viewport:o,timeline:r}),this.effectManager=new tP({deck:this,device:this.device}),this.deckRenderer=new sP(this.device),this.deckPicker=new hP(this.device),this.widgetManager=new mP({deck:this,parentElement:null===(t=this.canvas)||void 0===t?void 0:t.parentElement}),this.widgetManager.addDefault(new yP),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){var n;const{device:r,gl:o}=this.layerManager.context;this.props.onBeforeRender({device:r,gl:o});const i={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...t};null===(n=this.deckRenderer)||void 0===n||n.renderLayers(i),"screen"===i.pass&&this.widgetManager.onRedraw({viewports:i.viewports,layers:i.layers}),this.props.onAfterRender({device:r,gl:o})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),GE.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const n=uk.stats.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}(eN=rN).defaultProps=nN,eN.VERSION=HP;const oN="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function iN(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}function sN(e){const t=ArrayBuffer.isView(e)?e.constructor:e;switch(t){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(t.constructor.name)}}function aN(e){switch(e){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(e)}}function lN(e,t,n){if(!t||t>4)throw new Error("size ".concat(t));const r=t;let o=sN(e);if("uint8"===o||"sint8"===o){if(1===r||3===r)throw new Error("size: ".concat(t));return n&&(o=o.replace("int","norm")),"".concat(o,"x").concat(r)}if("uint16"===o||"sint16"===o){if(1===r||3===r)throw new Error("size: ".concat(t));return n&&(o=o.replace("int","norm")),"".concat(o,"x").concat(r)}return 1===r?o:"".concat(o,"x").concat(r)}const cN=sN;function uN(e,t){return{attribute:e,format:t.size>1?"".concat(t.type,"x").concat(t.size):t.type,byteOffset:t.offset||0}}function dN(e){return e.stride||e.size*e.bytesPerElement}function hN(e,t){t.offset&&GE.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=dN(e),r=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return{...t,offset:r,stride:n}}class pN{constructor(e,t,n){this._buffer=null,this.device=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o="float64"===r;let i,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),i=o?"float32":!r&&t.isIndexed?"uint32":r||"float32";let a=function(e){switch(e){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return aN(e)}}(r||i);this.doublePrecision=o,o&&!1===t.fp64&&(a=Float32Array),this.value=null,this.settings={...t,defaultType:a,defaultValue:s,logicalType:r,type:i,normalized:i.includes("norm"),size:this.size,bytesPerElement:a.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*dN(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),RM.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={};if(this.state.constant){const r=this.value;if(t){const o=hN(this.getAccessor(),t),i=o.offset/r.BYTES_PER_ELEMENT,s=o.size||this.size;n[e]=r.subarray(i,i+s)}else n[e]=r}else n[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?n["".concat(e,"64Low")]=n[e]:n["".concat(e,"64Low")]=new Float32Array(this.size)),n}getBufferLayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getAccessor(),r=[],o={name:this.id,byteStride:dN(n),attributes:r};if(this.doublePrecision){const o=function(e,t){const n=hN(e,t);return{high:n,low:{...n,offset:n.offset+4*e.size}}}(n,t||{});r.push(uN(e,{...n,...o.high}),uN("".concat(e,"64Low"),{...n,...o.low}))}else if(t){const o=hN(n,t);r.push(uN(e,{...n,...o}))}else r.push(uN(e,n));return o}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:n,size:r}=this,o=n*r;if(t&&o&&t.length>=o){const n=new Array(r).fill(1/0),i=new Array(r).fill(-1/0);for(let e=0;e<o;)for(let o=0;o<r;o++){const r=t[e++];r<n[o]&&(n[o]=r),r>i[o]&&(i[o]=r)}e=[n,i]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let n;n=ArrayBuffer.isView(e)?{value:e}:e instanceof QP?{buffer:e}:e;const r={...this.settings,...n};if(ArrayBuffer.isView(n.value)){if(!n.type){if(this.doublePrecision&&n.value instanceof Float64Array)r.type="float32";else{const e=cN(n.value);r.type=r.normalized?e.replace("int","norm"):e}}r.bytesPerElement=n.value.BYTES_PER_ELEMENT,r.stride=dN(r)}if(t.bounds=null,n.constant){let e=n.value;e=this._normalizeValue(e,[],0),this.settings.normalized&&(e=this.normalizeConstant(e));if(!(!t.constant||!this._areValuesEqual(e,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=ArrayBuffer.isView(e)?e:new Float32Array(e)}else if(n.buffer){const e=n.buffer;t.externalBuffer=e,t.constant=!1,this.value=n.value||null}else if(n.value){this._checkExternalBuffer(n);let e=n.value;t.externalBuffer=null,t.constant=!1,this.value=e;let{buffer:o}=this;const i=dN(r),s=(r.vertexOffset||0)*i;if(this.doublePrecision&&e instanceof Float64Array&&(e=iR(e,r)),this.settings.isIndexed){const t=this.settings.defaultType;e.constructor!==t&&(e=new t(e))}const a=e.byteLength+s+2*i;(!o||o.byteLength<a)&&(o=this._createBuffer(a)),o.write(e,s)}return this.setAccessor(r),!0}updateSubBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;const t=this.value,{startOffset:n=0,endOffset:r}=e;this.buffer.write(this.doublePrecision&&t instanceof Float64Array?iR(t,{size:this.size,startIndex:n,endIndex:r}):t.subarray(n,r),n*t.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n}=this,r=n.allocatedValue,o=RM.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{byteOffset:i}=this;let{buffer:s}=this;return(!s||s.byteLength<o.byteLength+i)&&(s=this._createBuffer(o.byteLength+i),t&&r&&s.write(r instanceof Float64Array?iR(r,this):r,i)),n.allocatedValue=o,n.constant=!1,n.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const n=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||GE.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map((e=>(e+128)/255*2-1));case"snorm16":return new Float32Array(e).map((e=>(e+32768)/65535*2-1));case"unorm8":return new Float32Array(e).map((e=>e/255));case"unorm16":return new Float32Array(e).map((e=>e/65535));default:return e}}_normalizeValue(e,t,n){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[n]=e,t;if(!e){let e=o;for(;--e>=0;)t[n+e]=r[e];return t}switch(o){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let i=o;for(;--i>=0;)t[n+i]=Number.isFinite(e[i])?e[i]:r[i]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:n}=this;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}_createBuffer(e){var t;this._buffer&&this._buffer.destroy();const{isIndexed:n,type:r}=this.settings;return this._buffer=this.device.createBuffer({...null===(t=this._buffer)||void 0===t?void 0:t.props,id:this.id,usage:n?QP.INDEX:QP.VERTEX,indexType:n?r:void 0,byteLength:e}),this._buffer}}const fN=[],gN=[];function mN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=fN;const o={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?r=e:e.length>0&&(gN.length=e.length,r=gN):r=fN,(t>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(t,n),o.index=t-1),{iterable:r,objectInfo:o}}function vN(e){return e&&e[Symbol.asyncIterator]}function yN(e,t){const{size:n,stride:r,offset:o,startIndices:i,nested:s}=t,a=e.BYTES_PER_ELEMENT,l=r?r/a:n,c=o?o/a:0,u=Math.floor((e.length-c)/l);return(t,r)=>{let{index:o,target:a}=r;if(!i){const t=o*l+c;for(let r=0;r<n;r++)a[r]=e[t+r];return a}const d=i[o],h=i[o+1]||u;let p;if(s){p=new Array(h-d);for(let t=d;t<h;t++){const r=t*l+c;a=new Array(n);for(let t=0;t<n;t++)a[t]=e[r+t];p[t-d]=a}}else if(l===n)p=e.subarray(d*n+c,h*n+c);else{p=new e.constructor((h-d)*n);let t=0;for(let r=d;r<h;r++){const o=r*l+c;for(let r=0;r<n;r++)p[t++]=e[o+r]}}return p}}const bN=[],_N=[[0,1/0]];const wN={interpolation:{duration:0,easing:e=>e},spring:{stiffness:.05,damping:.5}};function xN(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});const n=e.type||"interpolation";return{...wN[n],...t,...e,type:n}}class AN extends pN{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:_N}),this.constant=!1,this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw(){let{clearChangedFlags:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var t,n,r;(t=this.state).layoutChanged||(t.layoutChanged=(n=e,r=this.getAccessor(),!(n.type===r.type&&n.size===r.size&&dN(n)===dN(r)&&(n.offset||0)===(r.offset||0)))),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!==typeof e&&e||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,n=this.settings.transition;return xN(Array.isArray(t)?e[t.find((t=>e[t]))]:e[t],n)}setNeedsUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:e=0,endRow:n=1/0}=t;this.state.updateRanges=function(e,t){if(e===_N)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;const n=[],r=e.length;let o=0;for(let i=0;i<r;i++){const r=e[i];r[1]<t[0]?(n.push(r),o=i+1):r[0]>t[1]?n.push(r):t=[Math.min(r[0],t[0]),Math.max(r[1],t[1])]}return n.splice(o,0,t),n}(this.state.updateRanges,[e,n])}else this.state.updateRanges=_N}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=bN}setNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:n}=this;return!n.noAlloc&&(!!n.update&&(super.allocate(e,t.updateRanges!==_N),!0))}updateBuffer(e){let{numInstances:t,data:n,props:r,context:o}=e;if(!this.needsUpdate())return!1;const{state:{updateRanges:i},settings:{update:s,noAlloc:a}}=this;let l=!0;if(s){for(const[e,a]of i)s.call(o,this,{data:n,startRow:e,endRow:a,props:r,numInstances:t});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[e,n]of i){const r=Number.isFinite(e)?this.getVertexOffset(e):0,o=Number.isFinite(n)?this.getVertexOffset(n):a||!Number.isFinite(t)?this.value.length:t*this.size;super.updateSubBuffer({startOffset:r,endOffset:o})}else;this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e){if(void 0===e||"function"===typeof e)return!1;return this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{state:n,settings:r}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;n.binaryValue=e,this.setNeedsRedraw();if(r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const o=e;pT(ArrayBuffer.isView(o.value),"invalid ".concat(r.accessor));const i=Boolean(o.size)&&o.size!==this.size;return n.binaryAccessor=yN(o.value,{size:o.size||this.size,stride:o.stride,offset:o.offset,startIndices:t,nested:i}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,t=super.getValue();if(!e)return t;for(const n in e)Object.assign(t,super.getValue(n,e[n]));return t}getBufferLayout(){this.state.layoutChanged=!1;const e=this.settings.shaderAttributes,t=super.getBufferLayout();if(!e)return t;for(const n in e){const r=super.getBufferLayout(n,e[n]);t.attributes.push(...r.attributes)}return t}_autoUpdater(e,t){let{data:n,startRow:r,endRow:o,props:i,numInstances:s}=t;if(e.constant)return;const{settings:a,state:l,value:c,size:u,startIndices:d}=e,{accessor:h,transform:p}=a,f=l.binaryAccessor||("function"===typeof h?h:i[h]);pT("function"===typeof f,'accessor "'.concat(h,'" is not a function'));let g=e.getVertexOffset(r);const{iterable:m,objectInfo:v}=mN(n,r,o);for(const y of m){v.index++;let t=f(y,v);if(p&&(t=p.call(this,t)),d){const n=(v.index<d.length-1?d[v.index+1]:s)-d[v.index];if(t&&Array.isArray(t[0])){let n=g;for(const r of t)e._normalizeValue(r,c,n),n+=u}else t&&t.length>u?c.set(t,g):(e._normalizeValue(t,v.target,0),HS({target:c,source:v.target,start:g,count:n}));g+=n*u}else e._normalizeValue(t,c,g),g+=u}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}const EN="#version 300 es\n".concat("out vec4 transform_output;\nvoid main() {\ntransform_output = vec4(0);\n}");function SN(e){const{input:t,inputChannels:n,output:r}=e||{};if(!t)return EN;if(!n)throw new Error("inputChannels");const o=function(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error("invalid channels: ".concat(e))}}(n),i=function(e,t){switch(t){case 1:return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case 2:return"vec4(".concat(e,", 0.0, 1.0)");case 3:return"vec4(".concat(e,", 1.0)");case 4:return e;default:throw new Error("invalid channels: ".concat(t))}}(t,n);return"#version 300 es\nin ".concat(o," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(i,";\n}")}class CN{constructor(e){if(NA(this,"name",void 0),NA(this,"uniforms",{}),NA(this,"modifiedUniforms",{}),NA(this,"modified",!0),NA(this,"bindingLayout",{}),NA(this,"needsRedraw","initialized"),this.name=null===e||void 0===e?void 0:e.name,null!==e&&void 0!==e&&e.name&&null!==e&&void 0!==e&&e.shaderLayout){var t;const n=null===e||void 0===e||null===(t=e.shaderLayout.bindings)||void 0===t?void 0:t.find((t=>"uniform"===t.type&&t.name===(null===e||void 0===e?void 0:e.name)));if(!n)throw new Error(null===e||void 0===e?void 0:e.name);const r=n;for(const e of r.uniforms||[])this.bindingLayout[e.name]=e}}setUniforms(e){for(const[t,n]of Object.entries(e))this._setUniform(t,n),this.needsRedraw||this.setNeedsRedraw("".concat(this.name,".").concat(t,"=").concat(n))}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,t){(function(e,t){if(e!==t)return!1;const n=vO(e);if(!n)return!1;const r=vO(t);if(r&&n.length===r.length)for(let o=0;o<n.length;++o)if(r[o]!==n[o])return!1;return!0})(this.uniforms[e],t)||(this.uniforms[e]=function(e){const t=vO(e);return t?t.slice():e}(t),this.modifiedUniforms[e]=!0,this.modified=!0)}}const MN={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function RN(e){const t=MN[e];return lk(e),t}function TN(e,t){switch(t){case 1:return e;case 2:return e+e%2;default:return e+(4-e%4)%4}}class PN{constructor(e){NA(this,"layout",{}),NA(this,"byteLength",void 0);let t=0;for(const[r,o]of Object.entries(e)){const e=RN(o),{type:n,components:i}=e;t=TN(t,i);const s=t;t+=i,this.layout[r]={type:n,size:i,offset:s}}t+=(4-t%4)%4;const n=4*t;this.byteLength=Math.max(n,1024)}getData(e){const t=QO(Math.max(this.byteLength,1024)),n={i32:new Int32Array(t),u32:new Uint32Array(t),f32:new Float32Array(t),f16:new Uint16Array(t)};for(const[r,o]of Object.entries(e)){const e=this.layout[r];if(!e){VP.warn("Supplied uniform value ".concat(r," not present in uniform block layout"))();continue}const{type:t,size:i,offset:s}=e,a=n[t];if(1===i){if("number"!==typeof o&&"boolean"!==typeof o){VP.warn("Supplied value for single component uniform ".concat(r," is not a number: ").concat(o))();continue}a[s]=Number(o)}else{const e=vO(o);if(!e){VP.warn("Supplied value for multi component / array uniform ".concat(r," is not a numeric array: ").concat(o))();continue}a.set(e,s)}}return new Uint8Array(t)}has(e){return Boolean(this.layout[e])}get(e){return this.layout[e]}}class kN{constructor(e){NA(this,"uniformBlocks",new Map),NA(this,"uniformBufferLayouts",new Map),NA(this,"uniformBuffers",new Map);for(const[t,n]of Object.entries(e)){const e=t,r=new PN(n.uniformTypes||{});this.uniformBufferLayouts.set(e,r);const o=new CN({name:t});o.setUniforms(n.defaultUniforms||{}),this.uniformBlocks.set(e,o)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){for(const[t,n]of Object.entries(e))this.uniformBlocks.get(t).setUniforms(n);this.updateUniformBuffers()}getUniformBufferByteLength(e){return this.uniformBufferLayouts.get(e).byteLength}getUniformBufferData(e){const t=this.uniformBlocks.get(e).getAllUniforms();return this.uniformBufferLayouts.get(e).getData(t)}createUniformBuffer(e,t,n){n&&this.setUniforms(n);const r=this.getUniformBufferByteLength(t),o=e.createBuffer({usage:QP.UNIFORM|QP.COPY_DST,byteLength:r}),i=this.getUniformBufferData(t);return o.write(i),o}getManagedUniformBuffer(e,t){if(!this.uniformBuffers.get(t)){const n=this.getUniformBufferByteLength(t),r=e.createBuffer({usage:QP.UNIFORM|QP.COPY_DST,byteLength:n});this.uniformBuffers.set(t,r)}return this.uniformBuffers.get(t)}updateUniformBuffers(){let e=!1;for(const t of this.uniformBlocks.keys()){const n=this.updateUniformBuffer(t);e||(e=n)}return e&&VP.log(3,"UniformStore.updateUniformBuffers(): ".concat(e))(),e}updateUniformBuffer(e){const t=this.uniformBlocks.get(e);let n=!1;if(this.uniformBuffers.get(e)&&t.needsRedraw){n||(n=t.needsRedraw);const r=this.getUniformBufferData(e);this.uniformBuffers.get(e).write(r);const o=this.uniformBlocks.get(e).getAllUniforms();VP.log(4,"Writing to uniform buffer ".concat(String(e)),r,o)()}return n}}function IN(e,t,n){if(e===t)return!0;if(!n||!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!IN(e[r],t[r],n-1))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const i of r){if(!t.hasOwnProperty(i))return!1;if(!IN(e[i],t[i],n-1))return!1}return!0}return!1}class ON{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class LN{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(e){throw new Error("Cannot evaluate node")}evaluateString(e){return this.evaluate(e).toString()}}class NN extends LN{constructor(){super()}}class FN extends NN{constructor(e,t,n,r){super(),this.name=e,this.args=t,this.returnType=n,this.body=r}get astNodeType(){return"function"}}class DN extends NN{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}}class BN extends NN{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"while"}}class zN extends NN{constructor(e){super(),this.body=e}get astNodeType(){return"continuing"}}class jN extends NN{constructor(e,t,n,r){super(),this.init=e,this.condition=t,this.increment=n,this.body=r}get astNodeType(){return"for"}}class UN extends NN{constructor(e,t,n,r,o){super(),this.name=e,this.type=t,this.storage=n,this.access=r,this.value=o}get astNodeType(){return"var"}}class GN extends NN{constructor(e,t,n){super(),this.name=e,this.type=t,this.value=n}get astNodeType(){return"override"}}class HN extends NN{constructor(e,t,n,r,o){super(),this.name=e,this.type=t,this.storage=n,this.access=r,this.value=o}get astNodeType(){return"let"}}class VN extends NN{constructor(e,t,n,r,o){super(),this.name=e,this.type=t,this.storage=n,this.access=r,this.value=o}get astNodeType(){return"const"}evaluate(e){return this.value.evaluate(e)}}var WN,XN,qN,KN,YN;!function(e){e.increment="++",e.decrement="--"}(WN||(WN={})),function(e){e.parse=function(t){const n=t;if("parse"==n)throw new Error("Invalid value for IncrementOperator");return e[n]}}(WN||(WN={}));class ZN extends NN{constructor(e,t){super(),this.operator=e,this.variable=t}get astNodeType(){return"increment"}}!function(e){e.assign="=",e.addAssign="+=",e.subtractAssin="-=",e.multiplyAssign="*=",e.divideAssign="/=",e.moduloAssign="%=",e.andAssign="&=",e.orAssign="|=",e.xorAssign="^=",e.shiftLeftAssign="<<=",e.shiftRightAssign=">>="}(XN||(XN={})),function(e){e.parse=function(t){const n=t;if("parse"==n)throw new Error("Invalid value for AssignOperator");return e[n]}}(XN||(XN={}));class QN extends NN{constructor(e,t,n){super(),this.operator=e,this.variable=t,this.value=n}get astNodeType(){return"assign"}}class $N extends NN{constructor(e,t){super(),this.name=e,this.args=t}get astNodeType(){return"call"}}class JN extends NN{constructor(e,t){super(),this.body=e,this.continuing=t}get astNodeType(){return"loop"}}class eF extends NN{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"body"}}class tF extends NN{constructor(e,t,n,r){super(),this.condition=e,this.body=t,this.elseif=n,this.else=r}get astNodeType(){return"if"}}class nF extends NN{constructor(e){super(),this.value=e}get astNodeType(){return"return"}}class rF extends NN{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class oF extends NN{constructor(e,t){super(),this.name=e,this.type=t}get astNodeType(){return"alias"}}class iF extends NN{constructor(){super()}get astNodeType(){return"discard"}}class sF extends NN{constructor(){super()}get astNodeType(){return"break"}}class aF extends NN{constructor(){super()}get astNodeType(){return"continue"}}class lF extends NN{constructor(e){super(),this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class cF extends lF{constructor(e,t){super(e),this.members=t}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let t=0;t<this.members.length;t++)if(this.members[t].name==e)return t;return-1}}class uF extends lF{constructor(e,t,n){super(e),this.format=t,this.access=n}get astNodeType(){return"template"}}class dF extends lF{constructor(e,t,n,r){super(e),this.storage=t,this.type=n,this.access=r}get astNodeType(){return"pointer"}}class hF extends lF{constructor(e,t,n,r){super(e),this.attributes=t,this.format=n,this.count=r}get astNodeType(){return"array"}get isArray(){return!0}}class pF extends lF{constructor(e,t,n){super(e),this.format=t,this.access=n}get astNodeType(){return"sampler"}}class fF extends LN{constructor(){super()}}class gF extends fF{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class mF extends fF{constructor(e,t){super(),this.type=e,this.args=t}get astNodeType(){return"createExpr"}}class vF extends fF{constructor(e,t){super(),this.name=e,this.args=t}get astNodeType(){return"callExpr"}evaluate(e){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(e));case"acos":return Math.acos(this.args[0].evaluate(e));case"acosh":return Math.acosh(this.args[0].evaluate(e));case"asin":return Math.asin(this.args[0].evaluate(e));case"asinh":return Math.asinh(this.args[0].evaluate(e));case"atan":return Math.atan(this.args[0].evaluate(e));case"atan2":return Math.atan2(this.args[0].evaluate(e),this.args[1].evaluate(e));case"atanh":return Math.atanh(this.args[0].evaluate(e));case"ceil":return Math.ceil(this.args[0].evaluate(e));case"clamp":return Math.min(Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e)),this.args[2].evaluate(e));case"cos":return Math.cos(this.args[0].evaluate(e));case"degrees":return 180*this.args[0].evaluate(e)/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(e)-this.args[1].evaluate(e),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(e));case"exp2":return Math.pow(2,this.args[0].evaluate(e));case"floor":return Math.floor(this.args[0].evaluate(e));case"fma":return this.args[0].evaluate(e)*this.args[1].evaluate(e)+this.args[2].evaluate(e);case"fract":case"modf":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(e));case"log":return Math.log(this.args[0].evaluate(e));case"log2":return Math.log2(this.args[0].evaluate(e));case"max":return Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e));case"min":return Math.min(this.args[0].evaluate(e),this.args[1].evaluate(e));case"mix":return this.args[0].evaluate(e)*(1-this.args[2].evaluate(e))+this.args[1].evaluate(e)*this.args[2].evaluate(e);case"pow":return Math.pow(this.args[0].evaluate(e),this.args[1].evaluate(e));case"radians":return this.args[0].evaluate(e)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(e));case"sign":return Math.sign(this.args[0].evaluate(e));case"sin":return Math.sin(this.args[0].evaluate(e));case"sinh":return Math.sinh(this.args[0].evaluate(e));case"saturate":return Math.min(Math.max(this.args[0].evaluate(e),0),1);case"smoothstep":return this.args[0].evaluate(e)*this.args[0].evaluate(e)*(3-2*this.args[0].evaluate(e));case"sqrt":return Math.sqrt(this.args[0].evaluate(e));case"step":return this.args[0].evaluate(e)<this.args[1].evaluate(e)?0:1;case"tan":return Math.tan(this.args[0].evaluate(e));case"tanh":return Math.tanh(this.args[0].evaluate(e));case"trunc":return Math.trunc(this.args[0].evaluate(e));default:throw new Error("Non const function: "+this.name)}}}class yF extends fF{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}}class bF extends fF{constructor(e,t){super(),this.name=e,this.initializer=t}get astNodeType(){return"constExpr"}evaluate(e){var t,n;if(this.initializer instanceof mF){const r=null===(t=this.postfix)||void 0===t?void 0:t.evaluateString(e),o=null===(n=this.initializer.type)||void 0===n?void 0:n.name,i=e.structs.get(o),s=null===i||void 0===i?void 0:i.getMemberIndex(r);if(-1!=s){return this.initializer.args[s].evaluate(e)}console.log(s)}return this.initializer.evaluate(e)}}class _F extends fF{constructor(e){super(),this.value=e}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class wF extends fF{constructor(e,t){super(),this.type=e,this.value=t}get astNodeType(){return"bitcastExpr"}}class xF extends fF{constructor(e,t){super(),this.type=e,this.args=t}get astNodeType(){return"typecastExpr"}evaluate(e){return this.args[0].evaluate(e)}}class AF extends fF{constructor(e){super(),this.contents=e}get astNodeType(){return"groupExpr"}evaluate(e){return this.contents[0].evaluate(e)}}class EF extends fF{constructor(){super()}}class SF extends EF{constructor(e,t){super(),this.operator=e,this.right=t}get astNodeType(){return"unaryOp"}evaluate(e){switch(this.operator){case"+":return this.right.evaluate(e);case"-":return-this.right.evaluate(e);case"!":return this.right.evaluate(e)?0:1;case"~":return~this.right.evaluate(e);default:throw new Error("Unknown unary operator: "+this.operator)}}}class CF extends EF{constructor(e,t,n){super(),this.operator=e,this.left=t,this.right=n}get astNodeType(){return"binaryOp"}evaluate(e){switch(this.operator){case"+":return this.left.evaluate(e)+this.right.evaluate(e);case"-":return this.left.evaluate(e)-this.right.evaluate(e);case"*":return this.left.evaluate(e)*this.right.evaluate(e);case"/":return this.left.evaluate(e)/this.right.evaluate(e);case"%":return this.left.evaluate(e)%this.right.evaluate(e);case"==":return this.left.evaluate(e)==this.right.evaluate(e)?1:0;case"!=":return this.left.evaluate(e)!=this.right.evaluate(e)?1:0;case"<":return this.left.evaluate(e)<this.right.evaluate(e)?1:0;case">":return this.left.evaluate(e)>this.right.evaluate(e)?1:0;case"<=":return this.left.evaluate(e)<=this.right.evaluate(e)?1:0;case">=":return this.left.evaluate(e)>=this.right.evaluate(e)?1:0;case"&&":return this.left.evaluate(e)&&this.right.evaluate(e)?1:0;case"||":return this.left.evaluate(e)||this.right.evaluate(e)?1:0;default:throw new Error("Unknown operator ".concat(this.operator))}}}class MF extends LN{constructor(){super()}}class RF extends MF{constructor(e,t){super(),this.selector=e,this.body=t}get astNodeType(){return"case"}}class TF extends MF{constructor(e){super(),this.body=e}get astNodeType(){return"default"}}class PF extends LN{constructor(e,t,n){super(),this.name=e,this.type=t,this.attributes=n}get astNodeType(){return"argument"}}class kF extends LN{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"elseif"}}class IF extends LN{constructor(e,t,n){super(),this.name=e,this.type=t,this.attributes=n}get astNodeType(){return"member"}}class OF extends LN{constructor(e,t){super(),this.name=e,this.value=t}get astNodeType(){return"attribute"}}!function(e){e[e.token=0]="token",e[e.keyword=1]="keyword",e[e.reserved=2]="reserved"}(KN||(KN={}));class LF{constructor(e,t,n){this.name=e,this.type=t,this.rule=n}toString(){return this.name}}class NF{}qN=NF,NF.none=new LF("",KN.reserved,""),NF.eof=new LF("EOF",KN.token,""),NF.reserved={asm:new LF("asm",KN.reserved,"asm"),bf16:new LF("bf16",KN.reserved,"bf16"),do:new LF("do",KN.reserved,"do"),enum:new LF("enum",KN.reserved,"enum"),f16:new LF("f16",KN.reserved,"f16"),f64:new LF("f64",KN.reserved,"f64"),handle:new LF("handle",KN.reserved,"handle"),i8:new LF("i8",KN.reserved,"i8"),i16:new LF("i16",KN.reserved,"i16"),i64:new LF("i64",KN.reserved,"i64"),mat:new LF("mat",KN.reserved,"mat"),premerge:new LF("premerge",KN.reserved,"premerge"),regardless:new LF("regardless",KN.reserved,"regardless"),typedef:new LF("typedef",KN.reserved,"typedef"),u8:new LF("u8",KN.reserved,"u8"),u16:new LF("u16",KN.reserved,"u16"),u64:new LF("u64",KN.reserved,"u64"),unless:new LF("unless",KN.reserved,"unless"),using:new LF("using",KN.reserved,"using"),vec:new LF("vec",KN.reserved,"vec"),void:new LF("void",KN.reserved,"void")},NF.keywords={array:new LF("array",KN.keyword,"array"),atomic:new LF("atomic",KN.keyword,"atomic"),bool:new LF("bool",KN.keyword,"bool"),f32:new LF("f32",KN.keyword,"f32"),i32:new LF("i32",KN.keyword,"i32"),mat2x2:new LF("mat2x2",KN.keyword,"mat2x2"),mat2x3:new LF("mat2x3",KN.keyword,"mat2x3"),mat2x4:new LF("mat2x4",KN.keyword,"mat2x4"),mat3x2:new LF("mat3x2",KN.keyword,"mat3x2"),mat3x3:new LF("mat3x3",KN.keyword,"mat3x3"),mat3x4:new LF("mat3x4",KN.keyword,"mat3x4"),mat4x2:new LF("mat4x2",KN.keyword,"mat4x2"),mat4x3:new LF("mat4x3",KN.keyword,"mat4x3"),mat4x4:new LF("mat4x4",KN.keyword,"mat4x4"),ptr:new LF("ptr",KN.keyword,"ptr"),sampler:new LF("sampler",KN.keyword,"sampler"),sampler_comparison:new LF("sampler_comparison",KN.keyword,"sampler_comparison"),struct:new LF("struct",KN.keyword,"struct"),texture_1d:new LF("texture_1d",KN.keyword,"texture_1d"),texture_2d:new LF("texture_2d",KN.keyword,"texture_2d"),texture_2d_array:new LF("texture_2d_array",KN.keyword,"texture_2d_array"),texture_3d:new LF("texture_3d",KN.keyword,"texture_3d"),texture_cube:new LF("texture_cube",KN.keyword,"texture_cube"),texture_cube_array:new LF("texture_cube_array",KN.keyword,"texture_cube_array"),texture_multisampled_2d:new LF("texture_multisampled_2d",KN.keyword,"texture_multisampled_2d"),texture_storage_1d:new LF("texture_storage_1d",KN.keyword,"texture_storage_1d"),texture_storage_2d:new LF("texture_storage_2d",KN.keyword,"texture_storage_2d"),texture_storage_2d_array:new LF("texture_storage_2d_array",KN.keyword,"texture_storage_2d_array"),texture_storage_3d:new LF("texture_storage_3d",KN.keyword,"texture_storage_3d"),texture_depth_2d:new LF("texture_depth_2d",KN.keyword,"texture_depth_2d"),texture_depth_2d_array:new LF("texture_depth_2d_array",KN.keyword,"texture_depth_2d_array"),texture_depth_cube:new LF("texture_depth_cube",KN.keyword,"texture_depth_cube"),texture_depth_cube_array:new LF("texture_depth_cube_array",KN.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new LF("texture_depth_multisampled_2d",KN.keyword,"texture_depth_multisampled_2d"),texture_external:new LF("texture_external",KN.keyword,"texture_external"),u32:new LF("u32",KN.keyword,"u32"),vec2:new LF("vec2",KN.keyword,"vec2"),vec3:new LF("vec3",KN.keyword,"vec3"),vec4:new LF("vec4",KN.keyword,"vec4"),bitcast:new LF("bitcast",KN.keyword,"bitcast"),block:new LF("block",KN.keyword,"block"),break:new LF("break",KN.keyword,"break"),case:new LF("case",KN.keyword,"case"),continue:new LF("continue",KN.keyword,"continue"),continuing:new LF("continuing",KN.keyword,"continuing"),default:new LF("default",KN.keyword,"default"),discard:new LF("discard",KN.keyword,"discard"),else:new LF("else",KN.keyword,"else"),enable:new LF("enable",KN.keyword,"enable"),fallthrough:new LF("fallthrough",KN.keyword,"fallthrough"),false:new LF("false",KN.keyword,"false"),fn:new LF("fn",KN.keyword,"fn"),for:new LF("for",KN.keyword,"for"),function:new LF("function",KN.keyword,"function"),if:new LF("if",KN.keyword,"if"),let:new LF("let",KN.keyword,"let"),const:new LF("const",KN.keyword,"const"),loop:new LF("loop",KN.keyword,"loop"),while:new LF("while",KN.keyword,"while"),private:new LF("private",KN.keyword,"private"),read:new LF("read",KN.keyword,"read"),read_write:new LF("read_write",KN.keyword,"read_write"),return:new LF("return",KN.keyword,"return"),storage:new LF("storage",KN.keyword,"storage"),switch:new LF("switch",KN.keyword,"switch"),true:new LF("true",KN.keyword,"true"),alias:new LF("alias",KN.keyword,"alias"),type:new LF("type",KN.keyword,"type"),uniform:new LF("uniform",KN.keyword,"uniform"),var:new LF("var",KN.keyword,"var"),override:new LF("override",KN.keyword,"override"),workgroup:new LF("workgroup",KN.keyword,"workgroup"),write:new LF("write",KN.keyword,"write"),r8unorm:new LF("r8unorm",KN.keyword,"r8unorm"),r8snorm:new LF("r8snorm",KN.keyword,"r8snorm"),r8uint:new LF("r8uint",KN.keyword,"r8uint"),r8sint:new LF("r8sint",KN.keyword,"r8sint"),r16uint:new LF("r16uint",KN.keyword,"r16uint"),r16sint:new LF("r16sint",KN.keyword,"r16sint"),r16float:new LF("r16float",KN.keyword,"r16float"),rg8unorm:new LF("rg8unorm",KN.keyword,"rg8unorm"),rg8snorm:new LF("rg8snorm",KN.keyword,"rg8snorm"),rg8uint:new LF("rg8uint",KN.keyword,"rg8uint"),rg8sint:new LF("rg8sint",KN.keyword,"rg8sint"),r32uint:new LF("r32uint",KN.keyword,"r32uint"),r32sint:new LF("r32sint",KN.keyword,"r32sint"),r32float:new LF("r32float",KN.keyword,"r32float"),rg16uint:new LF("rg16uint",KN.keyword,"rg16uint"),rg16sint:new LF("rg16sint",KN.keyword,"rg16sint"),rg16float:new LF("rg16float",KN.keyword,"rg16float"),rgba8unorm:new LF("rgba8unorm",KN.keyword,"rgba8unorm"),rgba8unorm_srgb:new LF("rgba8unorm_srgb",KN.keyword,"rgba8unorm_srgb"),rgba8snorm:new LF("rgba8snorm",KN.keyword,"rgba8snorm"),rgba8uint:new LF("rgba8uint",KN.keyword,"rgba8uint"),rgba8sint:new LF("rgba8sint",KN.keyword,"rgba8sint"),bgra8unorm:new LF("bgra8unorm",KN.keyword,"bgra8unorm"),bgra8unorm_srgb:new LF("bgra8unorm_srgb",KN.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new LF("rgb10a2unorm",KN.keyword,"rgb10a2unorm"),rg11b10float:new LF("rg11b10float",KN.keyword,"rg11b10float"),rg32uint:new LF("rg32uint",KN.keyword,"rg32uint"),rg32sint:new LF("rg32sint",KN.keyword,"rg32sint"),rg32float:new LF("rg32float",KN.keyword,"rg32float"),rgba16uint:new LF("rgba16uint",KN.keyword,"rgba16uint"),rgba16sint:new LF("rgba16sint",KN.keyword,"rgba16sint"),rgba16float:new LF("rgba16float",KN.keyword,"rgba16float"),rgba32uint:new LF("rgba32uint",KN.keyword,"rgba32uint"),rgba32sint:new LF("rgba32sint",KN.keyword,"rgba32sint"),rgba32float:new LF("rgba32float",KN.keyword,"rgba32float"),static_assert:new LF("static_assert",KN.keyword,"static_assert")},NF.tokens={decimal_float_literal:new LF("decimal_float_literal",KN.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new LF("hex_float_literal",KN.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new LF("int_literal",KN.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new LF("uint_literal",KN.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new LF("ident",KN.token,/[a-zA-Z][0-9a-zA-Z_]*/),and:new LF("and",KN.token,"&"),and_and:new LF("and_and",KN.token,"&&"),arrow:new LF("arrow ",KN.token,"->"),attr:new LF("attr",KN.token,"@"),attr_left:new LF("attr_left",KN.token,"[["),attr_right:new LF("attr_right",KN.token,"]]"),forward_slash:new LF("forward_slash",KN.token,"/"),bang:new LF("bang",KN.token,"!"),bracket_left:new LF("bracket_left",KN.token,"["),bracket_right:new LF("bracket_right",KN.token,"]"),brace_left:new LF("brace_left",KN.token,"{"),brace_right:new LF("brace_right",KN.token,"}"),colon:new LF("colon",KN.token,":"),comma:new LF("comma",KN.token,","),equal:new LF("equal",KN.token,"="),equal_equal:new LF("equal_equal",KN.token,"=="),not_equal:new LF("not_equal",KN.token,"!="),greater_than:new LF("greater_than",KN.token,">"),greater_than_equal:new LF("greater_than_equal",KN.token,">="),shift_right:new LF("shift_right",KN.token,">>"),less_than:new LF("less_than",KN.token,"<"),less_than_equal:new LF("less_than_equal",KN.token,"<="),shift_left:new LF("shift_left",KN.token,"<<"),modulo:new LF("modulo",KN.token,"%"),minus:new LF("minus",KN.token,"-"),minus_minus:new LF("minus_minus",KN.token,"--"),period:new LF("period",KN.token,"."),plus:new LF("plus",KN.token,"+"),plus_plus:new LF("plus_plus",KN.token,"++"),or:new LF("or",KN.token,"|"),or_or:new LF("or_or",KN.token,"||"),paren_left:new LF("paren_left",KN.token,"("),paren_right:new LF("paren_right",KN.token,")"),semicolon:new LF("semicolon",KN.token,";"),star:new LF("star",KN.token,"*"),tilde:new LF("tilde",KN.token,"~"),underscore:new LF("underscore",KN.token,"_"),xor:new LF("xor",KN.token,"^"),plus_equal:new LF("plus_equal",KN.token,"+="),minus_equal:new LF("minus_equal",KN.token,"-="),times_equal:new LF("times_equal",KN.token,"*="),division_equal:new LF("division_equal",KN.token,"/="),modulo_equal:new LF("modulo_equal",KN.token,"%="),and_equal:new LF("and_equal",KN.token,"&="),or_equal:new LF("or_equal",KN.token,"|="),xor_equal:new LF("xor_equal",KN.token,"^="),shift_right_equal:new LF("shift_right_equal",KN.token,">>="),shift_left_equal:new LF("shift_left_equal",KN.token,"<<=")},NF.storage_class=[qN.keywords.function,qN.keywords.private,qN.keywords.workgroup,qN.keywords.uniform,qN.keywords.storage],NF.access_mode=[qN.keywords.read,qN.keywords.write,qN.keywords.read_write],NF.sampler_type=[qN.keywords.sampler,qN.keywords.sampler_comparison],NF.sampled_texture_type=[qN.keywords.texture_1d,qN.keywords.texture_2d,qN.keywords.texture_2d_array,qN.keywords.texture_3d,qN.keywords.texture_cube,qN.keywords.texture_cube_array],NF.multisampled_texture_type=[qN.keywords.texture_multisampled_2d],NF.storage_texture_type=[qN.keywords.texture_storage_1d,qN.keywords.texture_storage_2d,qN.keywords.texture_storage_2d_array,qN.keywords.texture_storage_3d],NF.depth_texture_type=[qN.keywords.texture_depth_2d,qN.keywords.texture_depth_2d_array,qN.keywords.texture_depth_cube,qN.keywords.texture_depth_cube_array,qN.keywords.texture_depth_multisampled_2d],NF.texture_external_type=[qN.keywords.texture_external],NF.any_texture_type=[...qN.sampled_texture_type,...qN.multisampled_texture_type,...qN.storage_texture_type,...qN.depth_texture_type,...qN.texture_external_type],NF.texel_format=[qN.keywords.r8unorm,qN.keywords.r8snorm,qN.keywords.r8uint,qN.keywords.r8sint,qN.keywords.r16uint,qN.keywords.r16sint,qN.keywords.r16float,qN.keywords.rg8unorm,qN.keywords.rg8snorm,qN.keywords.rg8uint,qN.keywords.rg8sint,qN.keywords.r32uint,qN.keywords.r32sint,qN.keywords.r32float,qN.keywords.rg16uint,qN.keywords.rg16sint,qN.keywords.rg16float,qN.keywords.rgba8unorm,qN.keywords.rgba8unorm_srgb,qN.keywords.rgba8snorm,qN.keywords.rgba8uint,qN.keywords.rgba8sint,qN.keywords.bgra8unorm,qN.keywords.bgra8unorm_srgb,qN.keywords.rgb10a2unorm,qN.keywords.rg11b10float,qN.keywords.rg32uint,qN.keywords.rg32sint,qN.keywords.rg32float,qN.keywords.rgba16uint,qN.keywords.rgba16sint,qN.keywords.rgba16float,qN.keywords.rgba32uint,qN.keywords.rgba32sint,qN.keywords.rgba32float],NF.const_literal=[qN.tokens.int_literal,qN.tokens.uint_literal,qN.tokens.decimal_float_literal,qN.tokens.hex_float_literal,qN.keywords.true,qN.keywords.false],NF.literal_or_ident=[qN.tokens.ident,qN.tokens.int_literal,qN.tokens.uint_literal,qN.tokens.decimal_float_literal,qN.tokens.hex_float_literal],NF.element_count_expression=[qN.tokens.int_literal,qN.tokens.uint_literal,qN.tokens.ident],NF.template_types=[qN.keywords.vec2,qN.keywords.vec3,qN.keywords.vec4,qN.keywords.mat2x2,qN.keywords.mat2x3,qN.keywords.mat2x4,qN.keywords.mat3x2,qN.keywords.mat3x3,qN.keywords.mat3x4,qN.keywords.mat4x2,qN.keywords.mat4x3,qN.keywords.mat4x4,qN.keywords.atomic,qN.keywords.bitcast,...qN.any_texture_type],NF.attribute_name=[qN.tokens.ident,qN.keywords.block],NF.assignment_operators=[qN.tokens.equal,qN.tokens.plus_equal,qN.tokens.minus_equal,qN.tokens.times_equal,qN.tokens.division_equal,qN.tokens.modulo_equal,qN.tokens.and_equal,qN.tokens.or_equal,qN.tokens.xor_equal,qN.tokens.shift_right_equal,qN.tokens.shift_left_equal],NF.increment_operators=[qN.tokens.plus_plus,qN.tokens.minus_minus];class FF{constructor(e,t,n){this.type=e,this.lexeme=t,this.line=n}toString(){return this.lexeme}isTemplateType(){return-1!=NF.template_types.indexOf(this.type)}isArrayType(){return this.type==NF.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class DF{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=null!==e&&void 0!==e?e:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw"Invalid syntax at line ".concat(this._line);return this._tokens.push(new FF(NF.eof,"",this._line)),this._tokens}scanToken(){let e=this._advance();if("\n"==e)return this._line++,!0;if(this._isWhitespace(e))return!0;if("/"==e){if("/"==this._peekAhead()){for(;"\n"!=e;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if("*"==this._peekAhead()){this._advance();let t=1;for(;t>0;){if(this._isAtEnd())return!0;if(e=this._advance(),"\n"==e)this._line++;else if("*"==e){if("/"==this._peekAhead()&&(this._advance(),t--,0==t))return!0}else"/"==e&&"*"==this._peekAhead()&&(this._advance(),t++)}return!0}}let t=NF.none;for(;;){let n=this._findType(e);const r=this._peekAhead();if(">"==e&&(">"==r||"="==r)){let e=!1,t=this._tokens.length-1;for(let n=0;n<5&&t>=0;++n,--t)if(this._tokens[t].type===NF.tokens.less_than){t>0&&this._tokens[t-1].isArrayOrTemplateType()&&(e=!0);break}if(e)return this._addToken(n),!0}if(n===NF.none){let r=e,o=0;const i=2;for(let e=0;e<i;++e)if(r+=this._peekAhead(e),n=this._findType(r),n!==NF.none){o=e;break}if(n===NF.none)return t!==NF.none&&(this._current--,this._addToken(t),!0);e=r,this._current+=o+1}if(t=n,this._isAtEnd())break;e+=this._advance()}return t!==NF.none&&(this._addToken(t),!0)}_findType(e){for(const t in NF.keywords){const n=NF.keywords[t];if(this._match(e,n.rule))return n}for(const t in NF.tokens){const n=NF.tokens[t];if(this._match(e,n.rule))return n}return NF.none}_match(e,t){if("string"===typeof t){if(t==e)return!0}else{const n=t.exec(e);if(n&&0==n.index&&n[0]==e)return!0}return!1}_isAtEnd(){return this._current>=this._source.length}_isWhitespace(e){return" "==e||"\t"==e||"\r"==e}_advance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._source[this._current];return e=e||0,e++,this._current+=e,t}_peekAhead(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const t=this._source.substring(this._start,this._current);this._tokens.push(new FF(e,t,this._line))}}class BF{constructor(){this._tokens=[],this._current=0,this._context=new ON}parse(e){this._initialize(e);let t=[];for(;!this._isAtEnd();){const e=this._global_decl_or_directive();if(!e)break;t.push(e)}return t}_initialize(e){if(e)if("string"==typeof e){const t=new DF(e);this._tokens=t.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_error(e,t){return console.error(e,t),{token:e,message:t,toString:function(){return"".concat(t)}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==NF.eof}_match(e){if(e instanceof LF)return!!this._check(e)&&(this._advance(),!0);for(let t=0,n=e.length;t<n;++t){const n=e[t];if(this._check(n))return this._advance(),!0}return!1}_consume(e,t){if(this._check(e))return this._advance();throw this._error(this._peek(),t)}_check(e){if(this._isAtEnd())return!1;const t=this._peek();if(e instanceof Array){let n=t.type;return-1!=e.indexOf(n)}return t.type==e}_advance(){return this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(NF.tokens.semicolon)&&!this._isAtEnd(););if(this._match(NF.keywords.alias)){const e=this._type_alias();return this._consume(NF.tokens.semicolon,"Expected ';'"),e}if(this._match(NF.keywords.enable)){const e=this._enable_directive();return this._consume(NF.tokens.semicolon,"Expected ';'"),e}const e=this._attribute();if(this._check(NF.keywords.var)){const t=this._global_variable_decl();return null!=t&&(t.attributes=e),this._consume(NF.tokens.semicolon,"Expected ';'."),t}if(this._check(NF.keywords.override)){const t=this._override_variable_decl();return null!=t&&(t.attributes=e),this._consume(NF.tokens.semicolon,"Expected ';'."),t}if(this._check(NF.keywords.let)){const t=this._global_let_decl();return null!=t&&(t.attributes=e),this._consume(NF.tokens.semicolon,"Expected ';'."),t}if(this._check(NF.keywords.const)){const t=this._global_const_decl();return null!=t&&(t.attributes=e),this._consume(NF.tokens.semicolon,"Expected ';'."),t}if(this._check(NF.keywords.struct)){const t=this._struct_decl();return null!=t&&(t.attributes=e),t}if(this._check(NF.keywords.fn)){const t=this._function_decl();return null!=t&&(t.attributes=e),t}return null}_function_decl(){if(!this._match(NF.keywords.fn))return null;const e=this._consume(NF.tokens.ident,"Expected function name.").toString();this._consume(NF.tokens.paren_left,"Expected '(' for function arguments.");const t=[];if(!this._check(NF.tokens.paren_right))do{if(this._check(NF.tokens.paren_right))break;const e=this._attribute(),n=this._consume(NF.tokens.ident,"Expected argument name.").toString();this._consume(NF.tokens.colon,"Expected ':' for argument type.");const r=this._attribute(),o=this._type_decl();null!=o&&(o.attributes=r,t.push(new PF(n,o,e)))}while(this._match(NF.tokens.comma));this._consume(NF.tokens.paren_right,"Expected ')' after function arguments.");let n=null;if(this._match(NF.tokens.arrow)){const e=this._attribute();n=this._type_decl(),null!=n&&(n.attributes=e)}const r=this._compound_statement();return new FN(e,t,n,r)}_compound_statement(){const e=[];for(this._consume(NF.tokens.brace_left,"Expected '{' for block.");!this._check(NF.tokens.brace_right);){const t=this._statement();null!==t&&e.push(t)}return this._consume(NF.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(NF.tokens.semicolon)&&!this._isAtEnd(););if(this._check(NF.keywords.if))return this._if_statement();if(this._check(NF.keywords.switch))return this._switch_statement();if(this._check(NF.keywords.loop))return this._loop_statement();if(this._check(NF.keywords.for))return this._for_statement();if(this._check(NF.keywords.while))return this._while_statement();if(this._check(NF.keywords.continuing))return this._continuing_statement();if(this._check(NF.keywords.static_assert))return this._static_assert_statement();if(this._check(NF.tokens.brace_left))return this._compound_statement();let e=null;return e=this._check(NF.keywords.return)?this._return_statement():this._check([NF.keywords.var,NF.keywords.let,NF.keywords.const])?this._variable_statement():this._match(NF.keywords.discard)?new iF:this._match(NF.keywords.break)?new sF:this._match(NF.keywords.continue)?new aF:this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),null!=e&&this._consume(NF.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(NF.keywords.static_assert))return null;let e=this._optional_paren_expression();return new DN(e)}_while_statement(){if(!this._match(NF.keywords.while))return null;let e=this._optional_paren_expression();const t=this._compound_statement();return new BN(e,t)}_continuing_statement(){if(!this._match(NF.keywords.continuing))return null;const e=this._compound_statement();return new zN(e)}_for_statement(){if(!this._match(NF.keywords.for))return null;this._consume(NF.tokens.paren_left,"Expected '('.");const e=this._check(NF.tokens.semicolon)?null:this._for_init();this._consume(NF.tokens.semicolon,"Expected ';'.");const t=this._check(NF.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(NF.tokens.semicolon,"Expected ';'.");const n=this._check(NF.tokens.paren_right)?null:this._for_increment();this._consume(NF.tokens.paren_right,"Expected ')'.");const r=this._compound_statement();return new jN(e,t,n,r)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(NF.keywords.var)){const e=this._variable_decl();if(null===e)throw this._error(this._peek(),"Variable declaration expected.");let t=null;return this._match(NF.tokens.equal)&&(t=this._short_circuit_or_expression()),new UN(e.name,e.type,e.storage,e.access,t)}if(this._match(NF.keywords.let)){const e=this._consume(NF.tokens.ident,"Expected name for let.").toString();let t=null;if(this._match(NF.tokens.colon)){const e=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=e)}this._consume(NF.tokens.equal,"Expected '=' for let.");const n=this._short_circuit_or_expression();return new HN(e,t,null,null,n)}if(this._match(NF.keywords.const)){const e=this._consume(NF.tokens.ident,"Expected name for const.").toString();let t=null;if(this._match(NF.tokens.colon)){const e=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=e)}this._consume(NF.tokens.equal,"Expected '=' for const.");const n=this._short_circuit_or_expression();return new VN(e,t,null,null,n)}return null}_increment_decrement_statement(){const e=this._current,t=this._unary_expression();if(null==t)return null;if(!this._check(NF.increment_operators))return this._current=e,null;const n=this._consume(NF.increment_operators,"Expected increment operator");return new ZN(n.type===NF.tokens.plus_plus?WN.increment:WN.decrement,t)}_assignment_statement(){let e=null;if(this._check(NF.tokens.brace_right))return null;let t=this._match(NF.tokens.underscore);if(t||(e=this._unary_expression()),!t&&null==e)return null;const n=this._consume(NF.assignment_operators,"Expected assignment operator."),r=this._short_circuit_or_expression();return new QN(XN.parse(n.lexeme),e,r)}_func_call_statement(){if(!this._check(NF.tokens.ident))return null;const e=this._current,t=this._consume(NF.tokens.ident,"Expected function name."),n=this._argument_expression_list();return null===n?(this._current=e,null):new $N(t.lexeme,n)}_loop_statement(){if(!this._match(NF.keywords.loop))return null;this._consume(NF.tokens.brace_left,"Expected '{' for loop.");const e=[];let t=this._statement();for(;null!==t;){if(Array.isArray(t))for(let n of t)e.push(n);else e.push(t);t=this._statement()}let n=null;return this._match(NF.keywords.continuing)&&(n=this._compound_statement()),this._consume(NF.tokens.brace_right,"Expected '}' for loop."),new JN(e,n)}_switch_statement(){if(!this._match(NF.keywords.switch))return null;const e=this._optional_paren_expression();this._consume(NF.tokens.brace_left,"Expected '{' for switch.");const t=this._switch_body();if(null==t||0==t.length)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(NF.tokens.brace_right,"Expected '}' for switch."),new eF(e,t)}_switch_body(){const e=[];if(this._match(NF.keywords.case)){const t=this._case_selectors();this._match(NF.tokens.colon),this._consume(NF.tokens.brace_left,"Exected '{' for switch case.");const n=this._case_body();this._consume(NF.tokens.brace_right,"Exected '}' for switch case."),e.push(new RF(t,n))}if(this._match(NF.keywords.default)){this._match(NF.tokens.colon),this._consume(NF.tokens.brace_left,"Exected '{' for switch default.");const t=this._case_body();this._consume(NF.tokens.brace_right,"Exected '}' for switch default."),e.push(new TF(t))}if(this._check([NF.keywords.default,NF.keywords.case])){const t=this._switch_body();e.push(t[0])}return e}_case_selectors(){var e,t,n,r;const o=[null!==(t=null===(e=this._shift_expression())||void 0===e?void 0:e.evaluate(this._context).toString())&&void 0!==t?t:""];for(;this._match(NF.tokens.comma);)o.push(null!==(r=null===(n=this._shift_expression())||void 0===n?void 0:n.evaluate(this._context).toString())&&void 0!==r?r:"");return o}_case_body(){if(this._match(NF.keywords.fallthrough))return this._consume(NF.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(null==e)return[];e instanceof Array||(e=[e]);const t=this._case_body();return 0==t.length?e:[...e,t[0]]}_if_statement(){if(!this._match(NF.keywords.if))return null;const e=this._optional_paren_expression(),t=this._compound_statement();let n=[];this._match_elseif()&&(n=this._elseif_statement(n));let r=null;return this._match(NF.keywords.else)&&(r=this._compound_statement()),new tF(e,t,n,r)}_match_elseif(){return this._tokens[this._current].type===NF.keywords.else&&this._tokens[this._current+1].type===NF.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this._optional_paren_expression(),n=this._compound_statement();return e.push(new kF(t,n)),this._match_elseif()&&this._elseif_statement(e),e}_return_statement(){if(!this._match(NF.keywords.return))return null;const e=this._short_circuit_or_expression();return new nF(e)}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(NF.tokens.or_or);)e=new CF(this._previous().toString(),e,this._short_circuit_and_expr());return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(NF.tokens.and_and);)e=new CF(this._previous().toString(),e,this._inclusive_or_expression());return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(NF.tokens.or);)e=new CF(this._previous().toString(),e,this._exclusive_or_expression());return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(NF.tokens.xor);)e=new CF(this._previous().toString(),e,this._and_expression());return e}_and_expression(){let e=this._equality_expression();for(;this._match(NF.tokens.and);)e=new CF(this._previous().toString(),e,this._equality_expression());return e}_equality_expression(){const e=this._relational_expression();return this._match([NF.tokens.equal_equal,NF.tokens.not_equal])?new CF(this._previous().toString(),e,this._relational_expression()):e}_relational_expression(){let e=this._shift_expression();for(;this._match([NF.tokens.less_than,NF.tokens.greater_than,NF.tokens.less_than_equal,NF.tokens.greater_than_equal]);)e=new CF(this._previous().toString(),e,this._shift_expression());return e}_shift_expression(){let e=this._additive_expression();for(;this._match([NF.tokens.shift_left,NF.tokens.shift_right]);)e=new CF(this._previous().toString(),e,this._additive_expression());return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([NF.tokens.plus,NF.tokens.minus]);)e=new CF(this._previous().toString(),e,this._multiplicative_expression());return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([NF.tokens.star,NF.tokens.forward_slash,NF.tokens.modulo]);)e=new CF(this._previous().toString(),e,this._unary_expression());return e}_unary_expression(){return this._match([NF.tokens.minus,NF.tokens.bang,NF.tokens.tilde,NF.tokens.star,NF.tokens.and])?new SF(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),t=this._postfix_expression();return t&&(e.postfix=t),e}_postfix_expression(){if(this._match(NF.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(NF.tokens.bracket_right,"Expected ']'.");const t=this._postfix_expression();return t&&(e.postfix=t),e}if(this._match(NF.tokens.period)){const e=this._consume(NF.tokens.ident,"Expected member name."),t=this._postfix_expression(),n=new gF(e.lexeme);return t&&(n.postfix=t),n}return null}_getStruct(e){if(this._context.aliases.has(e)){return this._context.aliases.get(e).type}if(this._context.structs.has(e)){return this._context.structs.get(e)}return null}_primary_expression(){if(this._match(NF.tokens.ident)){const e=this._previous().toString();if(this._check(NF.tokens.paren_left)){const t=this._argument_expression_list(),n=this._getStruct(e);return null!=n?new mF(n,t):new vF(e,t)}if(this._context.constants.has(e)){const t=this._context.constants.get(e);return new bF(e,t.value)}return new yF(e)}if(this._match(NF.const_literal))return new _F(parseFloat(this._previous().toString()));if(this._check(NF.tokens.paren_left))return this._paren_expression();if(this._match(NF.keywords.bitcast)){this._consume(NF.tokens.less_than,"Expected '<'.");const e=this._type_decl();this._consume(NF.tokens.greater_than,"Expected '>'.");const t=this._paren_expression();return new wF(e,t)}const e=this._type_decl(),t=this._argument_expression_list();return new xF(e,t)}_argument_expression_list(){if(!this._match(NF.tokens.paren_left))return null;const e=[];do{if(this._check(NF.tokens.paren_right))break;const t=this._short_circuit_or_expression();e.push(t)}while(this._match(NF.tokens.comma));return this._consume(NF.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(NF.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(NF.tokens.paren_right),new AF([e])}_paren_expression(){this._consume(NF.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(NF.tokens.paren_right,"Expected ')'."),new AF([e])}_struct_decl(){if(!this._match(NF.keywords.struct))return null;const e=this._consume(NF.tokens.ident,"Expected name for struct.").toString();this._consume(NF.tokens.brace_left,"Expected '{' for struct body.");const t=[];for(;!this._check(NF.tokens.brace_right);){const e=this._attribute(),n=this._consume(NF.tokens.ident,"Expected variable name.").toString();this._consume(NF.tokens.colon,"Expected ':' for struct member type.");const r=this._attribute(),o=this._type_decl();null!=o&&(o.attributes=r),this._check(NF.tokens.brace_right)?this._match(NF.tokens.comma):this._consume(NF.tokens.comma,"Expected ',' for struct member."),t.push(new IF(n,o,e))}this._consume(NF.tokens.brace_right,"Expected '}' after struct body.");const n=new cF(e,t);return this._context.structs.set(e,n),n}_global_variable_decl(){const e=this._variable_decl();return e&&this._match(NF.tokens.equal)&&(e.value=this._const_expression()),e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(NF.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){if(!this._match(NF.keywords.const))return null;const e=this._consume(NF.tokens.ident,"Expected variable name");let t=null;if(this._match(NF.tokens.colon)){const e=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=e)}let n=null;if(this._match(NF.tokens.equal)){const e=this._short_circuit_or_expression();if(e instanceof mF)n=e;else if(e instanceof bF&&e.initializer instanceof mF)n=e.initializer;else try{const t=e.evaluate(this._context);n=new _F(t)}catch(qN){n=e}}const r=new VN(e.toString(),t,"","",n);return this._context.constants.set(r.name,r),r}_global_let_decl(){if(!this._match(NF.keywords.let))return null;const e=this._consume(NF.tokens.ident,"Expected variable name");let t=null;if(this._match(NF.tokens.colon)){const e=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=e)}let n=null;return this._match(NF.tokens.equal)&&(n=this._const_expression()),new HN(e.toString(),t,"","",n)}_const_expression(){if(this._match(NF.const_literal))return new gF(this._previous().toString());const e=this._type_decl();this._consume(NF.tokens.paren_left,"Expected '('.");let t=[];for(;!this._check(NF.tokens.paren_right)&&(t.push(this._const_expression()),this._check(NF.tokens.comma));)this._advance();return this._consume(NF.tokens.paren_right,"Expected ')'."),new mF(e,t)}_variable_decl(){if(!this._match(NF.keywords.var))return null;let e="",t="";this._match(NF.tokens.less_than)&&(e=this._consume(NF.storage_class,"Expected storage_class.").toString(),this._match(NF.tokens.comma)&&(t=this._consume(NF.access_mode,"Expected access_mode.").toString()),this._consume(NF.tokens.greater_than,"Expected '>'."));const n=this._consume(NF.tokens.ident,"Expected variable name");let r=null;if(this._match(NF.tokens.colon)){const e=this._attribute();r=this._type_decl(),null!=r&&(r.attributes=e)}return new UN(n.toString(),r,e,t,null)}_override_decl(){if(!this._match(NF.keywords.override))return null;const e=this._consume(NF.tokens.ident,"Expected variable name");let t=null;if(this._match(NF.tokens.colon)){const e=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=e)}return new GN(e.toString(),t,null)}_enable_directive(){const e=this._consume(NF.tokens.ident,"identity expected.");return new rF(e.toString())}_type_alias(){const e=this._consume(NF.tokens.ident,"identity expected.");this._consume(NF.tokens.equal,"Expected '=' for type alias.");let t=this._type_decl();if(null===t)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(t.name)&&(t=this._context.aliases.get(t.name).type);const n=new oF(e.toString(),t);return this._context.aliases.set(n.name,n),n}_type_decl(){if(this._check([NF.tokens.ident,...NF.texel_format,NF.keywords.bool,NF.keywords.f32,NF.keywords.i32,NF.keywords.u32])){const e=this._advance(),t=e.toString();return this._context.structs.has(t)?this._context.structs.get(t):this._context.aliases.has(t)?this._context.aliases.get(t).type:new lF(e.toString())}let e=this._texture_sampler_types();if(e)return e;if(this._check(NF.template_types)){let e=this._advance().toString(),t=null,n=null;return this._match(NF.tokens.less_than)&&(t=this._type_decl(),n=null,this._match(NF.tokens.comma)&&(n=this._consume(NF.access_mode,"Expected access_mode for pointer").toString()),this._consume(NF.tokens.greater_than,"Expected '>' for type.")),new uF(e,t,n)}if(this._match(NF.keywords.ptr)){let e=this._previous().toString();this._consume(NF.tokens.less_than,"Expected '<' for pointer.");const t=this._consume(NF.storage_class,"Expected storage_class for pointer");this._consume(NF.tokens.comma,"Expected ',' for pointer.");const n=this._type_decl();let r=null;return this._match(NF.tokens.comma)&&(r=this._consume(NF.access_mode,"Expected access_mode for pointer").toString()),this._consume(NF.tokens.greater_than,"Expected '>' for pointer."),new dF(e,t.toString(),n,r)}const t=this._attribute();if(this._match(NF.keywords.array)){let e=null,n=-1;const r=this._previous();if(this._match(NF.tokens.less_than)){e=this._type_decl(),this._context.aliases.has(e.name)&&(e=this._context.aliases.get(e.name).type);let t="";if(this._match(NF.tokens.comma)){t=this._shift_expression().evaluate(this._context).toString()}this._consume(NF.tokens.greater_than,"Expected '>' for array."),n=t?parseInt(t):0}return new hF(r.toString(),t,e,n)}return null}_texture_sampler_types(){if(this._match(NF.sampler_type))return new pF(this._previous().toString(),null,null);if(this._match(NF.depth_texture_type))return new pF(this._previous().toString(),null,null);if(this._match(NF.sampled_texture_type)||this._match(NF.multisampled_texture_type)){const e=this._previous();this._consume(NF.tokens.less_than,"Expected '<' for sampler type.");const t=this._type_decl();return this._consume(NF.tokens.greater_than,"Expected '>' for sampler type."),new pF(e.toString(),t,null)}if(this._match(NF.storage_texture_type)){const e=this._previous();this._consume(NF.tokens.less_than,"Expected '<' for sampler type.");const t=this._consume(NF.texel_format,"Invalid texel format.").toString();this._consume(NF.tokens.comma,"Expected ',' after texel format.");const n=this._consume(NF.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(NF.tokens.greater_than,"Expected '>' for sampler type."),new pF(e.toString(),t,n)}return null}_attribute(){let e=[];for(;this._match(NF.tokens.attr);){const t=this._consume(NF.attribute_name,"Expected attribute name"),n=new OF(t.toString(),null);if(this._match(NF.tokens.paren_left)){if(n.value=this._consume(NF.literal_or_ident,"Expected attribute value").toString(),this._check(NF.tokens.comma)){this._advance();do{const e=this._consume(NF.literal_or_ident,"Expected attribute value").toString();n.value instanceof Array||(n.value=[n.value]),n.value.push(e)}while(this._match(NF.tokens.comma))}this._consume(NF.tokens.paren_right,"Expected ')'")}e.push(n)}for(;this._match(NF.tokens.attr_left);){if(!this._check(NF.tokens.attr_right))do{const t=this._consume(NF.attribute_name,"Expected attribute name"),n=new OF(t.toString(),null);if(this._match(NF.tokens.paren_left)){if(n.value=[this._consume(NF.literal_or_ident,"Expected attribute value").toString()],this._check(NF.tokens.comma)){this._advance();do{const e=this._consume(NF.literal_or_ident,"Expected attribute value").toString();n.value.push(e)}while(this._match(NF.tokens.comma))}this._consume(NF.tokens.paren_right,"Expected ')'")}e.push(n)}while(this._match(NF.tokens.comma));this._consume(NF.tokens.attr_right,"Expected ']]' after attribute declarations")}return 0==e.length?null:e}}class zF{constructor(e,t){this.name=e,this.attributes=t,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class jF{constructor(e,t,n){this.name=e,this.type=t,this.attributes=n,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class UF extends zF{constructor(e,t){super(e,t),this.members=[],this.align=0}get isStruct(){return!0}}class GF extends zF{constructor(e,t){super(e,t),this.count=0,this.stride=0}get isArray(){return!0}}class HF extends zF{constructor(e,t,n,r){super(e,n),this.format=t,this.access=r}get isTemplate(){return!0}}!function(e){e[e.Uniform=0]="Uniform",e[e.Storage=1]="Storage",e[e.Texture=2]="Texture",e[e.Sampler=3]="Sampler",e[e.StorageTexture=4]="StorageTexture"}(YN||(YN={}));class VF{constructor(e,t,n,r,o,i,s){this.name=e,this.type=t,this.group=n,this.binding=r,this.attributes=o,this.resourceType=i,this.access=s}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class WF{constructor(e,t){this.name=e,this.type=t}}class XF{constructor(e,t){this.align=e,this.size=t}}class qF{constructor(e,t,n,r){this.name=e,this.type=t,this.locationType=n,this.location=r,this.interpolation=null}}class KF{constructor(e,t,n,r){this.name=e,this.type=t,this.locationType=n,this.location=r}}class YF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.stage=null,this.inputs=[],this.outputs=[],this.name=e,this.stage=t}}class ZF{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class QF{constructor(e,t,n,r){this.name=e,this.type=t,this.attributes=n,this.id=r}}class $F{constructor(e){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new ZF,this._types=new Map,e&&this.update(e)}_isStorageTexture(e){return"texture_storage_1d"==e.name||"texture_storage_2d"==e.name||"texture_storage_2d_array"==e.name||"texture_storage_3d"==e.name}update(e){const t=(new BF).parse(e);for(const n of t)if(n instanceof cF){const e=this._getTypeInfo(n,null);e instanceof UF&&this.structs.push(e)}else if(n instanceof oF)this.aliases.push(this._getAliasInfo(n));else if(n instanceof GN){const e=n,t=this._getAttributeNum(e.attributes,"id",0),r=null!=e.type?this._getTypeInfo(e.type,e.attributes):null;this.overrides.push(new QF(e.name,r,e.attributes,t))}else if(this._isUniformVar(n)){const e=n,t=this._getAttributeNum(e.attributes,"group",0),r=this._getAttributeNum(e.attributes,"binding",0),o=this._getTypeInfo(e.type,e.attributes),i=new VF(e.name,o,t,r,e.attributes,YN.Uniform,e.access);this.uniforms.push(i)}else if(this._isStorageVar(n)){const e=n,t=this._getAttributeNum(e.attributes,"group",0),r=this._getAttributeNum(e.attributes,"binding",0),o=this._getTypeInfo(e.type,e.attributes),i=this._isStorageTexture(o),s=new VF(e.name,o,t,r,e.attributes,i?YN.StorageTexture:YN.Storage,e.access);this.storage.push(s)}else if(this._isTextureVar(n)){const e=n,t=this._getAttributeNum(e.attributes,"group",0),r=this._getAttributeNum(e.attributes,"binding",0),o=this._getTypeInfo(e.type,e.attributes),i=this._isStorageTexture(o),s=new VF(e.name,o,t,r,e.attributes,i?YN.StorageTexture:YN.Texture,e.access);i?this.storage.push(s):this.textures.push(s)}else if(this._isSamplerVar(n)){const e=n,t=this._getAttributeNum(e.attributes,"group",0),r=this._getAttributeNum(e.attributes,"binding",0),o=this._getTypeInfo(e.type,e.attributes),i=new VF(e.name,o,t,r,e.attributes,YN.Sampler,e.access);this.samplers.push(i)}else if(n instanceof FN){const e=this._getAttribute(n,"vertex"),t=this._getAttribute(n,"fragment"),r=this._getAttribute(n,"compute"),o=e||t||r;if(o){const e=new YF(n.name,o.name);e.inputs=this._getInputs(n.args),e.outputs=this._getOutputs(n.returnType),this.entry[o.name].push(e)}}else;}getBindGroups(){const e=[];function t(t,n){t>=e.length&&(e.length=t+1),void 0===e[t]&&(e[t]=[]),n>=e[t].length&&(e[t].length=n+1)}for(const n of this.uniforms){t(n.group,n.binding);e[n.group][n.binding]=n}for(const n of this.storage){t(n.group,n.binding);e[n.group][n.binding]=n}for(const n of this.textures){t(n.group,n.binding);e[n.group][n.binding]=n}for(const n of this.samplers){t(n.group,n.binding);e[n.group][n.binding]=n}return e}_getOutputs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t&&(t=[]),e instanceof cF)this._getStructOutputs(e,t);else{const n=this._getOutputInfo(e);null!==n&&t.push(n)}return t}_getStructOutputs(e,t){for(const n of e.members)if(n.type instanceof cF)this._getStructOutputs(n.type,t);else{const e=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(null!==e){const r=this._getTypeInfo(n.type,n.type.attributes),o=this._parseInt(e.value),i=new KF(n.name,r,e.name,o);t.push(i)}}}_getOutputInfo(e){const t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(null!==t){const n=this._getTypeInfo(e,e.attributes),r=this._parseInt(t.value);return new KF("",n,t.name,r)}return null}_getInputs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0===t&&(t=[]);for(const n of e)if(n.type instanceof cF)this._getStructInputs(n.type,t);else{const e=this._getInputInfo(n);null!==e&&t.push(e)}return t}_getStructInputs(e,t){for(const n of e.members)if(n.type instanceof cF)this._getStructInputs(n.type,t);else{const e=this._getInputInfo(n);null!==e&&t.push(e)}}_getInputInfo(e){const t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(null!==t){const n=this._getAttribute(e,"interpolation"),r=this._getTypeInfo(e.type,e.attributes),o=this._parseInt(t.value),i=new qF(e.name,r,t.name,o);return null!==n&&(i.interpolation=this._parseString(n.value)),i}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const t=parseInt(e);return isNaN(t)?e:t}_getAlias(e){for(const t of this.aliases)if(t.name==e)return t.type;return null}_getAliasInfo(e){return new WF(e.name,this._getTypeInfo(e.type,null))}_getTypeInfo(e,t){if(this._types.has(e))return this._types.get(e);if(e instanceof hF){const n=e,r=this._getTypeInfo(n.format,n.attributes),o=new GF(n.name,t);return o.format=r,o.count=n.count,this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof cF){const n=e,r=new UF(n.name,t);for(const e of n.members){const t=this._getTypeInfo(e.type,e.attributes);r.members.push(new jF(e.name,t,e.attributes))}return this._types.set(e,r),this._updateTypeInfo(r),r}if(e instanceof pF){const n=e,r=n.format instanceof lF,o=n.format?r?this._getTypeInfo(n.format,null):new zF(n.format,null):null,i=new HF(n.name,o,t,n.access);return this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof uF){const n=e,r=n.format?this._getTypeInfo(n.format,null):null,o=new HF(n.name,r,t,n.access);return this._types.set(e,o),this._updateTypeInfo(o),o}const n=new zF(e.name,t);return this._types.set(e,n),this._updateTypeInfo(n),n}_updateTypeInfo(e){var t,n;const r=this._getTypeSize(e);if(e.size=null!==(t=null===r||void 0===r?void 0:r.size)&&void 0!==t?t:0,e instanceof GF){const t=this._getTypeSize(e.format);e.stride=null!==(n=null===t||void 0===t?void 0:t.size)&&void 0!==n?n:0,this._updateTypeInfo(e.format)}e instanceof UF&&this._updateStructInfo(e)}_updateStructInfo(e){var t;let n=0,r=0,o=0,i=0;for(let s=0,a=e.members.length;s<a;++s){const a=e.members[s],l=this._getTypeSize(a);if(!l)continue;null!==(t=this._getAlias(a.type.name))&&void 0!==t||a.type;const c=l.align,u=l.size;n=this._roundUp(c,n+r),r=u,o=n,i=Math.max(i,c),a.offset=n,a.size=u,this._updateTypeInfo(a.type)}e.size=this._roundUp(i,o+r),e.align=i}_getTypeSize(e){var t;if(null===e||void 0===e)return null;const n=this._getAttributeNum(e.attributes,"size",0),r=this._getAttributeNum(e.attributes,"align",0);if(e instanceof jF&&(e=e.type),e instanceof zF){const t=this._getAlias(e.name);null!==t&&(e=t)}{const t=$F._typeInfo[e.name];if(void 0!==t){const o="f16"===e.format?2:1;return new XF(Math.max(r,t.align/o),Math.max(n,t.size/o))}}{const t=$F._typeInfo[e.name.substring(0,e.name.length-1)];if(t){const o="h"===e.name[e.name.length-1]?2:1;return new XF(Math.max(r,t.align/o),Math.max(n,t.size/o))}}if(e instanceof GF){let o=e,i=8,s=8;const a=this._getTypeSize(o.format);null!==a&&(s=a.size,i=a.align);return s=o.count*this._getAttributeNum(null!==(t=null===e||void 0===e?void 0:e.attributes)&&void 0!==t?t:null,"stride",this._roundUp(i,s)),n&&(s=n),new XF(Math.max(r,i),Math.max(n,s))}if(e instanceof UF){let t=0,o=0,i=0,s=0,a=0;for(const n of e.members){const e=this._getTypeSize(n.type);null!==e&&(t=Math.max(e.align,t),i=this._roundUp(e.align,i+s),s=e.size,a=i)}return o=this._roundUp(t,a+s),new XF(Math.max(r,t),Math.max(n,o))}return null}_isUniformVar(e){return e instanceof UN&&"uniform"==e.storage}_isStorageVar(e){return e instanceof UN&&"storage"==e.storage}_isTextureVar(e){return e instanceof UN&&null!==e.type&&-1!=$F._textureTypes.indexOf(e.type.name)}_isSamplerVar(e){return e instanceof UN&&null!==e.type&&-1!=$F._samplerTypes.indexOf(e.type.name)}_getAttribute(e,t){const n=e;if(!n||!n.attributes)return null;const r=n.attributes;for(let o of r)if(o.name==t)return o;return null}_getAttributeNum(e,t,n){if(null===e)return n;for(let r of e)if(r.name==t){let e=null!==r&&null!==r.value?r.value:n;return e instanceof Array&&(e=e[0]),"number"===typeof e?e:"string"===typeof e?parseInt(e):n}return n}_roundUp(e,t){return Math.ceil(t/e)*e}}function JF(e){const t={attributes:[],bindings:[]};let n;try{n=function(e){try{return new $F(e)}catch(t){if(t instanceof Error)throw t;let e="WGSL parse error";throw"object"===typeof t&&null!==t&&void 0!==t&&t.message&&(e+=": ".concat(t.message," ")),"object"===typeof t&&null!==t&&void 0!==t&&t.token&&(e+=t.token.line||""),new Error(e,{cause:t})}}(e)}catch(i){return VP.error(i.message)(),t}for(const s of n.uniforms){const e=[];for(const t of s.type.members)e.push({name:t.name,type:eD(t.type)});t.bindings.push({type:"uniform",name:s.name,location:s.binding,group:s.group,members:e})}const r=n.entry.vertex[0],o=(null===r||void 0===r?void 0:r.inputs.length)||0;for(let s=0;s<o;s++){const e=r.inputs[s];if("location"===e.locationType){const n=eD(e.type);t.attributes.push({name:e.name,location:e.location,type:n})}}return t}function eD(e){return e.format?"".concat(e.name,"<").concat(e.format.name,">"):e.name}$F._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},$F._textureTypes=NF.any_texture_type.map((e=>e.name)),$F._samplerTypes=NF.sampler_type.map((e=>e.name));class tD{constructor(e){NA(this,"id",void 0),NA(this,"userData",{}),NA(this,"topology",void 0),NA(this,"bufferLayout",[]),NA(this,"vertexCount",void 0),NA(this,"indices",void 0),NA(this,"attributes",void 0),this.id=e.id||KP("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&lk(this.indices.usage===QP.INDEX)}destroy(){var e;null===(e=this.indices)||void 0===e||e.destroy();for(const t of Object.values(this.attributes))t.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices}_calculateVertexCount(e){return e.byteLength/12}}function nD(e,t){if(t instanceof tD)return t;const n=function(e,t){if(!t.indices)return;const n=t.indices.value;return e.createBuffer({usage:QP.INDEX,data:n})}(e,t),{attributes:r,bufferLayout:o}=function(e,t){const n=[],r={};for(const[i,s]of Object.entries(t.attributes)){let t=i;switch(i){case"POSITION":t="positions";break;case"NORMAL":t="normals";break;case"TEXCOORD_0":t="texCoords";break;case"COLOR_0":t="colors"}r[t]=e.createBuffer({data:s.value,id:"".concat(i,"-buffer")});const{value:o,size:a,normalized:l}=s;n.push({name:t,format:lN(o,a,l)})}const o=t._calculateVertexCount(t.attributes,t.indices);return{attributes:r,bufferLayout:n,vertexCount:o}}(e,t);return new tD({topology:t.topology||"triangle-list",bufferLayout:o,vertexCount:t.vertexCount,indices:n,attributes:r})}class rD{constructor(e){NA(this,"modules",void 0),NA(this,"moduleUniforms",void 0),NA(this,"moduleBindings",void 0),NA(this,"moduleUniformsChanged",void 0);const t=eE(Object.values(e));VP.log(1,"Creating ShaderInputs with modules",t.map((e=>e.name)))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[n,r]of Object.entries(e)){const e=n;this.moduleUniforms[e]=r.defaultUniforms||{},this.moduleBindings[e]={}}}destroy(){}setProps(e){for(const n of Object.keys(e)){var t;const r=n,o=e[r],i=this.modules[r];if(!i){VP.warn("Module ".concat(n," not found"))();continue}const s=this.moduleUniforms[r],a=(null===(t=i.getUniforms)||void 0===t?void 0:t.call(i,o,this.moduleUniforms[r]))||o;this.moduleUniforms[r]={...s,...a}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindings(){const e={};for(const t of Object.values(this.moduleBindings))Object.assign(e,t);return e}getDebugTable(){const e={};for(const[n,r]of Object.entries(this.moduleUniforms))for(const[o,i]of Object.entries(r)){var t;e["".concat(n,".").concat(o)]={type:null===(t=this.modules[n].uniformTypes)||void 0===t?void 0:t[o],value:String(i)}}return e}}class oD extends ZP{get[Symbol.toStringTag](){return"ComputePipeline"}constructor(e,t){super(e,t,oD.defaultProps),NA(this,"hash","")}}NA(oD,"defaultProps",{...ZP.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});class iD{static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new iD(e),e._lumaData.defaultPipelineFactory}constructor(e){NA(this,"device",void 0),NA(this,"_hashCounter",0),NA(this,"_hashes",{}),NA(this,"_renderPipelineCache",{}),NA(this,"_computePipelineCache",{}),this.device=e}createRenderPipeline(e){const t={...mO.defaultProps,...e},n=this._hashRenderPipeline(t);if(!this._renderPipelineCache[n]){const e=this.device.createRenderPipeline({...t,id:t.id?"".concat(t.id,"-cached"):void 0});e.hash=n,this._renderPipelineCache[n]={pipeline:e,useCount:0}}return this._renderPipelineCache[n].useCount++,this._renderPipelineCache[n].pipeline}createComputePipeline(e){const t={...oD.defaultProps,...e},n=this._hashComputePipeline(t);if(!this._computePipelineCache[n]){const e=this.device.createComputePipeline({...t,id:t.id?"".concat(t.id,"-cached"):void 0});e.hash=n,this._computePipelineCache[n]={pipeline:e,useCount:0}}return this._computePipelineCache[n].useCount++,this._computePipelineCache[n].pipeline}release(e){const t=e.hash,n=e instanceof oD?this._computePipelineCache:this._renderPipelineCache;n[t].useCount--,0===n[t].useCount&&(n[t].pipeline.destroy(),delete n[t])}_hashComputePipeline(e){const t=this._getHash(e.shader.source);return"".concat(t)}_hashRenderPipeline(e){const t=this._getHash(e.vs.source),n=e.fs?this._getHash(e.fs.source):0,r=this._getHash(JSON.stringify(e.bufferLayout));if("webgl"===this.device.type)return"".concat(t,"/").concat(n,"V").concat("-","BL").concat(r);{const o=this._getHash(JSON.stringify(e.parameters));return"".concat(t,"/").concat(n,"V").concat("-","T").concat(e.topology,"P").concat(o,"BL").concat(r)}}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}}NA(iD,"defaultProps",{...mO.defaultProps});class sD{static getDefaultShaderFactory(e){var t;return(t=e._lumaData).defaultShaderFactory||(t.defaultShaderFactory=new sD(e)),e._lumaData.defaultShaderFactory}constructor(e){NA(this,"device",void 0),NA(this,"_cache",{}),this.device=e}createShader(e){const t=this._hashShader(e);let n=this._cache[t];if(!n){const r=this.device.createShader({...e,id:e.id?"".concat(e.id,"-cached"):void 0});this._cache[t]=n={shader:r,useCount:0}}return n.useCount++,n.shader}release(e){const t=this._hashShader(e),n=this._cache[t];n&&(n.useCount--,0===n.useCount&&(delete this._cache[t],n.shader.destroy()))}_hashShader(e){return"".concat(e.stage,":").concat(e.source)}}NA(sD,"defaultProps",{...lO.defaultProps});let aD=null,lD=null;class cD{constructor(e,t){var n,r,o;NA(this,"device",void 0),NA(this,"id",void 0),NA(this,"source",void 0),NA(this,"vs",void 0),NA(this,"fs",void 0),NA(this,"pipelineFactory",void 0),NA(this,"shaderFactory",void 0),NA(this,"userData",{}),NA(this,"parameters",void 0),NA(this,"topology",void 0),NA(this,"bufferLayout",void 0),NA(this,"isInstanced",void 0),NA(this,"instanceCount",0),NA(this,"vertexCount",void 0),NA(this,"indexBuffer",null),NA(this,"bufferAttributes",{}),NA(this,"constantAttributes",{}),NA(this,"bindings",{}),NA(this,"uniforms",{}),NA(this,"vertexArray",void 0),NA(this,"transformFeedback",null),NA(this,"pipeline",void 0),NA(this,"shaderInputs",void 0),NA(this,"_uniformStore",void 0),NA(this,"_attributeInfos",{}),NA(this,"_gpuGeometry",null),NA(this,"_getModuleUniforms",void 0),NA(this,"props",void 0),NA(this,"_pipelineNeedsUpdate","newly created"),NA(this,"_needsRedraw","initializing"),NA(this,"_destroyed",!1),NA(this,"_lastDrawTimestamp",-1),NA(this,"_lastLogTime",0),NA(this,"_logOpen",!1),NA(this,"_drawCount",0),this.props={...cD.defaultProps,...t},t=this.props,this.id=t.id||KP("model"),this.device=e,Object.assign(this.userData,t.userData);const i=Object.fromEntries((null===(n=this.props.modules)||void 0===n?void 0:n.map((e=>[e.name,e])))||[]);this.setShaderInputs(t.shaderInputs||new rD(i));const s=function(e){return{type:e.type,shaderLanguage:e.info.shadingLanguage,shaderLanguageVersion:e.info.shadingLanguageVersion,gpu:e.info.gpu,features:e.features}}(e),a=((null===(r=this.props.modules)||void 0===r?void 0:r.length)>0?this.props.modules:null===(o=this.shaderInputs)||void 0===o?void 0:o.getModules())||[];if("webgpu"===this.device.type&&this.props.source){var l;(l=this.props).shaderLayout||(l.shaderLayout=JF(this.props.source));const{source:e,getUniforms:t}=this.props.shaderAssembler.assembleShader({platformInfo:s,...this.props,modules:a});this.source=e,this._getModuleUniforms=t}else{const{vs:e,fs:t,getUniforms:n}=this.props.shaderAssembler.assembleShaderPair({platformInfo:s,...this.props,modules:a});this.vs=e,this.fs=t,this._getModuleUniforms=n}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,t.geometry&&this.setGeometry(t.geometry),this.pipelineFactory=t.pipelineFactory||iD.getDefaultPipelineFactory(this.device),this.shaderFactory=t.shaderFactory||sD.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in t&&(this.isInstanced=t.isInstanced),t.instanceCount&&this.setInstanceCount(t.instanceCount),t.vertexCount&&this.setVertexCount(t.vertexCount),t.indexBuffer&&this.setIndexBuffer(t.indexBuffer),t.attributes&&this.setAttributes(t.attributes),t.constantAttributes&&this.setConstantAttributes(t.constantAttributes),t.bindings&&this.setBindings(t.bindings),t.uniforms&&this.setUniforms(t.uniforms),t.moduleSettings&&this.updateModuleSettings(t.moduleSettings),t.transformFeedback&&(this.transformFeedback=t.transformFeedback),Object.seal(this)}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),null===(e=this._gpuGeometry)||void 0===e||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){let t;this.predraw();try{this._logDrawCallStart(),this.pipeline=this._updatePipeline(),this.pipeline.setBindings(this.bindings,{disableWarnings:this.props.disableWarnings}),YP(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:n}=this.vertexArray,r=n?n.byteLength/("uint32"===n.indexType?4:2):void 0;t=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:r,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{this._logDrawCallEnd()}return this._logFramebuffer(e),t?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",t}setGeometry(e){var t;null===(t=this._gpuGeometry)||void 0===t||t.destroy();const n=e&&nD(this.device,e);n&&(this.setTopology(n.topology||"triangle-list"),this.bufferLayout=uD(n.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(n)),this._gpuGeometry=n}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){this.bufferLayout=this._gpuGeometry?uD(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){IN(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,void 0===this.isInstanced&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new kN(this.shaderInputs.modules);for(const t of Object.keys(this.shaderInputs.modules)){const e=this._uniformStore.getManagedUniformBuffer(this.device,t);this.bindings["".concat(t,"Uniforms")]=e}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,t){e.indices&&VP.warn("Model:".concat(this.id," setAttributes() - indexBuffer should be set using setIndexBuffer()"))();for(const[r,o]of Object.entries(e)){var n;const e=this.bufferLayout.find((e=>dD(e).includes(r)));if(!e){VP.warn("Model(".concat(this.id,'): Missing layout for buffer "').concat(r,'".'))();continue}const i=dD(e);let s=!1;for(const t of i){const e=this._attributeInfos[t];e&&(this.vertexArray.setBuffer(e.location,o),s=!0)}s||(null!==(n=null===t||void 0===t?void 0:t.disableWarnings)&&void 0!==n?n:this.props.disableWarnings)||VP.warn("Model(".concat(this.id,'): Ignoring buffer "').concat(o.id,'" for unknown attribute "').concat(r,'"'))()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,t){for(const[r,o]of Object.entries(e)){var n;const e=this._attributeInfos[r];e?this.vertexArray.setConstantWebGL(e.location,o):(null!==(n=null===t||void 0===t?void 0:t.disableWarnings)&&void 0!==n?n:this.props.disableWarnings)||VP.warn('Model "'.concat(this.id,': Ignoring constant supplied for unknown attribute "').concat(r,'"'))()}this.setNeedsRedraw("constants")}setUniforms(e){YP(e)||(this.pipeline.setUniformsWebGL(e),Object.assign(this.uniforms,e)),this.setNeedsRedraw("uniforms")}updateModuleSettings(e){const{bindings:t,uniforms:n}=yO(this._getModuleUniforms(e));Object.assign(this.bindings,t),Object.assign(this.uniforms,n),this.setNeedsRedraw("moduleSettings")}_getBindingsUpdateTimestamp(){let e=0;for(const t of Object.values(this.bindings))t instanceof GI?e=Math.max(e,t.texture.updateTimestamp):t instanceof QP||t instanceof EI?e=Math.max(e,t.updateTimestamp):t instanceof jI||(e=Math.max(e,t.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const t={...e.attributes};for(const[n]of Object.entries(t))this.pipeline.shaderLayout.attributes.find((e=>e.name===n))||"positions"===n||delete t[n];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(t,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,t=null;this.pipeline&&(VP.log(1,"Model ".concat(this.id,': Recreating pipeline because "').concat(this._pipelineNeedsUpdate,'".'))(),e=this.pipeline.vs,t=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const n=this.shaderFactory.createShader({id:"".concat(this.id,"-vertex"),stage:"vertex",source:this.source||this.vs,debug:this.props.debugShaders});let r=null;this.source?r=n:this.fs&&(r=this.shaderFactory.createShader({id:"".concat(this.id,"-fragment"),stage:"fragment",source:this.source||this.fs,debug:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,vs:n,fs:r}),this._attributeInfos=xO(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),t&&this.shaderFactory.release(t)}return this.pipeline}_logDrawCallStart(){const e=VP.level>3?0:1e4;VP.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,VP.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:VP.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=function(e,t){var n;const r={},o="Values";if(0===e.attributes.length&&(null===(n=e.varyings)||void 0===n||!n.length))return{"No attributes or varyings":{[o]:"N/A"}};for(const i of e.attributes)if(i){const e="".concat(i.location," ").concat(i.name,": ").concat(i.type);r["in ".concat(e)]={[o]:i.stepMode||"vertex"}}for(const i of e.varyings||[]){const e="".concat(i.location," ").concat(i.name);r["out ".concat(e)]={[o]:JSON.stringify(i.accessor)}}return r}(this.pipeline.shaderLayout,this.id);VP.table(2,e)();const t=this.shaderInputs.getDebugTable();for(const[r,o]of Object.entries(this.uniforms))t[r]={value:o};VP.table(2,t)();const n=this._getAttributeDebugTable();VP.table(2,this._attributeInfos)(),VP.table(2,n)(),VP.groupEnd(2)(),this._logOpen=!1}}_logFramebuffer(e){const t=VP.get("framebuffer");if(this._drawCount++,!t||this._drawCount++>3&&this._drawCount%60)return;const n=e.props.framebuffer;n&&function(e,t){let{id:n,minimap:r,opaque:o,top:i="0",left:s="0",rgbaScale:a=1}=t;aD||(aD=document.createElement("canvas"),aD.id=n,aD.title=n,aD.style.zIndex="100",aD.style.position="absolute",aD.style.top=i,aD.style.left=s,aD.style.border="blue 1px solid",aD.style.transform="scaleY(-1)",document.body.appendChild(aD),lD=aD.getContext("2d")),aD.width===e.width&&aD.height===e.height||(aD.width=e.width/2,aD.height=e.height/2,aD.style.width="400px",aD.style.height="400px");const l=e.device.readPixelsToArrayWebGL(e),c=lD.createImageData(e.width,e.height);for(let u=0;u<l.length;u+=4)c.data[0+u+0]=l[u+0]*a,c.data[0+u+1]=l[u+1]*a,c.data[0+u+2]=l[u+2]*a,c.data[0+u+3]=o?255:l[u+3]*a;lD.putImageData(c,0,0)}(n,{id:n.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[t,n]of Object.entries(this._attributeInfos))e[n.location]={name:t,type:n.shaderType,values:this._getBufferOrConstantValues(this.vertexArray.attributes[n.location],n.bufferDataType)};if(this.vertexArray.indexBuffer){const{indexBuffer:t}=this.vertexArray,n="uint32"===t.indexType?new Uint32Array(t.debugData):new Uint16Array(t.debugData);e.indices={name:"indices",type:t.indexType,values:n.toString()}}return e}_getBufferOrConstantValues(e,t){const n=aN(t);return(e instanceof QP?new n(e.debugData):e).toString()}}function uD(e,t){const n=[...e];for(const r of t){const e=n.findIndex((e=>e.name===r.name));e<0?n.push(r):n[e]=r}return n}function dD(e){var t;return e.attributes?null===(t=e.attributes)||void 0===t?void 0:t.map((e=>e.attribute)):[e.name]}NA(cD,"defaultProps",{...mO.defaultProps,source:null,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:vE.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});class hD{static isSupported(e){var t;return"webgl"===(null===e||void 0===e||null===(t=e.info)||void 0===t?void 0:t.type)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cD.defaultProps;NA(this,"device",void 0),NA(this,"model",void 0),NA(this,"transformFeedback",void 0),lk(hD.isSupported(e),"BufferTransform not yet implemented on WebGPU"),this.device=e,this.model=new cD(this.device,{id:t.id||"buffer-transform-model",fs:t.fs||SN(),topology:t.topology||"point-list",...t}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:t.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){const t=this.device.beginRenderPass(e);this.model.draw(t),t.end()}update(){console.warn("TextureTransform#update() not implemented")}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const t=this.getBuffer(e);if(t instanceof QP)return t.readAsync();const{buffer:n,byteOffset:r=0,byteLength:o=n.byteLength}=t;return n.readAsync(r,o)}}function pD(e){const{source:t,target:n,start:r=0,size:o,getData:i}=e,s=e.end||n.length,a=t.length,l=s-r;if(a>l)return void n.set(t.subarray(0,l),r);if(n.set(t,r),!i)return;let c=a;for(;c<l;){const e=i(c,t);for(let t=0;t<o;t++)n[r+c]=e[t]||0,c++}}function fD(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function gD(e){switch(e){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function mD(e){e.push(e.shift())}function vD(e){let{device:t,source:n,target:r}=e;var o;(!r||r.byteLength<n.byteLength)&&(null===(o=r)||void 0===o||o.destroy(),r=t.createBuffer({byteLength:n.byteLength,usage:n.usage}));return r}function yD(e){let{device:t,buffer:n,attribute:r,fromLength:o,toLength:i,fromStartIndices:s,getData:a=(e=>e)}=e;const l=r.doublePrecision&&r.value instanceof Float64Array?2:1,c=r.size*l,u=r.byteOffset,d=r.settings.bytesPerElement<4?u/r.settings.bytesPerElement*4:u,h=r.startIndices,p=s&&h,f=r.isConstant;if(!p&&n&&o>=i)return n;const g=r.value instanceof Float64Array?Float32Array:r.value.constructor,m=f?r.value:new g(r.getBuffer().readSyncWebGL(u,i*g.BYTES_PER_ELEMENT).buffer);if(r.settings.normalized&&!f){const e=a;a=(t,n)=>r.normalizeConstant(e(t,n))}const v=f?(e,t)=>a(m,t):(e,t)=>a(m.subarray(e+u,e+u+c),t),y=n?new Float32Array(n.readSyncWebGL(d,4*o).buffer):new Float32Array(0),b=new Float32Array(i);var _;(function(e){let{source:t,target:n,size:r,getData:o,sourceStartIndices:i,targetStartIndices:s}=e;if(!i||!s)return pD({source:t,target:n,size:r,getData:o}),n;let a=0,l=0;const c=o&&((e,t)=>o(e+l,t)),u=Math.min(i.length,s.length);for(let d=1;d<u;d++){const e=i[d]*r,o=s[d]*r;pD({source:t.subarray(a,e),target:n,start:l,end:o,size:r,getData:c}),a=e,l=o}l<n.length&&pD({source:[],target:n,start:l,size:r,getData:c})}({source:y,target:b,sourceStartIndices:s,targetStartIndices:h,size:c,getData:v}),!n||n.byteLength<b.byteLength+d)&&(null===(_=n)||void 0===_||_.destroy(),n=t.createBuffer({byteLength:b.byteLength+d,usage:35050}));return n.write(b,d),n}class bD{constructor(e){let{device:t,attribute:n,timeline:r}=e;this.buffers=[],this.currentLength=0,this.device=t,this.transition=new sT(r),this.attribute=n,this.attributeInTransition=function(e){const{device:t,settings:n,value:r}=e,o=new AN(t,n);return o.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:n.normalized}),o}(n),this.currentStartIndices=n.startIndices}get inProgress(){return this.transition.inProgress}start(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=function(e,t){const{doublePrecision:n,settings:r,value:o,size:i}=e,s=n&&o instanceof Float64Array?2:1;let a=0;const{shaderAttributes:l}=e.settings;if(l)for(const u of Object.values(l)){var c;a=Math.max(a,null!==(c=u.vertexOffset)&&void 0!==c?c:0)}return(r.noAlloc?o.length:(t+a)*i)*s}(this.attribute,t),this.transition.start({...e,duration:n})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}const _D="#version 300 es\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nin ATTRIBUTE_TYPE aFrom;\nin ATTRIBUTE_TYPE aTo;\nout ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";const wD="#version 300 es\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nin ATTRIBUTE_TYPE aPrev;\nin ATTRIBUTE_TYPE aCur;\nin ATTRIBUTE_TYPE aTo;\nout ATTRIBUTE_TYPE vNext;\nout float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",xD="#version 300 es\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nin float vIsTransitioningFlag;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  fragColor = vec4(1.0);\n}";const AD={interpolation:class extends bD{constructor(e){let{device:t,attribute:n,timeline:r}=e;super({device:t,attribute:n,timeline:r}),this.type="interpolation",this.transform=function(e,t){const n=fD(t.size);return new hD(e,{vs:_D,bufferLayout:[{name:"aFrom",format:gD(t.size)},{name:"aTo",format:t.getBufferLayout().attributes[0].format}],defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(t,n)}start(e,t){const n=this.currentLength,r=this.currentStartIndices;if(super.start(e,t,e.duration),e.duration<=0)return void this.transition.cancel();const{buffers:o,attribute:i}=this;mD(o),o[0]=yD({device:this.device,buffer:o[0],attribute:i,fromLength:n,toLength:this.currentLength,fromStartIndices:r,getData:e.enter}),o[1]=vD({device:this.device,source:o[0],target:o[1]}),this.setBuffer(o[1]);const{transform:s}=this,a=s.model;a.setVertexCount(Math.floor(this.currentLength/i.size)),i.isConstant?(a.setAttributes({aFrom:o[0]}),a.setConstantAttributes({aTo:i.value})):a.setAttributes({aFrom:o[0],aTo:i.getBuffer()}),s.transformFeedback.setBuffers({vCurrent:o[1]})}onUpdate(){const{duration:e,easing:t}=this.settings,{time:n}=this.transition;let r=n/e;t&&(r=t(r));const{model:o}=this.transform;o.setUniforms({time:r});o.device.gl.bindBuffer(34962,null),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}},spring:class extends bD{constructor(e){let{device:t,attribute:n,timeline:r}=e;super({device:t,attribute:n,timeline:r}),this.type="spring",this.texture=function(e){return e.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}(t),this.framebuffer=function(e,t){return e.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[t]})}(t,this.texture),this.transform=function(e,t){const n=fD(t.size),r=gD(t.size);return new hD(e,{vs:wD,fs:xD,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:t.getBufferLayout().attributes[0].format}],varyings:["vNext"],defines:{ATTRIBUTE_TYPE:n},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}(t,n)}start(e,t){const n=this.currentLength,r=this.currentStartIndices;super.start(e,t);const{buffers:o,attribute:i}=this;for(let a=0;a<2;a++)o[a]=yD({device:this.device,buffer:o[a],attribute:i,fromLength:n,toLength:this.currentLength,fromStartIndices:r,getData:e.enter});o[2]=vD({device:this.device,source:o[0],target:o[2]}),this.setBuffer(o[1]);const{model:s}=this.transform;s.setVertexCount(Math.floor(this.currentLength/i.size)),i.isConstant?s.setConstantAttributes({aTo:i.value}):s.setAttributes({aTo:i.getBuffer()})}onUpdate(){const{buffers:e,transform:t,framebuffer:n,transition:r}=this,o=this.settings;t.model.setAttributes({aPrev:e[0],aCur:e[1]}),t.transformFeedback.setBuffers({vNext:e[2]}),t.model.setUniforms({stiffness:o.stiffness,damping:o.damping}),t.run({framebuffer:n,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),mD(e),this.setBuffer(e[1]);this.device.readPixelsToArrayWebGL(n)[0]>0||r.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}};class ED{constructor(e,t){let{id:n,timeline:r}=t;if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=n,this.device=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update(e){let{attributes:t,transitions:n,numInstances:r}=e;this.numInstances=r||1;for(const o in t){const e=t[o],r=e.getTransitionSetting(n);r&&this._updateAttribute(o,e,r)}for(const o in this.transitions){const e=t[o];e&&e.getTransitionSetting(n)||this._removeTransition(o)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}run(){if(0===this.numInstances)return!1;for(const t in this.transitions){this.transitions[t].update()&&(this.needsRedraw=!0)}const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,t,n){const r=this.transitions[e];let o=!r||r.type!==n.type;if(o){r&&this._removeTransition(e);const i=AD[n.type];i?this.transitions[e]=new i({attribute:t,timeline:this.timeline,device:this.device}):(GE.error("unsupported transition type '".concat(n.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const SD="attributeManager.invalidate";class CD{constructor(e){let{id:t="attribute-manager",stats:n,timeline:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mergeBoundsMemoized=pS(sR),this.id=t,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new ED(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const n=this._invalidateTrigger(e,t);jS(SD,this,e,n)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);jS(SD,this,"all")}update(e){let{data:t,numInstances:n,startIndices:r=null,transitions:o,props:i={},buffers:s={},context:a={}}=e,l=!1;jS("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const e=this.attributes[c],o=e.settings.accessor;e.startIndices=r,e.numInstances=n,i[c]&&GE.removed("props.".concat(c),"data.attributes.".concat(c))(),e.setExternalBuffer(s[c])||e.setBinaryValue("string"===typeof o?s[o]:void 0,t.startIndices)||"string"===typeof o&&!s[o]&&e.setConstantValue(i[o])||e.needsUpdate()&&(l=!0,this._updateAttribute({attribute:e,numInstances:n,data:t,props:i,context:a})),this.needsRedraw=this.needsRedraw||e.needsRedraw()}l&&jS("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:o})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const t=e.map((e=>{var t;return null===(t=this.attributes[e])||void 0===t?void 0:t.getBounds()}));return this.mergeBoundsMemoized(t)}getChangedAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1};const{attributes:t,attributeTransitionManager:n}=this,r={...n.getAttributes()};for(const o in t){const i=t[o];i.needsRedraw(e)&&!n.hasAttribute(o)&&(r[o]=i)}return r}getBufferLayouts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());const n=[];for(const r in e)t[r]||n.push(e[r].getBufferLayout());return n}_add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e){const r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,n){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0};return new AN(this.device,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes){this.attributes[t].getUpdateTriggers().forEach((n=>{e[n]||(e[n]=[]),e[n].push(t)}))}this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:n,updateTriggers:r}=this,o=r[e];return o&&o.forEach((e=>{const r=n[e];r&&r.setNeedsUpdate(r.id,t)})),o}_updateAttribute(e){const{attribute:t,numInstances:n}=e;if(jS("attribute.updateStart",t),t.constant)return void t.setConstantValue(t.value);t.allocate(n)&&jS("attribute.allocate",t,n);t.updateBuffer(e)&&(this.needsRedraw=!0,jS("attribute.updateEnd",t,n))}}const MD=1e-5;function RD(e,t,n,r,o){const i=t-e;return(n-t)*o+-i*r+i+t}function TD(e,t){if(Array.isArray(e)){let n=0;for(let r=0;r<e.length;r++){const o=e[r]-t[r];n+=o*o}return Math.sqrt(n)}return Math.abs(e-t)}const PD={interpolation:class extends sT{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:n,duration:r,easing:o}}=this,i=o(e/r);this._value=OM(t,n,i)}},spring:class extends sT{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:n,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:i=e}=this;let s=function(e,t,n,r,o){if(Array.isArray(n)){const i=[];for(let s=0;s<n.length;s++)i[s]=RD(e[s],t[s],n[s],r,o);return i}return RD(e,t,n,r,o)}(o,i,t,n,r);const a=TD(s,t),l=TD(s,i);a<MD&&l<MD&&(s=t,this.end()),this._prevValue=i,this._currValue=s}}};class kD{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,n,r){const{transitions:o}=this;if(o.has(e)){const n=o.get(e),{value:r=n.settings.fromValue}=n;t=r,this.remove(e)}if(!(r=xN(r)))return;const i=PD[r.type];if(!i)return void GE.error("unsupported transition type '".concat(r.type,"'"))();const s=new i(this.timeline);s.start({...r,fromValue:t,toValue:n}),o.set(e,s)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,n]of this.transitions)n.update(),e[t]=n.value,n.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function ID(e,t){const n=LD({newProps:e,oldProps:t,propTypes:e[OS],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:o}=e;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&o&&(n=o(e.data,t.data)||n);return n}(e,t);let o=!1;return r||(o=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){if(DD(e,t,"all"))return{all:!0}}const n={};let r=!1;for(const o in e.updateTriggers)if("all"!==o){DD(e,t,o)&&(n[o]=!0,r=!0)}return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:o,extensionsChanged:FD(e,t),transitionsChanged:OD(e,t)}}function OD(e,t){if(!e.transitions)return!1;const n={},r=e[OS];let o=!1;for(const i in e.transitions){const s=r[i],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&ND(e[i],t[i],s)&&(n[i]=!0,o=!0)}return!!o&&n}function LD(e){let{newProps:t,oldProps:n,ignoreProps:r={},propTypes:o={},triggerName:i="props"}=e;if(n===t)return!1;if("object"!==typeof t||null===t)return"".concat(i," changed shallowly");if("object"!==typeof n||null===n)return"".concat(i," changed shallowly");for(const s of Object.keys(t))if(!(s in r)){if(!(s in n))return"".concat(i,".").concat(s," added");const e=ND(t[s],n[s],o[s]);if(e)return"".concat(i,".").concat(s," ").concat(e)}for(const s of Object.keys(n))if(!(s in r)){if(!(s in t))return"".concat(i,".").concat(s," dropped");if(!Object.hasOwnProperty.call(t,s)){const e=ND(t[s],n[s],o[s]);if(e)return"".concat(i,".").concat(s," ").concat(e)}}return!1}function ND(e,t,n){let r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||(r=e&&t&&e.equals,!r||r.call(e,t))?r||t===e?null:"changed shallowly":"changed deeply"}function FD(e,t){if(null===t)return!0;const n=t.extensions,{extensions:r}=e;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(let o=0;o<r.length;o++)if(!r[o].equals(n[o]))return!0;return!1}function DD(e,t,n){let r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;let o=t.updateTriggers[n];o=void 0===o||null===o?{}:o;return LD({oldProps:o,newProps:r,triggerName:n})}function BD(e){if(null===(t=e)||"object"!==typeof t)throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}function zD(e,t){if(!t)return e;const n={...e,...t};if("defines"in t&&(n.defines={...e.defines,...t.defines}),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((e=>"project64"===e.name)))){const e=n.modules.findIndex((e=>"project32"===e.name));e>=0&&n.modules.splice(e,1)}if("inject"in t)if(e.inject){const r={...e.inject};for(const e in t.inject)r[e]=(r[e]||"")+t.inject[e];n.inject=r}else n.inject=t.inject;return n}const jD=[0,0,0];function UD(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.projectPosition(e);if(n&&t instanceof iT){const[n,o,i=0]=e,s=t.getDistanceScales([n,o]);r[2]=i*s.unitsPerMeter[2]}return r}function GD(e,t){let{viewport:n,modelMatrix:r,coordinateSystem:o,coordinateOrigin:i,offsetMode:s}=t,[a,l,c=0]=e;switch(r&&([a,l,c]=nS([],[a,l,c,1],r)),o){case HE.LNGLAT:return UD([a,l,c],n,s);case HE.LNGLAT_OFFSETS:return UD([a+i[0],l+i[1],c+(i[2]||0)],n,s);case HE.METER_OFFSETS:return UD(BR(i,[a,l,c]),n,s);case HE.CARTESIAN:default:return n.isGeospatial?[a+i[0],l+i[1],c+i[2]]:n.projectPosition([a,l,c])}}function HD(e,t){const{viewport:n,coordinateSystem:r,coordinateOrigin:o,modelMatrix:i,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function(e){const{viewport:t,modelMatrix:n,coordinateOrigin:r}=e;let{coordinateSystem:o,fromCoordinateSystem:i,fromCoordinateOrigin:s}=e;return o===HE.DEFAULT&&(o=t.isGeospatial?HE.LNGLAT:HE.CARTESIAN),void 0===i&&(i=o),void 0===s&&(s=r),{viewport:t,coordinateSystem:o,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:i,fromCoordinateOrigin:s}}(t),{autoOffset:l=!0}=t,{geospatialOrigin:c=jD,shaderCoordinateOrigin:u=jD,offsetMode:d=!1}=l?_S(n,r,o):{},h=GD(e,{viewport:n,modelMatrix:i,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});if(d){const e=n.projectPosition(c||u);KM(h,h,e)}return h}const VD={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},WD={};const XD={boolean:{validate:(e,t)=>!0,equal:(e,t,n)=>Boolean(e)===Boolean(t)},number:{validate:(e,t)=>Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)},color:{validate:(e,t)=>t.optional&&!e||YD(e)&&(3===e.length||4===e.length),equal:(e,t,n)=>JR(e,t,1)},accessor:{validate(e,t){const n=ZD(e);return"function"===n||n===ZD(t.value)},equal:(e,t,n)=>"function"===typeof t||JR(e,t,1)},array:{validate:(e,t)=>t.optional&&!e||YD(e),equal(e,t,n){const{compare:r}=n,o=Number.isInteger(r)?r:r?1:0;return r?JR(e,t,o):e===t}},object:{equal(e,t,n){if(n.ignore)return!0;const{compare:r}=n,o=Number.isInteger(r)?r:r?1:0;return r?JR(e,t,o):e===t}},function:{validate:(e,t)=>t.optional&&!e||"function"===typeof e,equal:(e,t,n)=>!n.compare&&!1!==n.ignore||e===t},data:{transform:(e,t,n)=>{if(!e)return e;const{dataTransform:r}=n.props;return r?r(e):"string"===typeof e.shape&&e.shape.endsWith("-table")&&Array.isArray(e.data)?e.data:e}},image:{transform:(e,t,n)=>{const r=n.context;return r&&r.device?function(e,t,n,r){if(n instanceof EI)return n;n.constructor&&"Object"!==n.constructor.name&&(n={data:n});let o=null;n.compressed&&(o={minFilter:"linear",mipmapFilter:n.data.length>1?"nearest":"linear"});const i=t.createTexture({...n,sampler:{...VD,...o,...r}});return WD[i.id]=e,i}(n.id,r.device,e,{...t.parameters,...n.props.textureParameters}):null},release:(e,t,n)=>{var r,o;r=n.id,(o=e)&&o instanceof EI&&WD[o.id]===r&&(o.delete(),delete WD[o.id])}}};function qD(e,t){switch(ZD(t)){case"object":return KD(e,t);case"array":return KD(e,{type:"array",value:t,compare:!1});case"boolean":return KD(e,{type:"boolean",value:t});case"number":return KD(e,{type:"number",value:t});case"function":return KD(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function KD(e,t){return"type"in t?{name:e,...XD[t.type],...t}:"value"in t?{name:e,type:ZD(t.value),...t}:{name:e,type:"object",value:t}}function YD(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ZD(e){return YD(e)?"array":null===e?"null":typeof e}const QD="_mergedDefaultProps";function $D(e,t){let n=QD;if(t)for(const o of t){const e=o.constructor;e&&(n+=":".concat(e.extensionName||e.name))}const r=tB(e,n);return r||(e[n]=function(e,t){const n=e.prototype;if(!n)return null;const r=Object.getPrototypeOf(e),o=$D(r),i=tB(e,"defaultProps")||{},s=function(e){const t={},n={},r={};for(const[o,i]of Object.entries(e)){const e=null===i||void 0===i?void 0:i.deprecatedFor;if(e)r[o]=Array.isArray(e)?e:[e];else{const e=qD(o,i);t[o]=e,n[o]=e.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(i),a=Object.assign(Object.create(null),o,s.defaultProps),l=Object.assign(Object.create(null),null===o||void 0===o?void 0:o[OS],s.propTypes),c=Object.assign(Object.create(null),null===o||void 0===o?void 0:o[LS],s.deprecatedProps);for(const u of t){const e=$D(u.constructor);e&&(Object.assign(a,e),Object.assign(l,e[OS]),Object.assign(c,e[LS]))}(function(e,t){const n=function(e){const t=e.componentName;t||GE.warn("".concat(e.name,".componentName not specified"))();return t||e.name}(t);Object.defineProperties(e,{id:{writable:!0,value:n}})})(a,e),function(e,t){const n={},r={};for(const o in t){const e=t[o],{name:i,value:s}=e;e.async&&(n[i]=s,r[i]=JD(i))}e[NS]=n,e[FS]={},Object.defineProperties(e,r)}(a,l),function(e,t){for(const n in t)Object.defineProperty(e,n,{enumerable:!1,set(e){const r="".concat(this.id,": ").concat(n);for(const o of t[n])eB(this,o)||(this[o]=e);GE.deprecated(r,t[n].join("/"))()}})}(a,c),a[OS]=l,a[LS]=c,0!==t.length||eB(e,"_propTypes")||(e._propTypes=l);return a}(e,t||[]))}function JD(e){return{enumerable:!0,set(t){"string"===typeof t||t instanceof Promise||vN(t)?this[FS][e]=t:this[DS][e]=t},get(){if(this[DS]){if(e in this[DS]){return this[DS][e]||this[NS][e]}if(e in this[FS]){const t=this[IS]&&this[IS].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[NS][e]}}return this[NS][e]}}}function eB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tB(e,t){return eB(e,t)&&e[t]}var nB;let rB=0;class oB{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props=function(e,t){let n;for(let i=t.length-1;i>=0;i--){const e=t[i];"extensions"in e&&(n=e.extensions)}const r=$D(e.constructor,n),o=Object.create(r);o[IS]=e,o[FS]={},o[DS]={};for(let i=0;i<t.length;++i){const e=t[i];for(const t in e)o[t]=e[t]}return Object.freeze(o),o}(this,t),this.id=this.props.id,this.count=rB++}clone(e){const{props:t}=this,n={};for(const r in t[NS])r in t[DS]?n[r]=t[DS][r]:r in t[FS]&&(n[r]=t[FS][r]);return new this.constructor({...t,...n,...e})}}(nB=oB).componentName="Component",nB.defaultProps={};const iB=Object.freeze({});class sB{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||iB}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){this.component=e[IS]||this.component;const t=e[DS]||{},n=e[FS]||e,r=e[NS]||{};for(const o in t){const e=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,e),t[o]=this.getAsyncProp(o)}for(const o in n){const e=n[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,e)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):vN(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,t,n){const r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const r=n.pendingLoadCount;t.then((t=>{this.component&&(t=this._postProcessValue(n,t),this._setAsyncPropValue(e,t,r),this._onResolve(e,t))})).catch((t=>{this._onError(e,t)}))}}async _resolveAsyncIterable(e,t){if("data"!==e)return void this._setPropValue(e,t);const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const r=n.pendingLoadCount;let o=[],i=0;for await(const s of t){if(!this.component)return;const{dataTransform:t}=this.component.props;o=t?t(s,o):o.concat(s),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:i,endRow:o.length}]}),i=o.length,this._setAsyncPropValue(e,o,r)}this._onResolve(e,o)}_postProcessValue(e,t){const n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const n=this.component&&this.component.props[OS];this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class aB extends sB{constructor(e){let{attributeManager:t,layer:n}=e;super(n),this.attributeManager=t,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,t){const n=this.layer,r=null===n||void 0===n?void 0:n.props.fetch;return r?r(t,{propName:e,layer:n}):super._fetch(e,t)}_onResolve(e,t){const n=this.layer;if(n){const r=n.props.onDataLoad;"data"===e&&r&&r(t,{propName:e,layer:n})}}_onError(e,t){const n=this.layer;n&&n.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}var lB;const cB=2**24-1,uB=Object.freeze([]),dB=pS((e=>{let{oldViewport:t,viewport:n}=e;return t.equals(n)}));let hB=new Uint8ClampedArray(0);const pB={data:{type:"data",value:uB,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:e=>e&&e.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(e,t)=>{let{propName:n,layer:r,loaders:o,loadOptions:i,signal:s}=t;const{resourceManager:a}=r.context;var l;(i=i||r.getLoadOptions(),o=o||r.props.loaders,s)&&(i={...i,fetch:{...null===(l=i)||void 0===l?void 0:l.fetch,signal:s}});let c=a.contains(e);return c||i||(a.add({resourceId:e,data:SM(e,o),persistent:!1}),c=!0),c?a.subscribe({resourceId:e,onChange:e=>{var t;return null===(t=r.internalState)||void 0===t?void 0:t.reloadAsyncProp(n,e)},consumerId:r.id,requestId:n}):SM(e,o,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:HE.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:e=>{let{layerIndex:t}=e;return[0,100*-t]}},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class fB extends oB{constructor(){super(...arguments),this.internalState=null,this.lifecycle=CS,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}project(e){pT(this.internalState);const t=this.internalState.viewport||this.context.viewport,n=GD(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,i]=GR(n,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,i]}unproject(e){pT(this.internalState);return(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){pT(this.internalState);return HD(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}setShaderModuleProps(){for(const e of this.getModels())e.shaderInputs.setProps(...arguments)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===HE.DEFAULT||e===HE.LNGLAT||e===HE.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){pT(e instanceof Uint8Array);const[t,n,r]=e;return t+256*n+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:BD(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return null===(e=this.getAttributeManager())||void 0===e?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=zD(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const t of this.props.extensions)e=zD(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&t)if(Array.isArray(n))for(const r of n)t.invalidateAll(r);else t.invalidateAll();if(t){const{props:n}=e,r=this.internalState.hasPickingBuffer,o=Number.isInteger(n.highlightedObjectIndex)||n.pickable||n.extensions.some((e=>e.getNeedsPickingBuffer.call(this,e)));if(r!==o){this.internalState.hasPickingBuffer=o;const{pickingColors:e,instancePickingColors:n}=t.attributes,r=e||n;r&&(o&&r.constant&&(r.constant=!1,t.invalidate(r.id)),r.value||o||(r.constant=!0,r.value=[0,0,0]))}}}finalizeState(e){for(const n of this.getModels())n.destroy();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo(e){let{info:t,mode:n,sourceLayer:r}=e;const{index:o}=t;return o>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[o]),t}raiseError(e,t){var n,r,o,i;(t&&(e=new Error("".concat(t,": ").concat(e.message),{cause:e})),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e))||(null===(o=this.context)||void 0===o||null===(i=o.onError)||void 0===i||i.call(o,e,this))}getNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,t&&dB({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){let t=!1;for(const n in e)e[n].layoutChanged()&&(t=!0);for(const n of this.getModels())this._setModelAttributes(n,e,t)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),n=Object.create(this.props);for(const e in t)Object.defineProperty(n,e,{value:t[e]});return n}return this.props}calculateInstancePickingColors(e,t){let{numInstances:n}=t;if(e.constant)return;const r=Math.floor(hB.length/4);if(this.internalState.usesPickingColorCache=!0,r<n){n>cB&&GE.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),hB=RM.allocate(hB,n,{size:4,copy:!0,maxCount:Math.max(n,cB)});const e=Math.floor(hB.length/4),t=[];for(let n=r;n<e;n++)this.encodePickingColor(n,t),hB[4*n+0]=t[0],hB[4*n+1]=t[1],hB[4*n+2]=t[2]}e.value=hB.subarray(0,4*n)}_setModelAttributes(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Object.keys(t).length)return;if(r){const n=this.getAttributeManager();e.setBufferLayout(n.getBufferLayouts()),t=n.getAttributes()}const o=(null===(n=e.userData)||void 0===n?void 0:n.excludeAttributes)||{},i={},s={};for(const a in t){if(o[a])continue;const n=t[a].getValue();for(const r in n){const o=n[r];o instanceof QP?t[a].settings.isIndexed?e.setIndexBuffer(o):i[r]=o:o&&(s[r]=o)}}e.setAttributes(i),e.setConstantAttributes(s)}disablePickingIndex(e){const t=this.props.data;if(!("attributes"in t))return void this._disablePickingIndex(e);const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,o=n||r,i=o&&t.attributes&&t.attributes[o.id];if(i&&i.value){const n=i.value,r=this.encodePickingColor(e);for(let e=0;e<t.length;e++){const t=o.getVertexOffset(e);n[t]===r[0]&&n[t+1]===r[1]&&n[t+2]===r[2]&&this._disablePickingIndex(e)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:n}=this.getAttributeManager().attributes,r=t||n;if(!r)return;const o=r.getVertexOffset(e),i=r.getVertexOffset(e+1);r.buffer.write(new Uint8Array(i-o),o)}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,n=e||t;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==hB.buffer&&(n.value=hB.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){pT(!this.internalState),pT(Number.isFinite(this.props.coordinateSystem)),jS("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new aB({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(GE.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new kD(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){jS("layer.matched",this,this===e);const{state:t,internalState:n}=e;this!==e&&(this.internalState=n,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(jS("layer.update",this,e),!e)return;const t=this.props,n=this.context,r=this.internalState,o=n.viewport,i=this._updateUniformTransition();r.propsInTransition=i,n.viewport=r.viewport||o,this.props=i;try{const e=this._getUpdateParams(),t=this.getModels();if(n.device)this.updateState(e);else try{this.updateState(e)}catch(s){}for(const n of this.props.extensions)n.updateState.call(this,e,n);const r=this.getModels()[0]!==t[0];this._postUpdate(e,r)}finally{n.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){jS("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer(e){let{renderPass:t,moduleParameters:n=null,uniforms:r={},parameters:o={}}=e;this._updateAttributeTransition();const i=this.props,s=this.context;this.props=this.internalState.propsInTransition||i;const a=this.props.opacity;r.opacity=Math.pow(a,1/2.2);try{if(n){const{isActive:e,isAttribute:t}=n.picking;this.setModuleParameters(n),this.setShaderModuleProps({picking:{isActive:e,isAttribute:t}})}const{getPolygonOffset:e}=this.props,i=e&&e(r)||[0,0];s.device.setParametersWebGL({polygonOffset:i});for(const t of this.getModels())t.setParameters(o);s.device.withParametersWebGL(o,(()=>{const e={renderPass:t,moduleParameters:n,uniforms:r,parameters:o,context:s};for(const t of this.props.extensions)t.draw.call(this,e,t);this.draw(e)}))}finally{this.props=i}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let n=!1;if("dataChanged"===r){const o=e[r],i=t[r];o&&Array.isArray(i)&&(t.dataChanged=Array.isArray(o)?i.concat(o):o,n=!0)}t[r]||(t[r]=e[r],n=!0),n&&jS("layer.changeFlag",this,r,e)}const n=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=n,t.somethingChanged=n||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const n=ID(e,t);if(n.updateTriggersChanged)for(const o in n.updateTriggersChanged)n.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(n.transitionsChanged)for(const o in n.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(n)}validateProps(){!function(e){const t=e[OS];for(const n in t){const r=t[n],{validate:o}=r;if(o&&!o(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={highlightedObjectColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&"function"===typeof n&&(t.highlightColor=n(e)),this.setShaderModuleProps({picking:t}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new CD(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:n,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const o=this.state.model;null!==o&&void 0!==o&&o.isInstanced&&o.setInstanceCount(this.getNumInstances());const{autoHighlight:i,highlightedObjectIndex:s,highlightColor:a}=n;if(t||r.autoHighlight!==i||r.highlightedObjectIndex!==s||r.highlightColor!==a){const e={};i||(e.highlightedObjectColor=null),Array.isArray(a)&&(e.highlightColor=a),(t||s!==r.highlightedObjectIndex)&&(e.highlightedObjectColor=Number.isFinite(s)&&s>=0?this.encodePickingColor(s):null),this.setShaderModuleProps({picking:e})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);if(t=t||r,t)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(lB=fB).defaultProps=pB,lB.layerName="Layer";const gB={position:"absolute",zIndex:-1};function mB(e,n){if("function"===typeof e)return e(n);if(Array.isArray(e))return e.map((e=>mB(e,n)));if(vB(e)){if(function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.mapStyle}(e))return n.style=gB,(0,t.cloneElement)(e,n);if(function(e){const t=e.type;return t&&t.deckGLViewProps}(e))return(0,t.cloneElement)(e,n)}return e}function vB(e){return e&&"object"===typeof e&&"type"in e||!1}function yB(e){if("function"===typeof e)return(0,t.createElement)(oT,{},e);if(Array.isArray(e))return e.map(yB);if(vB(e)){if(e.type===t.Fragment)return yB(e.props.children);if(iN(e.type,oT))return e}return e}const bB={mixBlendMode:null};function _B(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}const wB=t.forwardRef((function(e,n){const[r,o]=(0,t.useState)(0),i=(0,t.useRef)({control:null,version:r,forceUpdate:()=>o((e=>e+1))}).current,s=(0,t.useRef)(null),a=(0,t.useRef)(null),l=(0,t.useMemo)((()=>function(e){let{children:n,layers:r=[],views:o=null}=e;const i=[],s=[],a={};return t.Children.forEach(yB(n),(e=>{if(vB(e)){const t=e.type;if(iN(t,fB)){const n=function(e,t){const n={},r=e.defaultProps||{};for(const o in t)r[o]!==t[o]&&(n[o]=t[o]);return new e(n)}(t,e.props);s.push(n)}else i.push(e);if(iN(t,oT)&&t!==oT&&e.props.id){const n=new t(e.props);a[n.id]=n}}else e&&i.push(e)})),Object.keys(a).length>0&&(Array.isArray(o)?o.forEach((e=>{a[e.id]=e})):o&&(a[o.id]=o),o=Object.values(a)),r=s.length>0?[...s,...r]:r,{layers:r,children:i,views:o}}(e)),[e.layers,e.views,e.children]);let c=!0;const u=t=>{var n;return c&&e.viewState?(i.viewStateUpdateRequested=t,null):(i.viewStateUpdateRequested=null,null===(n=e.onViewStateChange)||void 0===n?void 0:n.call(e,t))},d=t=>{var n;c?i.interactionStateUpdateRequested=t:(i.interactionStateUpdateRequested=null,null===(n=e.onInteractionStateChange)||void 0===n||n.call(e,t))},h=(0,t.useMemo)((()=>{const t={...e,style:null,width:"100%",height:"100%",parent:s.current,canvas:a.current,layers:l.layers,views:l.views,onViewStateChange:u,onInteractionStateChange:d};return delete t._customRender,i.deck&&i.deck.setProps(t),t}),[e]);(0,t.useEffect)((()=>{const t=e.Deck||rN;return i.deck=function(e,t,n){const r=new t({...n,_customRender:t=>{e.redrawReason=t;const n=r.getViewports();e.lastRenderedViewports!==n?e.forceUpdate():_B(e)}});return r}(i,t,{...h,parent:s.current,canvas:a.current}),()=>{var e;return null===(e=i.deck)||void 0===e?void 0:e.finalize()}}),[]),oN((()=>{_B(i);const{viewStateUpdateRequested:e,interactionStateUpdateRequested:t}=i;e&&u(e),t&&d(t)})),(0,t.useImperativeHandle)(n,(()=>function(e){return{get deck(){return e.deck},pickObject:t=>e.deck.pickObject(t),pickMultipleObjects:t=>e.deck.pickMultipleObjects(t),pickObjects:t=>e.deck.pickObjects(t)}}(i)),[]);const p=i.deck&&i.deck.isInitialized?i.deck.getViewports():void 0,{ContextProvider:f,width:g="100%",height:m="100%",id:v,style:y}=e,{containerStyle:b,canvasStyle:_}=(0,t.useMemo)((()=>function(e){let{width:t,height:n,style:r}=e;const o={position:"absolute",zIndex:0,left:0,top:0,width:t,height:n},i={left:0,top:0};if(r)for(const s in r)s in bB?i[s]=r[s]:o[s]=r[s];return{containerStyle:o,canvasStyle:i}}({width:g,height:m,style:y})),[g,m,y]);if(!i.viewStateUpdateRequested&&i.lastRenderedViewports===p||i.version!==r){i.lastRenderedViewports=p,i.version=r;const e=function(e){let{children:n,deck:r,ContextProvider:o}=e;const{viewManager:i}=r||{};if(!i||!i.views.length)return[];const s={},a=i.views[0].id;for(const t of n){let e=a,n=t;vB(t)&&iN(t.type,oT)&&(e=t.props.id||a,n=t.props.children);const r=i.getViewport(e),o=i.getViewState(e);if(r){o.padding=r.padding;const{x:t,y:i,width:a,height:l}=r;n=mB(n,{x:t,y:i,width:a,height:l,viewport:r,viewState:o}),s[e]||(s[e]={viewport:r,children:[]}),s[e].children.push(n)}}return Object.keys(s).map((e=>{const{viewport:n,children:i}=s[e],{x:a,y:l,width:c,height:u}=n,d={position:"absolute",left:a,top:l,width:c,height:u},h="view-".concat(e),p=(0,t.createElement)("div",{key:h,id:h,style:d},...i);if(o){const i={viewport:n,container:r.canvas.offsetParent,eventManager:r.eventManager,onViewStateChange:t=>{t.viewId=e,r._onViewStateChange(t)}};return(0,t.createElement)(o,{key:h,value:i},p)}return p}))}({children:l.children,deck:i.deck,ContextProvider:f}),n=(0,t.createElement)("canvas",{key:"canvas",id:v||"deckgl-overlay",ref:a,style:_});i.control=(0,t.createElement)("div",{id:"".concat(v||"deckgl","-wrapper"),ref:s,style:b},[n,e])}return c=!1,i.control})),xB=wB;class AB extends fB{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((e=>e.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo(e){let{info:t}=e;const{object:n}=t;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(t.object=n.__source.object,t.index=n.__source.index,t):t}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:n}=this.props;return n&&n[e]&&n[e].type||t}getSubLayerRow(e,t,n){return e.__source={parent:this,object:t,index:n},e}getSubLayerAccessor(e){if("function"===typeof e){const t={index:-1,data:this.props.data,target:[]};return(n,r)=>n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}return e}getSubLayerProps(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{opacity:n,pickable:r,visible:o,parameters:i,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:h,positionFormat:p,modelMatrix:f,extensions:g,fetch:m,operation:v,_subLayerProps:y}=this.props,b={id:"",updateTriggers:{},opacity:n,pickable:r,visible:o,parameters:i,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:h,positionFormat:p,modelMatrix:f,extensions:g,fetch:m,operation:v},_=y&&t.id&&y[t.id],w=_&&_.updateTriggers,x=t.id||"sublayer";if(_){const e=this.props[OS],n=t.type?t.type._propTypes:{};for(const t in _){const r=n[t]||e[t];r&&"accessor"===r.type&&(_[t]=this.getSubLayerAccessor(_[t]))}}Object.assign(b,t,_),b.id="".concat(this.props.id,"-").concat(x),b.updateTriggers={all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all,...t.updateTriggers,...w};for(const A of g){const e=A.getSubLayerProps.call(this,A);e&&Object.assign(b,e,{updateTriggers:Object.assign(b.updateTriggers,e.updateTriggers)})}return b}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let n=this.internalState.subLayers;const r=!n||this.needsUpdate();if(r){n=US(this.renderLayers(),Boolean),this.internalState.subLayers=n}jS("compositeLayer.renderLayers",this,r,n);for(const o of n)o.parent=this}}function EB(e){let{data:t,getIndex:n,dataRange:r,replace:o}=e;const{startRow:i=0,endRow:s=1/0}=r,a=t.length;let l=a,c=a;for(let h=0;h<a;h++){const e=n(t[h]);if(l>h&&e>=i&&(l=h),e>=s){c=h;break}}let u=l;const d=c-l!==o.length?t.slice(c):void 0;for(let h=0;h<o.length;h++)t[u++]=o[h];if(d){for(let e=0;e<d.length;e++)t[u++]=d[e];t.length=u}return{startRow:l,endRow:l+o.length}}AB.layerName="CompositeLayer";const SB={name:"project32",dependencies:[xS],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},CB=new Float32Array([0,1,1,1]),MB={name:"picking",vs:"uniform pickingUniforms {\nfloat isActive;\nfloat isAttribute;\nfloat isHighlightActive;\nfloat useFloatColors;\nvec3 highlightedObjectColor;\nvec4 highlightColor;\n} picking;\nout vec4 picking_vRGBcolor_Avalid;\nvec3 picking_normalizeColor(vec3 color) {\nreturn picking.useFloatColors > 0.5 ? color : color / 255.0;\n}\nvec4 picking_normalizeColor(vec4 color) {\nreturn picking.useFloatColors > 0.5 ? color : color / 255.0;\n}\nbool picking_isColorZero(vec3 color) {\nreturn dot(color, vec3(1.0)) < 0.00001;\n}\nbool picking_isColorValid(vec3 color) {\nreturn dot(color, vec3(1.0)) > 0.00001;\n}\nbool isVertexHighlighted(vec3 vertexColor) {\nvec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);\nreturn\nbool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));\n}\nvoid picking_setPickingColor(vec3 pickingColor) {\npickingColor = picking_normalizeColor(pickingColor);\nif (bool(picking.isActive)) {\npicking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\nif (!bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rgb = pickingColor;\n}\n} else {\npicking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));\n}\n}\nvoid picking_setPickingAttribute(float value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.r = value;\n}\n}\nvoid picking_setPickingAttribute(vec2 value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rg = value;\n}\n}\nvoid picking_setPickingAttribute(vec3 value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rgb = value;\n}\n}\n",fs:"uniform pickingUniforms {\nfloat isActive;\nfloat isAttribute;\nfloat isHighlightActive;\nfloat useFloatColors;\nvec3 highlightedObjectColor;\nvec4 highlightColor;\n} picking;\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\nif (picking.isActive > 0.5) {\nreturn color;\n}\nbool selected = bool(picking_vRGBcolor_Avalid.a);\nif (selected) {\nfloat highLightAlpha = picking.highlightColor.a;\nfloat blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\nfloat highLightRatio = highLightAlpha / blendedAlpha;\nvec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);\nreturn vec4(blendedRGB, blendedAlpha);\n} else {\nreturn color;\n}\n}\nvec4 picking_filterPickingColor(vec4 color) {\nif (bool(picking.isActive)) {\nif (picking_vRGBcolor_Avalid.a == 0.0) {\ndiscard;\n}\nreturn picking_vRGBcolor_Avalid;\n}\nreturn color;\n}\nvec4 picking_filterColor(vec4 color) {\nvec4 highlightColor = picking_filterHighlightColor(color);\nreturn picking_filterPickingColor(highlightColor);\n}\n",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:new Float32Array([0,0,0]),highlightColor:CB},getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};if(void 0===e.highlightedObjectColor);else if(null===e.highlightedObjectColor)t.isHighlightActive=!1;else{t.isHighlightActive=!0;const n=e.highlightedObjectColor.slice(0,3);t.highlightedObjectColor=n}if(e.highlightColor){const n=Array.from(e.highlightColor,(e=>e/255));Number.isFinite(n[3])||(n[3]=1),t.highlightColor=n}void 0!==e.isActive&&(t.isActive=Boolean(e.isActive),t.isAttribute=Boolean(e.isAttribute));void 0!==e.useFloatColors&&(t.useFloatColors=Boolean(e.useFloatColors));return t}};const RB={...MB,defaultUniforms:{...MB.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}};class TB{constructor(e){NA(this,"id",void 0),NA(this,"topology",void 0),NA(this,"vertexCount",void 0),NA(this,"indices",void 0),NA(this,"attributes",void 0),NA(this,"userData",{});const{attributes:t={},indices:n=null,vertexCount:r=null}=e;this.id=e.id||KP("geometry"),this.topology=e.topology,n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n),this.attributes={};for(const[o,i]of Object.entries(t)){const e=ArrayBuffer.isView(i)?{value:i}:i;lk(ArrayBuffer.isView(e.value),"".concat(this._print(o),": must be typed array or object with value as typed array")),"POSITION"!==o&&"positions"!==o||e.size||(e.size=3),"indices"===o?(lk(!this.indices),this.indices=e):this.attributes[o]=e}this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=r||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){return this}_calculateVertexCount(e,t){if(t)return t.value.length;let n=1/0;for(const r of Object.values(e)){const{value:e,size:t,constant:o}=r;!o&&e&&t>=1&&(n=Math.min(n,e.length/t))}return lk(Number.isFinite(n)),n}}const PB=()=>{},kB={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},IB={x:0,y:0,width:0,height:0};function OB(e,t,n,r){const o=Math.min(n/t.width,r/t.height),i=Math.floor(t.width*o),s=Math.floor(t.height*o);return 1===o?{data:t,width:i,height:s}:(e.canvas.height=s,e.canvas.width=i,e.clearRect(0,0,i,s),e.drawImage(t,0,0,t.width,t.height,0,0,i,s),{data:e.canvas,width:i,height:s})}function LB(e){return e&&(e.id||e.url)}function NB(e,t,n){for(let r=0;r<t.length;r++){const{icon:o,xOffset:i}=t[r];e[LB(o)]={...o,x:i,y:n}}}class FB{constructor(e,t){let{onUpdate:n=PB,onError:r=PB}=t;this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._textureParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=4,this._canvasWidth=1024,this._canvasHeight=0,this._canvas=null,this.device=e,this.onUpdate=n,this.onError=r}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?LB(e):e;return this._mapping[t]||IB}setProps(e){let{loadOptions:t,autoPacking:n,iconAtlas:r,iconMapping:o,textureParameters:i}=e;var s;(t&&(this._loadOptions=t),void 0!==n&&(this._autoPacking=n),o&&(this._mapping=o),r)&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=r);i&&(this._textureParameters=i)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||"undefined"===typeof document)return;const n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};const r={},{iterable:o,objectInfo:i}=mN(e);for(const s of o){i.index++;const e=t(s,i),o=LB(e);if(!e)throw new Error("Icon is missing.");if(!e.url)throw new Error("Icon url is missing.");r[o]||n[o]&&e.url===n[o].url||(r[o]={...e,source:s,sourceIndex:i.index})}return r}(e,t,this._mapping)||{});if(n.length>0){const{mapping:e,xOffset:t,yOffset:r,rowHeight:o,canvasHeight:i}=function(e){let{icons:t,buffer:n,mapping:r={},xOffset:o=0,yOffset:i=0,rowHeight:s=0,canvasWidth:a}=e,l=[];for(let u=0;u<t.length;u++){const e=t[u];if(!r[LB(e)]){const{height:t,width:c}=e;o+c+n>a&&(NB(r,l,i),o=0,i=s+i+n,s=0,l=[]),l.push({icon:e,xOffset:o}),o=o+c+n,s=Math.max(s,t)}}return l.length>0&&NB(r,l,i),{mapping:r,rowHeight:s,xOffset:o,yOffset:i,canvasWidth:a,canvasHeight:(c=s+i+n,Math.pow(2,Math.ceil(Math.log2(c))))};var c}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=o,this._mapping=e,this._xOffset=t,this._yOffset=r,this._canvasHeight=i,this._texture||(this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._textureParameters||kB})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,n,r){const{width:o,height:i,device:s}=e,a=s.createTexture({format:"rgba8unorm",width:t,height:n,sampler:r}),l=s.createCommandEncoder();return l.copyTextureToTexture({source:e,destination:a,width:o,height:i}),l.finish(),e.destroy(),a}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||kB)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}_loadIcons(e){const t=this._canvas.getContext("2d",{willReadFrequently:!0});for(const n of e)this._pendingCount++,SM(n.url,this._loadOptions).then((e=>{const r=LB(n),o=this._mapping[r],{x:i,y:s,width:a,height:l}=o,{data:c,width:u,height:d}=OB(t,e,a,l);this._texture.setSubImageData({data:c,x:i+(a-u)/2,y:s+(l-d)/2,width:u,height:d}),o.width=u,o.height=d,this._texture.generateMipmap(),this.onUpdate()})).catch((e=>{this.onError({url:n.url,source:n.source,sourceIndex:n.sourceIndex,loadOptions:this._loadOptions,error:e})})).finally((()=>{this._pendingCount--}))}}var DB;const BB=[0,0,0,255],zB={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:e=>e.position},getIcon:{type:"accessor",value:e=>e.icon},getColor:{type:"accessor",value:BB},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class jB extends fB{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME icon-layer-vertex-shader\nin vec2 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin float instanceSizes;\nin float instanceAngles;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin vec4 instanceIconFrames;\nin float instanceColorModes;\nin vec2 instanceOffsets;\nin vec2 instancePixelOffset;\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\nout float vColorMode;\nout vec4 vColor;\nout vec2 vTextureCoords;\nout vec2 uv;\nvec2 rotate_by_angle(vec2 vertex, float angle) {\nfloat angle_radian = angle * PI / 180.0;\nfloat cos_angle = cos(angle_radian);\nfloat sin_angle = sin(angle_radian);\nmat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\nreturn rotationMatrix * vertex;\n}\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.uv = positions;\ngeometry.pickingColor = instancePickingColors;\nuv = positions;\nvec2 iconSize = instanceIconFrames.zw;\nfloat sizePixels = clamp(\nproject_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\nsizeMinPixels, sizeMaxPixels\n);\nfloat instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\nvec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\npixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\npixelOffset += instancePixelOffset;\npixelOffset.y *= -1.0;\nif (billboard)  {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = vec3(pixelOffset, 0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\nDECKGL_FILTER_SIZE(offset_common, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvTextureCoords = mix(\ninstanceIconFrames.xy,\ninstanceIconFrames.xy + iconSize,\n(positions.xy + 1.0) / 2.0\n) / iconsTextureDim;\nvColor = instanceColors;\nDECKGL_FILTER_COLOR(vColor, geometry);\nvColorMode = instanceColorModes;\n}\n",fs:"#version 300 es\n#define SHADER_NAME icon-layer-fragment-shader\nprecision highp float;\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\nin float vColorMode;\nin vec4 vColor;\nin vec2 vTextureCoords;\nin vec2 uv;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nvec4 texColor = texture(iconsTexture, vTextureCoords);\nvec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\nfloat a = texColor.a * opacity * vColor.a;\nif (a < alphaCutoff) {\ndiscard;\n}\nfragColor = vec4(color, a);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[SB,RB]})}initializeState(){this.state={iconManager:new FB(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})};this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:BB},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:n,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:i,iconMapping:s,data:a,getIcon:l,textureParameters:c}=t,{iconManager:u}=this.state;if("string"===typeof i)return;const d=i||this.internalState.isAsyncPropLoading("iconAtlas");var h;(u.setProps({loadOptions:t.loadOptions,autoPacking:!d,iconAtlas:i,iconMapping:d?s:null,textureParameters:c}),d?n.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(a,l),r.extensionsChanged)&&(null===(h=this.state.model)||void 0===h||h.destroy(),this.state.model=this._getModel(),o.invalidateAll())}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw(e){let{uniforms:t}=e;const{sizeScale:n,sizeMinPixels:r,sizeMaxPixels:o,sizeUnits:i,billboard:s,alphaCutoff:a}=this.props,{iconManager:l}=this.state,c=l.getTexture();if(c){const e=this.state.model;e.setBindings({iconsTexture:c}),e.setUniforms(t),e.setUniforms({iconsTextureDim:[c.width,c.height],sizeUnits:WE[i],sizeScale:n,sizeMinPixels:r,sizeMaxPixels:o,billboard:s,alphaCutoff:a}),e.draw(this.context.renderPass)}}_getModel(){return new cD(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new TB({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([-1,-1,1,-1,-1,1,1,1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):GE.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:n,anchorX:r=t/2,anchorY:o=n/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,n/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:n,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,n,r,o]}}(DB=jB).defaultProps=zB,DB.layerName="IconLayer";var UB;const GB=[0,0,0,255],HB={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:e=>e.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:GB},getLineColor:{type:"accessor",value:GB},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class VB extends fB{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-vertex-shader\nin vec3 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin float instanceRadius;\nin float instanceLineWidths;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\nout vec4 vFillColor;\nout vec4 vLineColor;\nout vec2 unitPosition;\nout float innerUnitRadius;\nout float outerRadiusPixels;\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\nouterRadiusPixels = clamp(\nproject_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\nradiusMinPixels, radiusMaxPixels\n);\nfloat lineWidthPixels = clamp(\nproject_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\nlineWidthMinPixels, lineWidthMaxPixels\n);\nouterRadiusPixels += stroked * lineWidthPixels / 2.0;\nfloat edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\nunitPosition = edgePadding * positions.xy;\ngeometry.uv = unitPosition;\ngeometry.pickingColor = instancePickingColors;\ninnerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\nif (billboard) {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = edgePadding * positions * outerRadiusPixels;\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\nDECKGL_FILTER_COLOR(vFillColor, geometry);\nvLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\nDECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-fragment-shader\nprecision highp float;\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\nin vec4 vFillColor;\nin vec4 vLineColor;\nin vec2 unitPosition;\nin float innerUnitRadius;\nin float outerRadiusPixels;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = unitPosition;\nfloat distToCenter = length(unitPosition) * outerRadiusPixels;\nfloat inCircle = antialiasing ?\nsmoothedge(distToCenter, outerRadiusPixels) :\nstep(distToCenter, outerRadiusPixels);\nif (inCircle == 0.0) {\ndiscard;\n}\nif (stroked > 0.5) {\nfloat isLine = antialiasing ?\nsmoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\nstep(innerUnitRadius * outerRadiusPixels, distToCenter);\nif (filled) {\nfragColor = mix(vFillColor, vLineColor, isLine);\n} else {\nif (isLine == 0.0) {\ndiscard;\n}\nfragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n}\n} else if (!filled) {\ndiscard;\n} else {\nfragColor = vFillColor;\n}\nfragColor.a *= inCircle;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[SB,RB]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var t;(super.updateState(e),e.changeFlags.extensionsChanged)&&(null===(t=this.state.model)||void 0===t||t.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw(e){let{uniforms:t}=e;const{radiusUnits:n,radiusScale:r,radiusMinPixels:o,radiusMaxPixels:i,stroked:s,filled:a,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}=this.props,f=this.state.model;f.setUniforms(t),f.setUniforms({stroked:s?1:0,filled:a,billboard:l,antialiasing:c,radiusUnits:WE[n],radiusScale:r,radiusMinPixels:o,radiusMaxPixels:i,lineWidthUnits:WE[u],lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}),f.draw(this.context.renderPass)}_getModel(){return new cD(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new TB({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0])}}}),isInstanced:!0})}}(UB=VB).defaultProps=HB,UB.layerName="ScatterplotLayer";var WB;const XB=.75,qB=[];class KB extends jB{getShaders(){return{...super.getShaders(),fs:"#version 300 es\n#define SHADER_NAME multi-icon-layer-fragment-shader\nprecision highp float;\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float sdfBuffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\nin vec4 vColor;\nin vec2 vTextureCoords;\nin vec2 uv;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nif (!bool(picking.isActive)) {\nfloat alpha = texture(iconsTexture, vTextureCoords).a;\nvec4 color = vColor;\nif (sdf) {\nfloat distance = alpha;\nalpha = smoothstep(sdfBuffer - gamma, sdfBuffer + gamma, distance);\nif (outlineBuffer > 0.0) {\nfloat inFill = alpha;\nfloat inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\ncolor = mix(outlineColor, vColor, inFill);\nalpha = inBorder;\n}\n}\nfloat a = alpha * color.a;\nif (a < alphaCutoff) {\ndiscard;\n}\nfragColor = vec4(color.rgb, a * opacity);\n}\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(n,r)}}})}updateState(e){super.updateState(e);const{props:t,oldProps:n}=e;let{outlineColor:r}=t;r!==n.outlineColor&&(r=r.map((e=>e/255)),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&GE.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:n,outlineWidth:r}=this.props,{outlineColor:o}=this.state,i=r?Math.max(n,XB*(1-r)):-1;if(e.uniforms={...e.uniforms,sdfBuffer:XB,outlineBuffer:i,gamma:n,sdf:Boolean(t),outlineColor:o},super.draw(e),t&&r){const{iconManager:e}=this.state,t=e.getTexture(),n=this.state.model;t&&(n.setUniforms({outlineBuffer:XB}),n.draw(this.context.renderPass))}}getInstanceOffset(e){return e?Array.from(e).flatMap((e=>super.getInstanceOffset(e))):qB}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap((e=>super.getInstanceIconFrame(e))):qB}}(WB=KB).defaultProps={getIconOffsets:{type:"accessor",value:e=>e.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}},WB.layerName="MultiIconLayer";const YB=1e20;class ZB{constructor(){let{fontSize:e=24,buffer:t=3,radius:n=8,cutoff:r=.25,fontFamily:o="sans-serif",fontWeight:i="normal",fontStyle:s="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=t,this.cutoff=r,this.radius=n;const a=this.size=e+4*t,l=this._createCanvas(a),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font="".concat(s," ").concat(i," ").concat(e,"px ").concat(o),c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:o,actualBoundingBoxRight:i}=this.ctx.measureText(e),s=Math.ceil(n),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(i-o))),l=Math.min(this.size-this.buffer,s+Math.ceil(r)),c=a+2*this.buffer,u=l+2*this.buffer,d=Math.max(c*u,0),h=new Uint8ClampedArray(d),p={data:h,width:c,height:u,glyphWidth:a,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:t};if(0===a||0===l)return p;const{ctx:f,buffer:g,gridInner:m,gridOuter:v}=this;f.clearRect(g,g,a,l),f.fillText(e,g,g+s);const y=f.getImageData(g,g,a,l);v.fill(YB,0,d),m.fill(0,0,d);for(let b=0;b<l;b++)for(let e=0;e<a;e++){const t=y.data[4*(b*a+e)+3]/255;if(0===t)continue;const n=(b+g)*c+e+g;if(1===t)v[n]=0,m[n]=YB;else{const e=.5-t;v[n]=e>0?e*e:0,m[n]=e<0?e*e:0}}QB(v,0,0,c,u,c,this.f,this.v,this.z),QB(m,g,g,a,l,c,this.f,this.v,this.z);for(let b=0;b<d;b++){const e=Math.sqrt(v[b])-Math.sqrt(m[b]);h[b]=Math.round(255-255*(e/this.radius+this.cutoff))}return p}}function QB(e,t,n,r,o,i,s,a,l){for(let c=t;c<t+r;c++)$B(e,n*i+c,i,o,s,a,l);for(let c=n;c<n+o;c++)$B(e,c*i+t,1,r,s,a,l)}function $B(e,t,n,r,o,i,s){i[0]=0,s[0]=-YB,s[1]=YB,o[0]=e[t];for(let a=1,l=0,c=0;a<r;a++){o[a]=e[t+a*n];const r=a*a;do{const e=i[l];c=(o[a]-o[e]+r-e*e)/(a-e)/2}while(c<=s[l]&&--l>-1);l++,i[l]=a,s[l]=c,s[l+1]=YB}for(let a=0,l=0;a<r;a++){for(;s[l+1]<a;)l++;const r=i[l],c=a-r;e[t+a*n]=o[r]+c*c}}const JB=32,ez=[];function tz(e,t,n,r){let o=0;for(let s=t;s<n;s++){var i;o+=(null===(i=r[e[s]])||void 0===i?void 0:i.layoutWidth)||0}return o}function nz(e,t,n,r,o,i){let s=t,a=0;for(let l=t;l<n;l++){const t=tz(e,l,l+1,o);a+t>r&&(s<l&&i.push(l),s=l,a=0),a+=t}return a}function rz(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;void 0===i&&(i=e.length);const s=[];return"break-all"===t?nz(e,o,i,n,r,s):function(e,t,n,r,o,i){let s=t,a=t,l=t,c=0;for(let u=t;u<n;u++)if(" "===e[u]?l=u+1:" "!==e[u+1]&&u+1!==n||(l=u+1),l>a){let t=tz(e,a,l,o);c+t>r&&(s<a&&(i.push(a),s=a,c=0),t>r&&(t=nz(e,a,l,r,o,i),s=i[i.length-1])),a=l,c+=t}}(e,o,i,n,r,s),s}function oz(e,t,n,r,o,i){let s=0,a=0;for(let l=t;l<n;l++){const t=e[l],n=r[t];n?(a||(a=n.layoutHeight),o[l]=s+n.layoutWidth/2,s+=n.layoutWidth):(GE.warn("Missing character: ".concat(t," (").concat(t.codePointAt(0),")"))(),o[l]=s,s+=JB)}i[0]=s,i[1]=a}class iz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this._cache={},this._order=[],this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const sz={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){const e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let az=new iz(3);function lz(e,t){for(let n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function cz(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}class uz{constructor(){this.props={...sz}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:e,buffer:t}=this.props;return(1.2*e+2*t)/e}setProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e),this._key=this._getKey();const t=function(e,t){let n;n="string"===typeof t?new Set(Array.from(t)):new Set(t);const r=az.get(e);if(!r)return n;for(const o in r.mapping)n.has(o)&&n.delete(o);return n}(this._key,this.props.characterSet),n=az.get(this._key);if(n&&0===t.size)return void(this._atlas!==n&&(this._atlas=n));const r=this._generateFontAtlas(t,n);this._atlas=r,az.set(this._key,r)}_generateFontAtlas(e,t){const{fontFamily:n,fontWeight:r,fontSize:o,buffer:i,sdf:s,radius:a,cutoff:l}=this.props;let c=t&&t.data;c||(c=document.createElement("canvas"),c.width=1024);const u=c.getContext("2d",{willReadFrequently:!0});cz(u,n,o,r);const{mapping:d,canvasHeight:h,xOffset:p,yOffset:f}=function(e){let{characterSet:t,getFontWidth:n,fontHeight:r,buffer:o,maxCanvasWidth:i,mapping:s={},xOffset:a=0,yOffset:l=0}=e,c=0,u=a;const d=r+2*o;for(const p of t)if(!s[p]){const e=n(p);u+e+2*o>i&&(u=0,c++),s[p]={x:u+o,y:l+c*d+o,width:e,height:d,layoutWidth:e,layoutHeight:r},u+=e+2*o}return{mapping:s,xOffset:u,yOffset:l+c*d,canvasHeight:(h=l+(c+1)*d,Math.pow(2,Math.ceil(Math.log2(h))))};var h}({getFontWidth:e=>u.measureText(e).width,fontHeight:1.2*o,buffer:i,characterSet:e,maxCanvasWidth:1024,...t&&{mapping:t.mapping,xOffset:t.xOffset,yOffset:t.yOffset}});if(c.height!==h){const e=u.getImageData(0,0,c.width,c.height);c.height=h,u.putImageData(e,0,0)}if(cz(u,n,o,r),s){const t=new ZB({fontSize:o,buffer:i,radius:a,cutoff:l,fontFamily:n,fontWeight:"".concat(r)});for(const n of e){const{data:e,width:r,height:i,glyphTop:s}=t.draw(n);d[n].width=r,d[n].layoutOffsetY=.9*o-s;const a=u.createImageData(r,i);lz(e,a),u.putImageData(a,d[n].x,d[n].y)}}else for(const g of e)u.fillText(g,d[g].x,d[g].y+i+.9*o);return{xOffset:p,yOffset:f,mapping:d,data:c,width:c.width,height:c.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:n,buffer:r,sdf:o,radius:i,cutoff:s}=this.props;return o?"".concat(e," ").concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(s):"".concat(e," ").concat(t," ").concat(n," ").concat(r)}}var dz;const hz={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:e=>e.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class pz extends fB{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME text-background-layer-vertex-shader\nin vec2 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceRects;\nin float instanceSizes;\nin float instanceAngles;\nin vec2 instancePixelOffsets;\nin float instanceLineWidths;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\nout vec4 vFillColor;\nout vec4 vLineColor;\nout float vLineWidth;\nout vec2 uv;\nout vec2 dimensions;\nvec2 rotate_by_angle(vec2 vertex, float angle) {\nfloat angle_radian = radians(angle);\nfloat cos_angle = cos(angle_radian);\nfloat sin_angle = sin(angle_radian);\nmat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\nreturn rotationMatrix * vertex;\n}\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.uv = positions;\ngeometry.pickingColor = instancePickingColors;\nuv = positions;\nvLineWidth = instanceLineWidths;\nfloat sizePixels = clamp(\nproject_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\nsizeMinPixels, sizeMaxPixels\n);\ndimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\nvec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\npixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\npixelOffset += instancePixelOffsets;\npixelOffset.y *= -1.0;\nif (billboard)  {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = vec3(pixelOffset, 0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\nDECKGL_FILTER_SIZE(offset_common, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\nDECKGL_FILTER_COLOR(vFillColor, geometry);\nvLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\nDECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME text-background-layer-fragment-shader\nprecision highp float;\nuniform bool stroked;\nin vec4 vFillColor;\nin vec4 vLineColor;\nin float vLineWidth;\nin vec2 uv;\nin vec2 dimensions;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nvec2 pixelPosition = uv * dimensions;\nif (stroked) {\nfloat distToEdge = min(\nmin(pixelPosition.x, dimensions.x - pixelPosition.x),\nmin(pixelPosition.y, dimensions.y - pixelPosition.y)\n);\nfloat isBorder = smoothedge(distToEdge, vLineWidth);\nfragColor = mix(vFillColor, vLineColor, isBorder);\n} else {\nfragColor = vFillColor;\n}\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[SB,RB]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;var n;t.extensionsChanged&&(null===(n=this.state.model)||void 0===n||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw(e){let{uniforms:t}=e;const{billboard:n,sizeScale:r,sizeUnits:o,sizeMinPixels:i,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]);const c=this.state.model;c.setUniforms(t),c.setUniforms({billboard:n,stroked:Boolean(a),padding:l,sizeUnits:WE[o],sizeScale:r,sizeMinPixels:i,sizeMaxPixels:s}),c.draw(this.context.renderPass)}_getModel(){return new cD(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new TB({topology:"triangle-fan-webgl",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}var fz;(dz=pz).defaultProps=hz,dz.layerName="TextBackgroundLayer";const gz={start:1,middle:0,end:-1},mz={top:1,center:0,bottom:-1},vz=[0,0,0,255],yz={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:vz},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:sz.characterSet},fontFamily:sz.fontFamily,fontWeight:sz.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:vz},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:e=>e.text},getPosition:{type:"accessor",value:e=>e.position},getColor:{type:"accessor",value:vz},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class bz extends AB{constructor(){super(...arguments),this.getBoundingRect=(e,t)=>{let{size:[n,r]}=this.transformParagraph(e,t);const{fontSize:o}=this.state.fontAtlasManager.props;n/=o,r/=o;const{getTextAnchor:i,getAlignmentBaseline:s}=this.props;return[(gz["function"===typeof i?i(e,t):i]-1)*n/2,(mz["function"===typeof s?s(e,t):s]-1)*r/2,n,r]},this.getIconOffsets=(e,t)=>{const{getTextAnchor:n,getAlignmentBaseline:r}=this.props,{x:o,y:i,rowWidth:s,size:[a,l]}=this.transformParagraph(e,t),c=gz["function"===typeof n?n(e,t):n],u=mz["function"===typeof r?r(e,t):r],d=o.length,h=new Array(2*d);let p=0;for(let f=0;f<d;f++){const e=(1-c)*(a-s[f])/2;h[p++]=(c-1)*a/2+e+o[f],h[p++]=(u-1)*l/2+i[f]}return h}}initializeState(){this.state={styleVersion:0,fontAtlasManager:new uz},this.props.maxWidth>0&&GE.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(e){const{props:t,oldProps:n,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText();(this._updateFontAtlas()||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo(e){let{info:t}=e;return t.object=t.index>=0?this.props.data[t.index]:null,t}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:n}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,i={...e,characterSet:o,fontFamily:t,fontWeight:n};if(!r.mapping)return r.setProps(i),!0;for(const s in i)if(i[s]!==r.props[s])return r.setProps(i),!0;return!1}_updateText(){var e;const{data:t,characterSet:n}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let o,{getText:i}=this.props,s=t.startIndices;const a="auto"===n&&new Set;if(r&&s){const{texts:e,characterCount:n}=function(e){let{value:t,length:n,stride:r,offset:o,startIndices:i,characterSet:s}=e;const a=t.BYTES_PER_ELEMENT,l=r?r/a:1,c=o?o/a:0,u=i[n]||Math.ceil((t.length-c)/l),d=s&&new Set,h=new Array(n);let p=t;if(l>1||c>0){p=new(0,t.constructor)(u);for(let e=0;e<u;e++)p[e]=t[e*l+c]}for(let f=0;f<n;f++){const e=i[f],t=i[f+1]||u,n=p.subarray(e,t);h[f]=String.fromCodePoint.apply(null,n),d&&n.forEach(d.add,d)}if(d)for(const f of d)s.add(String.fromCodePoint(f));return{texts:h,characterCount:u}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:a});o=n,i=(t,n)=>{let{index:r}=n;return e[r]}}else{const{iterable:e,objectInfo:n}=mN(t);s=[0],o=0;for(const t of e){n.index++;const e=Array.from(i(t,n)||"");a&&e.forEach(a.add,a),o+=e.length,s.push(o)}}this.setState({getText:i,startIndices:s,numInstances:o,characterSet:a||n})}transformParagraph(e,t){const{fontAtlasManager:n}=this.state,r=n.mapping,o=this.state.getText,{wordBreak:i,lineHeight:s,maxWidth:a}=this.props;return function(e,t,n,r,o){const i=Array.from(e),s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),u=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,d=[0,0],h=[0,0];let p=0,f=0,g=0;for(let v=0;v<=s;v++){const e=i[v];if("\n"!==e&&v!==s||(g=v),g>f){const e=u?rz(i,n,r,o,f,g):ez;for(let n=0;n<=e.length;n++){const r=0===n?f:e[n-1],s=n<e.length?e[n]:g;oz(i,r,s,o,a,h);for(let e=r;e<s;e++){var m;const t=(null===(m=o[i[e]])||void 0===m?void 0:m.layoutOffsetY)||0;l[e]=p+h[1]/2+t,c[e]=h[0]}p+=h[1]*t,d[0]=Math.max(d[0],h[0])}f=g}"\n"===e&&(a[f]=0,l[f]=0,c[f]=0,f++)}return d[1]=p,{x:a,y:l,rowWidth:c,size:d}}(o(e,t)||"",s,i,a*n.props.fontSize,r)}renderLayers(){const{startIndices:e,numInstances:t,getText:n,fontAtlasManager:{scale:r,atlas:o,mapping:i},styleVersion:s}=this.state,{data:a,_dataDiff:l,getPosition:c,getColor:u,getSize:d,getAngle:h,getPixelOffset:p,getBackgroundColor:f,getBorderColor:g,getBorderWidth:m,backgroundPadding:v,background:y,billboard:b,fontSettings:_,outlineWidth:w,outlineColor:x,sizeScale:A,sizeUnits:E,sizeMinPixels:S,sizeMaxPixels:C,transitions:M,updateTriggers:R}=this.props,T=this.getSubLayerClass("characters",KB),P=this.getSubLayerClass("background",pz);return[y&&new P({getFillColor:f,getLineColor:g,getLineWidth:m,padding:v,getPosition:c,getSize:d,getAngle:h,getPixelOffset:p,billboard:b,sizeScale:A,sizeUnits:E,sizeMinPixels:S,sizeMaxPixels:C,transitions:M&&{getPosition:M.getPosition,getAngle:M.getAngle,getSize:M.getSize,getFillColor:M.getBackgroundColor,getLineColor:M.getBorderColor,getLineWidth:M.getBorderWidth,getPixelOffset:M.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:R.getPosition,getAngle:R.getAngle,getSize:R.getSize,getFillColor:R.getBackgroundColor,getLineColor:R.getBorderColor,getLineWidth:R.getBorderWidth,getPixelOffset:R.getPixelOffset,getBoundingRect:{getText:R.getText,getTextAnchor:R.getTextAnchor,getAlignmentBaseline:R.getAlignmentBaseline,styleVersion:s}}}),{data:a.attributes&&a.attributes.background?{length:a.length,attributes:a.attributes.background}:a,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new T({sdf:_.sdf,smoothing:Number.isFinite(_.smoothing)?_.smoothing:sz.smoothing,outlineWidth:w/(_.radius||sz.radius),outlineColor:x,iconAtlas:o,iconMapping:i,getPosition:c,getColor:u,getSize:d,getAngle:h,getPixelOffset:p,billboard:b,sizeScale:A*r,sizeUnits:E,sizeMinPixels:S*r,sizeMaxPixels:C*r,transitions:M&&{getPosition:M.getPosition,getAngle:M.getAngle,getColor:M.getColor,getSize:M.getSize,getPixelOffset:M.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:R.getText,getPosition:R.getPosition,getAngle:R.getAngle,getColor:R.getColor,getSize:R.getSize,getPixelOffset:R.getPixelOffset,getIconOffsets:{getTextAnchor:R.getTextAnchor,getAlignmentBaseline:R.getAlignmentBaseline,styleVersion:s}}}),{data:a,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:n})]}static set fontAtlasCacheLimit(e){!function(e){GE.assert(Number.isFinite(e)&&e>=3,"Invalid cache limit"),az=new iz(e)}(e)}}(fz=bz).defaultProps=yz,fz.layerName="TextLayer";class _z{constructor(e){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:t={}}=e;this.typedArrayManager=RM,this.attributes={},this._attributeDefs=t,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:t,buffers:n={},getGeometry:r,geometryBuffer:o,positionFormat:i,dataChanged:s,normalize:a=!0}=this.opts;if(this.data=t,this.getGeometry=r,this.positionSize=o&&o.size||("XY"===i?2:3),this.buffers=n,this.normalize=a,o&&(pT(t.startIndices),this.getGeometry=this.getGeometryFromBuffer(o),a||(n.vertexPositions=o)),this.geometryBuffer=n.vertexPositions,Array.isArray(s))for(const l of s)this._rebuildGeometry(l);else this._rebuildGeometry()}updatePartialGeometry(e){let{startRow:t,endRow:n}=e;this._rebuildGeometry({startRow:t,endRow:n})}getGeometryFromBuffer(e){const t=e.value||e;return ArrayBuffer.isView(t)?yN(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,t){const{attributes:n,buffers:r,_attributeDefs:o,typedArrayManager:i}=this;for(const s in o)if(s in r)i.release(n[s]),n[s]=null;else{const r=o[s];r.copy=t,n[s]=i.allocate(n[s],e,r)}}_forEachGeometry(e,t,n){const{data:r,getGeometry:o}=this,{iterable:i,objectInfo:s}=mN(r,t,n);for(const a of i){s.index++;e(o?o(a,s):null,s.index)}}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:t,vertexStarts:n,instanceCount:r}=this;const{data:o,geometryBuffer:i}=this,{startRow:s=0,endRow:a=1/0}=e||{},l={};if(e||(t=[0],n=[0]),this.normalize||!i)this._forEachGeometry(((e,t)=>{const r=e&&this.normalizeGeometry(e);l[t]=r,n[t+1]=n[t]+(r?this.getGeometrySize(r):0)}),s,a),r=n[n.length-1];else if(n=o.startIndices,r=n[o.length]||0,ArrayBuffer.isView(i))r=r||i.length/this.positionSize;else if(i instanceof QP){const e=4*this.positionSize;r=r||i.byteLength/e}else if(i.buffer){const e=i.stride||4*this.positionSize;r=r||i.buffer.byteLength/e}else if(i.value){const e=i.value,t=i.stride/e.BYTES_PER_ELEMENT||this.positionSize;r=r||e.length/t}this._allocate(r,Boolean(e)),this.indexStarts=t,this.vertexStarts=n,this.instanceCount=r;const c={};this._forEachGeometry(((e,o)=>{const i=l[o]||e;c.vertexStart=n[o],c.indexStart=t[o];const s=o<n.length-1?n[o+1]:r;c.geometrySize=s-n[o],c.geometryIndex=o,this.updateGeometryAttributes(i,c)}),s,a),this.vertexCount=t[t.length-1]}}const wz=1,xz=-1;function Az(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{start:n=0,end:r=e.length,plane:o="xy"}=t,i=t.size||2;let s=0;const a=Ez[o[0]],l=Ez[o[1]];for(let c=n,u=r-i;c<r;c+=i)s+=(e[c+a]-e[u+a])*(e[c+l]+e[u+l]),u=c;return s/2}(e,t))}(e,n);return r!==t&&(function(e,t){const{start:n=0,end:r=e.length,size:o=2}=t,i=(r-n)/o,s=Math.floor(i/2);for(let a=0;a<s;++a){const t=n+a*o,r=n+(i-1-a)*o;for(let n=0;n<o;++n){const o=e[t+n];e[t+n]=e[r+n],e[r+n]=o}}}(e,n),!0)}const Ez={x:0,y:1,z:2};function Sz(e,t,n,r){let o,i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)o=(r[3]-e[1])/(t[1]-e[1]),i=3;else if(4&n)o=(r[1]-e[1])/(t[1]-e[1]),i=1;else if(2&n)o=(r[2]-e[0])/(t[0]-e[0]),i=2;else{if(!(1&n))return null;o=(r[0]-e[0])/(t[0]-e[0]),i=0}for(let a=0;a<e.length;a++)s[a]=(1&i)===a?r[i]:o*(t[a]-e[a])+e[a];return s}function Cz(e,t){let n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function Mz(e,t){const n=t.length,r=e.length;if(r>0){let o=!0;for(let i=0;i<n;i++)if(e[r-n+i]!==t[i]){o=!1;break}if(o)return!1}for(let o=0;o<n;o++)e[r+o]=t[o];return!0}function Rz(e,t){const n=t.length;for(let r=0;r<n;r++)e[r]=t[r]}function Tz(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const i=r+t*n;for(let s=0;s<n;s++)o[s]=e[i+s];return o}function Pz(e,t){const{size:n=2,broken:r=!1,gridResolution:o=10,gridOffset:i=[0,0],startIndex:s=0,endIndex:a=e.length}=t||{},l=(a-s)/n;let c=[];const u=[c],d=Tz(e,0,n,s);let h,p;const f=Nz(d,o,i,[]),g=[];Mz(c,d);for(let m=1;m<l;m++){for(h=Tz(e,m,n,s,h),p=Cz(h,f);p;){Sz(d,h,p,f,g);const e=Cz(g,f);e&&(Sz(d,g,e,f,g),p=e),Mz(c,g),Rz(d,g),Fz(f,o,p),r&&c.length>n&&(c=[],u.push(c),Mz(c,d)),p=Cz(h,f)}Mz(c,h),Rz(d,h)}return r?u:u[0]}const kz=0,Iz=1;function Oz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];const{size:r=2,gridResolution:o=10,gridOffset:i=[0,0],edgeTypes:s=!1}=n||{},a=[],l=[{pos:e,types:s?new Array(e.length/r).fill(Iz):null,holes:t||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:e,types:t,holes:n}=l.shift();Dz(e,r,n[0]||e.length,c),u=Nz(c[0],o,i,u);const d=Cz(c[1],u);if(d){let o=Lz(e,t,r,0,n[0]||e.length,u,d);const i={pos:o[0].pos,types:o[0].types,holes:[]},a={pos:o[1].pos,types:o[1].types,holes:[]};l.push(i,a);for(let l=0;l<n.length;l++)o=Lz(e,t,r,n[l],n[l+1]||e.length,u,d),o[0]&&(i.holes.push(i.pos.length),i.pos=Bz(i.pos,o[0].pos),s&&(i.types=Bz(i.types,o[0].types))),o[1]&&(a.holes.push(a.pos.length),a.pos=Bz(a.pos,o[1].pos),s&&(a.types=Bz(a.types,o[1].types)))}else{const r={positions:e};s&&(r.edgeTypes=t),n.length&&(r.holeIndices=n),a.push(r)}}return a}function Lz(e,t,n,r,o,i,s){const a=(o-r)/n,l=[],c=[],u=[],d=[],h=[];let p,f,g;const m=Tz(e,a-1,n,r);let v=Math.sign(8&s?m[1]-i[3]:m[0]-i[2]),y=t&&t[a-1],b=0,_=0;for(let w=0;w<a;w++)p=Tz(e,w,n,r,p),f=Math.sign(8&s?p[1]-i[3]:p[0]-i[2]),g=t&&t[r/n+w],f&&v&&v!==f&&(Sz(m,p,s,i,h),Mz(l,h)&&u.push(y),Mz(c,h)&&d.push(y)),f<=0?(Mz(l,p)&&u.push(g),b-=f):u.length&&(u[u.length-1]=kz),f>=0?(Mz(c,p)&&d.push(g),_+=f):d.length&&(d[d.length-1]=kz),Rz(m,p),v=f,y=g;return[b?{pos:l,types:t&&u}:null,_?{pos:c,types:t&&d}:null]}function Nz(e,t,n,r){const o=Math.floor((e[0]-n[0])/t)*t+n[0],i=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=o,r[1]=i,r[2]=o+t,r[3]=i+t,r}function Fz(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function Dz(e,t,n,r){let o=1/0,i=-1/0,s=1/0,a=-1/0;for(let l=0;l<n;l+=t){const t=e[l],n=e[l+1];o=t<o?t:o,i=t>i?t:i,s=n<s?n:s,a=n>a?n:a}return r[0][0]=o,r[0][1]=s,r[1][0]=i,r[1][1]=a,r}function Bz(e,t){for(let n=0;n<t.length;n++)e.push(t[n]);return e}const zz=85.051129;function jz(e,t,n,r){let o=-1,i=-1;for(let s=n+1;s<r;s+=t){const t=Math.abs(e[s]);t>o&&(o=t,i=s-1)}return i}function Uz(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zz;const i=e[n],s=e[r-t];if(Math.abs(i-s)>180){const r=Tz(e,0,t,n);r[0]+=360*Math.round((s-i)/360),Mz(e,r),r[1]=Math.sign(r[1])*o,Mz(e,r),r[0]=i,Mz(e,r)}}function Gz(e,t,n,r){let o,i=e[0];for(let s=n;s<r;s+=t){o=e[s];const t=o-i;(t>180||t<-180)&&(o-=360*Math.round(t/360)),e[s]=i=o}}function Hz(e,t){let n;const r=e.length/t;for(let i=0;i<r&&(n=e[i*t],(n+180)%360===0);i++);const o=360*-Math.round(n/360);if(0!==o)for(let i=0;i<r;i++)e[i*t]+=o}function Vz(e,t,n,r){let o;if(Array.isArray(e[0])){const n=e.length*t;o=new Array(n);for(let r=0;r<e.length;r++)for(let n=0;n<t;n++)o[r*t+n]=e[r][n]||0}else o=e;return n?Pz(o,{size:t,gridResolution:n}):r?function(e,t){const{size:n=2,startIndex:r=0,endIndex:o=e.length,normalize:i=!0}=t||{},s=e.slice(r,o);Gz(s,n,0,o-r);const a=Pz(s,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(i)for(const l of a)Hz(l,n);return a}(o,{size:t}):o}class Wz extends _z{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?Vz(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(Xz(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&Xz(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),{vertexStart:o,geometrySize:i}=t;n.fill(0,o,o+i),r?(n[o]=4,n[o+i-2]=4):(n[o]+=1,n[o+i-2]+=2),n[o+i-1]=4}_updatePositions(e,t){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:r,geometrySize:o}=t,i=new Array(3);for(let s=r,a=0;a<o;s++,a++)this.getPointOnPath(e,a,i),n[3*s]=i[0],n[3*s+1]=i[1],n[3*s+2]=i[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{positionSize:r}=this;t*r>=e.length&&(t+=1-e.length/r);const o=t*r;return n[0]=e[o],n[1]=e[o+1],n[2]=3===r&&e[o+2]||0,n}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}function Xz(e){return Array.isArray(e[0])}var qz;const Kz=[0,0,0,255],Yz={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:e=>e.path},getColor:{type:"accessor",value:Kz},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Zz={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class Qz extends fB{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME path-layer-vertex-shader\nin vec2 positions;\nin float instanceTypes;\nin vec3 instanceStartPositions;\nin vec3 instanceEndPositions;\nin vec3 instanceLeftPositions;\nin vec3 instanceRightPositions;\nin vec3 instanceLeftPositions64Low;\nin vec3 instanceStartPositions64Low;\nin vec3 instanceEndPositions64Low;\nin vec3 instanceRightPositions64Low;\nin float instanceStrokeWidths;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\nuniform float opacity;\nout vec4 vColor;\nout vec2 vCornerOffset;\nout float vMiterLength;\nout vec2 vPathPosition;\nout float vPathLength;\nout float vJointType;\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\nfloat flipIfTrue(bool flag) {\nreturn -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\nvec3 prevPoint, vec3 currPoint, vec3 nextPoint,\nvec2 width\n) {\nbool isEnd = positions.x > 0.0;\nfloat sideOfPath = positions.y;\nfloat isJoint = float(sideOfPath == 0.0);\nvec3 deltaA3 = (currPoint - prevPoint);\nvec3 deltaB3 = (nextPoint - currPoint);\nmat3 rotationMatrix;\nbool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\nif (needsRotation) {\ndeltaA3 = deltaA3 * rotationMatrix;\ndeltaB3 = deltaB3 * rotationMatrix;\n}\nvec2 deltaA = deltaA3.xy / width;\nvec2 deltaB = deltaB3.xy / width;\nfloat lenA = length(deltaA);\nfloat lenB = length(deltaB);\nvec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\nvec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\nvec2 perpA = vec2(-dirA.y, dirA.x);\nvec2 perpB = vec2(-dirB.y, dirB.x);\nvec2 tangent = dirA + dirB;\ntangent = length(tangent) > 0. ? normalize(tangent) : perpA;\nvec2 miterVec = vec2(-tangent.y, tangent.x);\nvec2 dir = isEnd ? dirA : dirB;\nvec2 perp = isEnd ? perpA : perpB;\nfloat L = isEnd ? lenA : lenB;\nfloat sinHalfA = abs(dot(miterVec, perp));\nfloat cosHalfA = abs(dot(dirA, miterVec));\nfloat turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\nfloat cornerPosition = sideOfPath * turnDirection;\nfloat miterSize = 1.0 / max(sinHalfA, EPSILON);\nmiterSize = mix(\nmin(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\nmiterSize,\nstep(0.0, cornerPosition)\n);\nvec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n* (sideOfPath + isJoint * turnDirection);\nbool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\nbool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\nbool isCap = isStartCap || isEndCap;\nif (isCap) {\noffsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\nvJointType = capType;\n} else {\nvJointType = jointType;\n}\nvPathLength = L;\nvCornerOffset = offsetVec;\nvMiterLength = dot(vCornerOffset, miterVec * turnDirection);\nvMiterLength = isCap ? isJoint : vMiterLength;\nvec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\nvPathPosition = vec2(\ndot(offsetFromStartOfPath, perp),\ndot(offsetFromStartOfPath, dir)\n);\ngeometry.uv = vPathPosition;\nfloat isValid = step(instanceTypes, 3.5);\nvec3 offset = vec3(offsetVec * width * isValid, 0.0);\nif (needsRotation) {\noffset = rotationMatrix * offset;\n}\nreturn offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\nif (position.w < EPSILON) {\nfloat r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\nposition = refPosition + (position - refPosition) * r;\n}\n}\nvoid main() {\ngeometry.pickingColor = instancePickingColors;\nvColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\nfloat isEnd = positions.x;\nvec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\nvec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\nvec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\nvec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\nvec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\nvec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\ngeometry.worldPosition = currPosition;\nvec2 widthPixels = vec2(clamp(\nproject_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels) / 2.0);\nvec3 width;\nif (billboard) {\nvec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\nvec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\nvec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\nclipLine(prevPositionScreen, currPositionScreen);\nclipLine(nextPositionScreen, currPositionScreen);\nclipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\nwidth = vec3(widthPixels, 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(\nprevPositionScreen.xyz / prevPositionScreen.w,\ncurrPositionScreen.xyz / currPositionScreen.w,\nnextPositionScreen.xyz / nextPositionScreen.w,\nproject_pixel_size_to_clipspace(width.xy)\n);\nDECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\ngl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n} else {\nprevPosition = project_position(prevPosition, prevPosition64Low);\ncurrPosition = project_position(currPosition, currPosition64Low);\nnextPosition = project_position(nextPosition, nextPosition64Low);\nwidth = vec3(project_pixel_size(widthPixels), 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\ngeometry.position = vec4(currPosition + offset, 1.0);\ngl_Position = project_common_position_to_clipspace(geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME path-layer-fragment-shader\nprecision highp float;\nuniform float miterLimit;\nin vec4 vColor;\nin vec2 vCornerOffset;\nin float vMiterLength;\nin vec2 vPathPosition;\nin float vPathLength;\nin float vJointType;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = vPathPosition;\nif (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\nif (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\ndiscard;\n}\nif (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\ndiscard;\n}\n}\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[SB,RB]})}get wrapLongitude(){return!1}getBounds(){var e;return null===(e=this.getAttributeManager())||void 0===e?void 0:e.getBounds(["vertexPositions"])}initializeState(){const e=!0;this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:Zz,accessor:"getPath",update:this.calculatePositions,noAlloc:e,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:e},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Zz,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:Zz,defaultValue:Kz},instancePickingColors:{size:4,type:"uint8",accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(e&&e.__source?e.__source.index:n,r)}}}),this.setState({pathTesselator:new Wz({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:n}=e,r=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:e}=this.state,o=t.data.attributes||{};e.updateGeometry({data:t.data,geometryBuffer:o.getPath,buffers:o,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),n.dataChanged||r.invalidateAll()}var o;n.extensionsChanged&&(null===(o=this.state.model)||void 0===o||o.destroy(),this.state.model=this._getModel(),r.invalidateAll())}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,r=this.props.data;return r[0]&&r[0].__source&&(t.object=r.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const t=this.props.data;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw(e){let{uniforms:t}=e;const{jointRounded:n,capRounded:r,billboard:o,miterLimit:i,widthUnits:s,widthScale:a,widthMinPixels:l,widthMaxPixels:c}=this.props,u=this.state.model;u.setUniforms(t),u.setUniforms({jointType:Number(n),capType:Number(r),billboard:o,widthUnits:WE[s],widthScale:a,miterLimit:i,widthMinPixels:l,widthMaxPixels:c}),u.draw(this.context.renderPass)}_getModel(){return new cD(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new TB({topology:"triangle-list",attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}(qz=Qz).defaultProps=Yz,qz.layerName="PathLayer";const $z="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\nstruct AmbientLight {\nvec3 color;\n};\nstruct PointLight {\nvec3 color;\nvec3 position;\nvec3 attenuation;\n};\nstruct DirectionalLight {\nvec3 color;\nvec3 direction;\n};\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\nuniform bool lighting_uEnabled;\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\nreturn pointLight.attenuation.x\n+ pointLight.attenuation.y * distance\n+ pointLight.attenuation.z * distance * distance;\n}\n#endif\n",Jz={lightSources:{}};function ej(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t=[0,0,0],intensity:n=1}=e;return t.map((e=>e*n/255))}const tj={name:"lights",vs:$z,fs:$z,getUniforms:function e(){var t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jz;if("lightSources"in r){const{ambientLight:e,pointLights:t,directionalLights:n}=r.lightSources||{};return e||t&&t.length>0||n&&n.length>0?Object.assign({},function(e){let{ambientLight:t,pointLights:n=[],directionalLights:r=[]}=e;const o={};return o["lighting_uAmbientLight.color"]=t?ej(t):[0,0,0],n.forEach(((e,t)=>{o["lighting_uPointLight[".concat(t,"].color")]=ej(e),o["lighting_uPointLight[".concat(t,"].position")]=e.position,o["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),o.lighting_uPointLightCount=n.length,r.forEach(((e,t)=>{o["lighting_uDirectionalLight[".concat(t,"].color")]=ej(e),o["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),o.lighting_uDirectionalLightCount=r.length,o}({ambientLight:e,pointLights:t,directionalLights:n}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in r){const o={pointLights:[],directionalLights:[]};for(const e of r.lights||[])switch(e.type){case"ambient":o.ambientLight=e;break;case"directional":null===(t=o.directionalLights)||void 0===t||t.push(e);break;case"point":null===(n=o.pointLights)||void 0===n||n.push(e)}return e({lightSources:o})}return{}},defines:{MAX_LIGHTS:3}},nj="uniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\nvec3 halfway_direction = normalize(light_direction + view_direction);\nfloat lambertian = dot(light_direction, normal_worldspace);\nfloat specular = 0.0;\nif (lambertian > 0.0) {\nfloat specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\nspecular = pow(specular_angle, lighting_uShininess);\n}\nlambertian = max(lambertian, 0.0);\nreturn (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = surfaceColor;\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nlightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = vec3(0, 0, 0);\nvec3 surfaceColor = vec3(0, 0, 0);\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\n",rj={};function oj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rj;if(!("material"in e))return{};const{material:t}=e;return t?function(e){const{ambient:t=.35,diffuse:n=.6,shininess:r=32,specularColor:o=[30,30,30]}=e;return{lighting_uAmbient:t,lighting_uDiffuse:n,lighting_uShininess:r,lighting_uSpecularColor:o.map((e=>e/255))}}(t):{lighting_uEnabled:!1}}const ij={name:"gouraud-lighting",dependencies:[tj],vs:nj,defines:{LIGHTING_VERTEX:1},getUniforms:oj};var sj=n(1232);const aj=wz,lj=xz,cj={isClosed:!0};function uj(e){return"positions"in e?e.positions:e}function dj(e){return"holeIndices"in e?e.holeIndices:null}function hj(e,t,n,r,o){let i=t;const s=n.length;for(let a=0;a<s;a++)for(let t=0;t<r;t++)e[i++]=n[a][t]||0;if(!function(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(let a=0;a<r;a++)e[i++]=n[0][a]||0;return cj.start=t,cj.end=i,cj.size=r,Az(e,o,cj),i}function pj(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;i=i||n.length;const a=i-o;if(a<=0)return t;let l=t;for(let c=0;c<a;c++)e[l++]=n[o+c];if(!function(e,t,n,r){for(let o=0;o<t;o++)if(e[n+o]!==e[r-t+o])return!1;return!0}(n,r,o,i))for(let c=0;c<r;c++)e[l++]=n[o+c];return cj.start=t,cj.end=l,cj.size=r,Az(e,s,cj),l}function fj(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);const n=[],r=[];if("positions"in e){const{positions:o,holeIndices:i}=e;if(i){let e=0;for(let s=0;s<=i.length;s++)e=pj(n,e,o,t,i[s-1],i[s],0===s?aj:lj),r.push(e);return r.pop(),{positions:n,holeIndices:r}}e=o}if(!function(e){return Array.isArray(e[0])}(e))return pj(n,0,e,t,0,n.length,aj),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){let o=0;for(const[i,s]of e.entries())o=hj(n,o,s,t,0===i?aj:lj),r.push(o);return r.pop(),{positions:n,holeIndices:r}}return hj(n,0,e,t,aj),n}function gj(e,t,n){const r=e.length/3;let o=0;for(let i=0;i<r;i++){const s=(i+1)%r;o+=e[3*i+t]*e[3*s+n],o-=e[3*s+t]*e[3*i+n]}return Math.abs(o/2)}function mj(e,t,n,r){const o=e.length/3;for(let i=0;i<o;i++){const o=3*i,s=e[o+0],a=e[o+1],l=e[o+2];e[o+t]=s,e[o+n]=a,e[o+r]=l}}class vj extends _z{constructor(e){const{fp64:t,IndexType:n=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:t?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:n,size:1}}})}get(e){const{attributes:t}=this;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}updateGeometry(e){super.updateGeometry(e);const t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const t=fj(e,this.positionSize);return this.opts.resolution?Oz(uj(t),dj(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;const{size:r=2,normalize:o=!0,edgeTypes:i=!1}=n||{};t=t||[];const s=[],a=[];let l=0,c=0;for(let d=0;d<=t.length;d++){const o=t[d]||e.length,i=c,u=jz(e,r,l,o);for(let t=u;t<o;t++)s[c++]=e[t];for(let t=l;t<u;t++)s[c++]=e[t];Gz(s,r,i,c),Uz(s,r,i,c,null===n||void 0===n?void 0:n.maxLatitude),l=o,a[d]=c}a.pop();const u=Oz(s,a,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:i});if(o)for(const d of u)Hz(d.positions,r);return u}(uj(t),dj(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}getGeometrySize(e){if(yj(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}return uj(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,t){if(e&&yj(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e,t.indexStart=this.indexStarts[t.geometryIndex+1]}else{const n=e;this._updateIndices(n,t),this._updatePositions(n,t),this._updateVertexValid(n,t)}}_updateIndices(e,t){let{geometryIndex:n,vertexStart:r,indexStart:o}=t;const{attributes:i,indexStarts:s,typedArrayManager:a}=this;let l=i.indices;if(!l||!e)return;let c=o;const u=function(e,t,n,r){let o=dj(e);o&&(o=o.map((e=>e/t)));let i=uj(e);const s=r&&3===t;if(n){const e=i.length;i=i.slice();const r=[];for(let o=0;o<e;o+=t){r[0]=i[o],r[1]=i[o+1],s&&(r[2]=i[o+2]);const e=n(r);i[o]=e[0],i[o+1]=e[1],s&&(i[o+2]=e[2])}}if(s){const e=gj(i,0,1),t=gj(i,0,2),r=gj(i,1,2);if(!e&&!t&&!r)return[];e>t&&e>r||(t>r?(n||(i=i.slice()),mj(i,0,2,1)):(n||(i=i.slice()),mj(i,2,0,1)))}return sj(i,o,t)}(e,this.positionSize,this.opts.preproject,this.opts.full3d);l=a.allocate(l,o+u.length,{copy:!0});for(let d=0;d<u.length;d++)l[c++]=u[d]+r;s[n+1]=o+u.length,i.indices=l}_updatePositions(e,t){let{vertexStart:n,geometrySize:r}=t;const{attributes:{positions:o},positionSize:i}=this;if(!o||!e)return;const s=uj(e);for(let a=n,l=0;l<r;a++,l++){const e=s[l*i],t=s[l*i+1],n=i>2?s[l*i+2]:0;o[3*a]=e,o[3*a+1]=t,o[3*a+2]=n}}_updateVertexValid(e,t){let{vertexStart:n,geometrySize:r}=t;const{positionSize:o}=this,i=this.attributes.vertexValid,s=e&&dj(e);if(e&&e.edgeTypes?i.set(e.edgeTypes,n):i.fill(1,n,n+r),s)for(let a=0;a<s.length;a++)i[n+s[a]/o-1]=0;i[n+r-1]=0}}function yj(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}const bj="uniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\nout vec4 vColor;\nstruct PolygonProps {\nvec4 fillColors;\nvec4 lineColors;\nvec3 positions;\nvec3 positions64Low;\nvec3 pickingColors;\nvec3 normal;\nfloat elevations;\n};\nvec3 project_offset_normal(vec3 vector) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\nproject_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\nreturn normalize(vector * project_uCommonUnitsPerWorldUnit);\n}\nreturn project_normal(vector);\n}\nvoid calculatePosition(PolygonProps props) {\nvec3 pos = props.positions;\nvec3 pos64Low = props.positions64Low;\nvec3 normal = props.normal;\nvec4 colors = isWireframe ? props.lineColors : props.fillColors;\ngeometry.worldPosition = props.positions;\ngeometry.pickingColor = props.pickingColors;\nif (extruded) {\npos.z += props.elevations * elevationScale;\n}\ngl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nif (extruded) {\n#ifdef IS_SIDE_VERTEX\nnormal = project_offset_normal(normal);\n#else\nnormal = project_normal(normal);\n#endif\ngeometry.normal = normal;\nvec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, colors.a * opacity);\n} else {\nvColor = vec4(colors.rgb, colors.a * opacity);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",_j="#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader\nin vec3 vertexPositions;\nin vec3 vertexPositions64Low;\nin float elevations;\nin vec4 fillColors;\nin vec4 lineColors;\nin vec3 pickingColors;\n".concat(bj,"\nvoid main(void) {\nPolygonProps props;\nprops.positions = vertexPositions;\nprops.positions64Low = vertexPositions64Low;\nprops.elevations = elevations;\nprops.fillColors = fillColors;\nprops.lineColors = lineColors;\nprops.pickingColors = pickingColors;\nprops.normal = vec3(0.0, 0.0, 1.0);\ncalculatePosition(props);\n}\n"),wj="#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\nin vec2 positions;\nin vec3 instancePositions;\nin vec3 instanceNextPositions;\nin vec3 instancePositions64Low;\nin vec3 instanceNextPositions64Low;\nin float instanceElevations;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nin float instanceVertexValid;\n".concat(bj,"\nvoid main(void) {\nif(instanceVertexValid < 0.5){\ngl_Position = vec4(0.);\nreturn;\n}\nPolygonProps props;\nvec3 pos;\nvec3 pos64Low;\nvec3 nextPos;\nvec3 nextPos64Low;\n#if RING_WINDING_ORDER_CW == 1\npos = instancePositions;\npos64Low = instancePositions64Low;\nnextPos = instanceNextPositions;\nnextPos64Low = instanceNextPositions64Low;\n#else\npos = instanceNextPositions;\npos64Low = instanceNextPositions64Low;\nnextPos = instancePositions;\nnextPos64Low = instancePositions64Low;\n#endif\nprops.positions = mix(pos, nextPos, positions.x);\nprops.positions64Low = mix(pos64Low, nextPos64Low, positions.x);\nprops.normal = vec3(\npos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),\nnextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),\n0.0);\nprops.elevations = instanceElevations * positions.y;\nprops.fillColors = instanceFillColors;\nprops.lineColors = instanceLineColors;\nprops.pickingColors = instancePickingColors;\ncalculatePosition(props);\n}\n");var xj;const Aj=[0,0,0,255],Ej={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:e=>e.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Aj},getLineColor:{type:"accessor",value:Aj},material:!0},Sj={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class Cj extends fB{getShaders(e){return super.getShaders({vs:"top"===e?_j:wj,fs:"#version 300 es\n#define SHADER_NAME solid-polygon-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[SB,ij,RB]})}get wrapLongitude(){return!1}getBounds(){var e;return null===(e=this.getAttributeManager())||void 0===e?void 0:e.getBounds(["vertexPositions"])}initializeState(){const{viewport:e}=this.context;let{coordinateSystem:t}=this.props;const{_full3d:n}=this.props;let r;e.isGeospatial&&t===HE.DEFAULT&&(t=HE.LNGLAT),t===HE.LNGLAT&&(r=n?e.projectPosition.bind(e):e.projectFlat.bind(e)),this.setState({numInstances:0,polygonTesselator:new vj({preproject:r,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const o=this.getAttributeManager(),i=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:i},vertexPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:Sj,accessor:"getPolygon",update:this.calculatePositions,noAlloc:i,shaderAttributes:{instancePositions:{vertexOffset:0,divisor:1},instanceNextPositions:{vertexOffset:1,divisor:1}}},instanceVertexValid:{size:1,type:"uint16",divisor:1,update:this.calculateVertexValid,noAlloc:i},elevations:{size:1,transition:Sj,accessor:"getElevation",shaderAttributes:{instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:"unorm8",transition:Sj,accessor:"getFillColor",defaultValue:Aj,shaderAttributes:{instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:"unorm8",transition:Sj,accessor:"getLineColor",defaultValue:Aj,shaderAttributes:{instanceLineColors:{divisor:1}}},pickingColors:{size:4,type:"uint8",accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(e&&e.__source?e.__source.index:n,r)},shaderAttributes:{instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,r=this.props.data;return r[0]&&r[0].__source&&(t.object=r.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const t=this.props.data;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw(e){let{uniforms:t}=e;const{extruded:n,filled:r,wireframe:o,elevationScale:i}=this.props,{topModel:s,sideModel:a,wireframeModel:l,polygonTesselator:c}=this.state,u={...t,extruded:Boolean(n),elevationScale:i};l&&o&&(l.setInstanceCount(c.instanceCount-1),l.setUniforms(u),l.draw(this.context.renderPass)),a&&r&&(a.setInstanceCount(c.instanceCount-1),a.setUniforms(u),a.draw(this.context.renderPass)),s&&r&&(s.setVertexCount(c.vertexCount),s.setUniforms(u),s.draw(this.context.renderPass))}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:t,oldProps:n,changeFlags:r}=e,o=this.getAttributeManager();var i;(r.extensionsChanged||t.filled!==n.filled||t.extruded!==n.extruded)&&(null===(i=this.state.models)||void 0===i||i.forEach((e=>e.destroy())),this.setState(this._getModels()),o.invalidateAll())}updateGeometry(e){let{props:t,oldProps:n,changeFlags:r}=e;if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon)){const{polygonTesselator:e}=this.state,n=t.data.attributes||{};e.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:n.getPolygon,buffers:n,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:r.dataChanged,full3d:t._full3d}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),r.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:e,filled:t,extruded:n}=this.props;let r,o,i;const s=this.getAttributeManager().getBufferLayouts();if(t){const t=this.getShaders("top");t.defines.NON_INSTANCED_MODEL=1,r=new cD(this.context.device,{...t,id:"".concat(e,"-top"),topology:"triangle-list",uniforms:{isWireframe:!1},bufferLayout:s,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}return n&&(o=new cD(this.context.device,{...this.getShaders("side"),id:"".concat(e,"-side"),bufferLayout:s,uniforms:{isWireframe:!1},geometry:new TB({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),i=new cD(this.context.device,{...this.getShaders("side"),id:"".concat(e,"-wireframe"),bufferLayout:s,uniforms:{isWireframe:!0},geometry:new TB({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})),{models:[o,i,r].filter(Boolean),topModel:r,sideModel:o,wireframeModel:i}}calculateIndices(e){const{polygonTesselator:t}=this.state;e.startIndices=t.indexStarts,e.value=t.get("indices")}calculatePositions(e){const{polygonTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}(xj=Cj).defaultProps=Ej,xj.layerName="SolidPolygonLayer";const Mj={circle:{type:VB,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:jB,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:bz,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},Rj={type:Qz,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},Tj={type:Cj,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function Pj(e){let{type:t,props:n}=e;const r={};for(const o in n)r[o]=t.defaultProps[n[o]];return r}function kj(e,t){const{transitions:n,updateTriggers:r}=e.props,o={updateTriggers:{},transitions:n&&{getPosition:n.geometry}};for(const i in t){const s=t[i];let a=e.props[i];i.startsWith("get")&&(a=e.getSubLayerAccessor(a),o.updateTriggers[s]=r[i],n&&(o.transitions[s]=n[i])),o[s]=a}return o}function Ij(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:o=0,endRow:i=e.length}=n;for(let s=o;s<i;s++){const n=e[s],{geometry:o}=n;if(o)if("GeometryCollection"===o.type){GE.assert(Array.isArray(o.geometries),"GeoJSON does not have geometries array");const{geometries:e}=o;for(let o=0;o<e.length;o++){Oj(e[o],r,t,n,s)}}else Oj(o,r,t,n,s)}return r}function Oj(e,t,n,r,o){const{type:i,coordinates:s}=e,{pointFeatures:a,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=t;if(function(e,t){let n=Lj[e];GE.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(i,s))switch(i){case"Point":a.push(n({geometry:e},r,o));break;case"MultiPoint":s.forEach((e=>{a.push(n({geometry:{type:"Point",coordinates:e}},r,o))}));break;case"LineString":l.push(n({geometry:e},r,o));break;case"MultiLineString":s.forEach((e=>{l.push(n({geometry:{type:"LineString",coordinates:e}},r,o))}));break;case"Polygon":c.push(n({geometry:e},r,o)),s.forEach((e=>{u.push(n({geometry:{type:"LineString",coordinates:e}},r,o))}));break;case"MultiPolygon":s.forEach((e=>{c.push(n({geometry:{type:"Polygon",coordinates:e}},r,o)),e.forEach((e=>{u.push(n({geometry:{type:"LineString",coordinates:e}},r,o))}))}))}else GE.warn("".concat(i," coordinates are malformed"))()}const Lj={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function Nj(e){return e.geometry.coordinates}function Fj(e,t){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:r,lines:o,polygons:i}=e,s=function(e,t){const n={points:null,lines:null,polygons:null};for(const r in n){const o=e[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*o.length);const i=[];for(let e=0;e<o.length;e++)t(o[e],i),n[r][3*e+0]=i[0],n[r][3*e+1]=i[1],n[r][3*e+2]=i[2]}return n}(e,t);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:{...r.attributes,getPosition:r.positions,instancePickingColors:{size:3,value:s.points}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:o.pathIndices.value.length-1,startIndices:o.pathIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:s.lines}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.lines._pathType="open",n.polygons.data={length:i.polygonIndices.value.length-1,startIndices:i.polygonIndices.value,attributes:{...i.attributes,getPolygon:i.positions,pickingColors:{size:3,value:s.polygons}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.polygons._normalize=!1,i.triangles&&(n.polygons.data.attributes.indices=i.triangles.value),n.polygonsOutline.data={length:i.primitivePolygonIndices.value.length-1,startIndices:i.primitivePolygonIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:3,value:s.polygons}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.polygonsOutline._pathType="open",n}var Dj;const Bj=["points","linestrings","polygons"],zj={...Pj(Mj.circle),...Pj(Mj.icon),...Pj(Mj.text),...Pj(Rj),...Pj(Tj),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:e=>e.properties.icon},getText:{type:"accessor",value:e=>e.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class jj extends AB{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState(e){let{props:t,changeFlags:n}=e;if(!n.dataChanged)return;const{data:r}=this.props,o=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:o}),o?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}_updateStateBinary(e){let{props:t,changeFlags:n}=e;const r=Fj(t.data,this.encodePickingColor);this.setState({layerProps:r})}_updateStateJSON(e){let{props:t,changeFlags:n}=e;const r=function(e){if(Array.isArray(e))return e;switch(GE.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return GE.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),o=this.getSubLayerRow.bind(this);let i={};const s={};if(Array.isArray(n.dataChanged)){const e=this.state.features;for(const t in e)i[t]=e[t].slice(),s[t]=[];for(const t of n.dataChanged){const n=Ij(r,o,t);for(const r in e)s[r].push(EB({data:i[r],getIndex:e=>e.__source.index,dataRange:t,replace:n[r]}))}}else i=Ij(r,o);const a=function(e,t){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:r,lineFeatures:o,polygonFeatures:i,polygonOutlineFeatures:s}=e;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&(()=>t.pointFeatures),n.points.getPosition=Nj,n.lines.data=o,n.lines._dataDiff=t.lineFeatures&&(()=>t.lineFeatures),n.lines.getPath=Nj,n.polygons.data=i,n.polygons._dataDiff=t.polygonFeatures&&(()=>t.polygonFeatures),n.polygons.getPolygon=Nj,n.polygonsOutline.data=s,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&(()=>t.polygonOutlineFeatures),n.polygonsOutline.getPath=Nj,n}(i,s);this.setState({features:i,featuresDiff:s,layerProps:a})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n,sourceLayer:r}=t;return t.featureType=Bj.find((e=>r.id.startsWith("".concat(this.id,"-").concat(e,"-")))),n>=0&&r.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(t.index=this.props.data.points.globalFeatureIds.value[n]),t}_updateAutoHighlight(e){const t="".concat(this.id,"-points-"),n="points"===e.featureType;for(const r of this.getSubLayers())r.id.startsWith(t)===n&&r.updateAutoHighlight(e)}_renderPolygonLayer(){var e;const{extruded:t,wireframe:n}=this.props,{layerProps:r}=this.state,o="polygons-fill",i=this.shouldRenderSubLayer(o,null===(e=r.polygons)||void 0===e?void 0:e.data)&&this.getSubLayerClass(o,Tj.type);if(i){const e=kj(this,Tj.props),s=t&&n;return s||delete e.getLineColor,e.updateTriggers.lineColors=s,new i(e,this.getSubLayerProps({id:o,updateTriggers:e.updateTriggers}),r.polygons)}return null}_renderLineLayers(){var e,t;const{extruded:n,stroked:r}=this.props,{layerProps:o}=this.state,i="polygons-stroke",s="linestrings",a=!n&&r&&this.shouldRenderSubLayer(i,null===(e=o.polygonsOutline)||void 0===e?void 0:e.data)&&this.getSubLayerClass(i,Rj.type),l=this.shouldRenderSubLayer(s,null===(t=o.lines)||void 0===t?void 0:t.data)&&this.getSubLayerClass(s,Rj.type);if(a||l){const e=kj(this,Rj.props);return[a&&new a(e,this.getSubLayerProps({id:i,updateTriggers:e.updateTriggers}),o.polygonsOutline),l&&new l(e,this.getSubLayerProps({id:s,updateTriggers:e.updateTriggers}),o.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:t,binary:n}=this.state;let{highlightedObjectIndex:r}=this.props;!n&&Number.isFinite(r)&&(r=t.points.data.findIndex((e=>e.__source.index===r)));const o=new Set(e.split("+")),i=[];for(const a of o){var s;const e="points-".concat(a),o=Mj[a],l=o&&this.shouldRenderSubLayer(e,null===(s=t.points)||void 0===s?void 0:s.data)&&this.getSubLayerClass(e,o.type);if(l){const s=kj(this,o.props);let c=t.points;if("text"===a&&n){const{instancePickingColors:e,...t}=c.data.attributes;c={...c,data:{...c.data,attributes:t}}}i.push(new l(s,this.getSubLayerProps({id:e,updateTriggers:s.updateTriggers,highlightedObjectIndex:r}),c))}}return i}renderLayers(){const{extruded:e}=this.props,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}getSubLayerAccessor(e){const{binary:t}=this.state;return t&&"function"===typeof e?(t,n)=>{const{data:r,index:o}=n,i=function(e,t){if(!e)return null;const n="startIndices"in e?e.startIndices[t]:t,r=e.featureIds.value[n];return-1!==n?function(e,t,n){const r={properties:{...e.properties[t]}};for(const o in e.numericProps)r.properties[o]=e.numericProps[o].value[n];return r}(e,r,n):null}(r,o);return e(i,n)}:super.getSubLayerAccessor(e)}}(Dj=jj).layerName="GeoJsonLayer",Dj.defaultProps=zj;const Uj={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0};class Gj{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};NA(this,"props",void 0),NA(this,"stats",void 0),NA(this,"activeRequestCount",0),NA(this,"requestQueue",[]),NA(this,"requestMap",new Map),NA(this,"updateTimer",null),this.props={...Uj,...e},this.stats=new XS({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>0;if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const n={handle:e,priority:0,getPriority:t},r=new Promise((e=>(n.resolve=e,n)));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}_issueRequest(e){const{handle:t,resolve:n}=e;let r=!1;const o=()=>{r||(r=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout((()=>this._issueNewRequestsAsync()),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(let t=0;t<e;++t){const e=this.requestQueue.shift();e&&this._issueRequest(e)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort(((e,t)=>e.priority-t.priority))}_updateRequest(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}class Hj{constructor(e){this.index=e,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}get bbox(){return this._bbox}set bbox(e){this._bbox||(this._bbox=e,this.boundingBox="west"in e?[[e.west,e.south],[e.east,e.north]]:[[e.left,e.top],[e.right,e.bottom]])}get data(){return this.isLoading&&this._loader?this._loader.then((()=>this.data)):this.content}get isLoaded(){return this._isLoaded&&!this._needsReload}get isLoading(){return Boolean(this._loader)&&!this._isCancelled}get needsReload(){return this._needsReload||this._isCancelled}get byteLength(){const e=this.content?this.content.byteLength:0;return Number.isFinite(e)||console.error("byteLength not defined in tile data"),e}async _loadData(e){let{getData:t,requestScheduler:n,onLoad:r,onError:o}=e;const{index:i,id:s,bbox:a,userData:l,zoom:c}=this,u=this._loaderId;this._abortController=new AbortController;const{signal:d}=this._abortController,h=await n.scheduleRequest(this,(e=>e.isSelected?1:-1));if(!h)return void(this._isCancelled=!0);if(this._isCancelled)return void h.done();let p,f=null;try{f=await t({index:i,id:s,bbox:a,userData:l,zoom:c,signal:d})}catch($X){p=$X||!0}finally{h.done()}u===this._loaderId&&(this._loader=void 0,this.content=f,!this._isCancelled||f?(this._isLoaded=!0,this._isCancelled=!1,p?o(p,this):r(this)):this._isLoaded=!1)}loadData(e){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(e),this._loader}setNeedsReload(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}abort(){var e;this.isLoaded||(this._isCancelled=!0,null===(e=this._abortController)||void 0===e||e.abort())}}const Vj=Math.PI/180,Wj=180/Math.PI,Xj=6370972,qj=256;function Kj(){const e=4018225162502676e-20,t=Math.PI/180*qj;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,24886.609375]}}class Yj extends QR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{latitude:t=0,longitude:n=0,zoom:r=0,nearZMultiplier:o=.1,farZMultiplier:i=2,resolution:s=10}=e;let{height:a,altitude:l=1.5}=e;a=a||1,l=Math.max(.75,l);const c=(new mR).lookAt({eye:[0,-l,0],up:[0,0,1]}),u=Math.pow(2,r);c.rotateX(t*Vj),c.rotateZ(-n*Vj),c.scale(u/a);const d=Math.atan(.5/l),h=512*u/a;super({...e,height:a,viewMatrix:c,longitude:n,latitude:t,zoom:r,distanceScales:Kj(),fovyRadians:2*d,focalDistance:l,near:o,far:Math.min(2,1/h+1)*l*i}),this.latitude=t,this.longitude=n,this.resolution=s}get projectionMode(){return VE.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(){const e={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},t=this.unproject([0,this.height/2],e),n=this.unproject([this.width/2,0],e),r=this.unproject([this.width,this.height/2],e),o=this.unproject([this.width/2,this.height],e);return r[0]<this.longitude&&(r[0]+=360),t[0]>this.longitude&&(t[0]-=360),[Math.min(t[0],r[0],n[0],o[0]),Math.min(t[1],r[1],n[1],o[1]),Math.max(t[0],r[0],n[0],o[0]),Math.max(t[1],r[1],n[1],o[1])]}unproject(e){let{topLeft:t=!0,targetZ:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,o,i]=e,s=t?o:this.height-o,{pixelUnprojectionMatrix:a}=this;let l;if(Number.isFinite(i))l=Zj(a,[r,s,i,1]);else{const e=Zj(a,[r,s,-1,1]),t=Zj(a,[r,s,1,1]),o=((n||0)/Xj+1)*qj,i=ZM(KM([],e,t)),c=ZM(e),u=ZM(t),d=4*((4*c*u-(i-c-u)**2)/16)/i;l=function(e,t,n,r){const o=t[0],i=t[1],s=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=s+r*(n[2]-s),e}([],e,t,(Math.sqrt(c-d)-Math.sqrt(Math.max(0,o*o-d)))/Math.sqrt(i))}const[c,u,d]=this.unprojectPosition(l);return Number.isFinite(i)?[c,u,d]:Number.isFinite(n)?[c,u,n]:[c,u]}projectPosition(e){const[t,n,r=0]=e,o=t*Vj,i=n*Vj,s=Math.cos(i),a=(r/Xj+1)*qj;return[Math.sin(o)*s*a,-Math.cos(o)*s*a,Math.sin(i)*a]}unprojectPosition(e){const[t,n,r]=e,o=YM(e),i=Math.asin(r/o);return[Math.atan2(t,-n)*Wj,i*Wj,(o/qj-1)*Xj]}projectFlat(e){return e}unprojectFlat(e){return e}panByPosition(e,t){const n=this.unproject(t);return{longitude:e[0]-n[0]+this.longitude,latitude:e[1]-n[1]+this.latitude}}}function Zj(e,t){const n=nS([],t,e);return JE(n,n,1/n[3]),n}const Qj=-1,$j=0,Jj=1,eU=new tR,tU=new tR;class nU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2?arguments[2]:void 0;n=n||eU.copy(e).add(t).scale(.5),this.center=new tR(n),this.halfDiagonal=new tR(t).subtract(this.center),this.minimum=new tR(e),this.maximum=new tR(t)}clone(){return new nU(this.minimum,this.maximum,this.center)}equals(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}transform(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}intersectPlane(e){const{halfDiagonal:t}=this,n=tU.from(e.normal),r=t.x*Math.abs(n.x)+t.y*Math.abs(n.y)+t.z*Math.abs(n.z),o=this.center.dot(n)+e.distance;return o-r>0?Jj:o+r<0?Qj:$j}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=eU.from(e).subtract(this.center),{halfDiagonal:n}=this;let r,o=0;return r=Math.abs(t.x)-n.x,r>0&&(o+=r*r),r=Math.abs(t.y)-n.y,r>0&&(o+=r*r),r=Math.abs(t.z)-n.z,r>0&&(o+=r*r),o}}const rU=new tR,oU=new tR;class iU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.radius=-0,this.center=new tR,this.fromCenterRadius(e,t)}fromCenterRadius(e,t){return this.center.from(e),this.radius=t,this}fromCornerPoints(e,t){return t=rU.from(t),this.center=(new tR).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}clone(){return new iU(this.center,this.radius)}union(e){const t=this.center,n=this.radius,r=e.center,o=e.radius,i=rU.copy(r).subtract(t),s=i.magnitude();if(n>=s+o)return this.clone();if(o>=s+n)return e.clone();const a=.5*(n+s+o);return oU.copy(i).scale((-n+a)/s).add(t),this.center.copy(oU),this.radius=a,this}expand(e){const t=rU.from(e).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}transform(e){this.center.transform(e);const t=cS(rU,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}distanceSquaredTo(e){const t=this.distanceTo(e);return t*t}distanceTo(e){const t=rU.from(e).subtract(this.center);return Math.max(0,t.len()-this.radius)}intersectPlane(e){const t=this.center,n=this.radius,r=e.normal.dot(t)+e.distance;return r<-n?Qj:r<n?$j:Jj}}function sU(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],g=n[3],m=n[4],v=n[5],y=n[6],b=n[7],_=n[8];return e[0]=h*r+p*s+f*c,e[1]=h*o+p*a+f*u,e[2]=h*i+p*l+f*d,e[3]=g*r+m*s+v*c,e[4]=g*o+m*a+v*u,e[5]=g*i+m*l+v*d,e[6]=y*r+b*s+_*c,e[7]=y*o+b*a+_*u,e[8]=y*i+b*l+_*d,e}function aU(e,t,n){const r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}var lU;!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"}(lU||(lU={}));const cU=Object.freeze([1,0,0,0,1,0,0,0,1]);class uU extends aR{static get IDENTITY(){return function(){pU||(pU=new uU,Object.freeze(pU));return pU}()}static get ZERO(){return function(){dU||(dU=new uU([0,0,0,0,0,0,0,0,0]),Object.freeze(dU));return dU}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return lU}constructor(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):n.length>0?this.copy([e,...n]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(cU)}fromObject(e){return this.check()}fromQuaternion(e){return function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],s=n+n,a=r+r,l=o+o,c=n*s,u=r*s,d=r*a,h=o*s,p=o*a,f=o*l,g=i*s,m=i*a,v=i*l;e[0]=1-d-f,e[3]=u-v,e[6]=h+m,e[1]=u+v,e[4]=1-c-f,e[7]=p-g,e[2]=h-m,e[5]=p+g,e[8]=1-c-d}(this,e),this.check()}set(e,t,n,r,o,i,s,a,l){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=o,this[5]=i,this[6]=s,this[7]=a,this[8]=l,this.check()}setRowMajor(e,t,n,r,o,i,s,a,l){return this[0]=e,this[1]=r,this[2]=s,this[3]=t,this[4]=o,this[5]=a,this[6]=n,this[7]=i,this[8]=l,this.check()}determinant(){return function(e){const t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*(c*i-s*l)+n*(-c*o+s*a)+r*(l*o-i*a)}(this)}transpose(){return function(e,t){if(e===t){const n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]}(this,this),this.check()}invert(){return function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*s-a*c,h=-u*i+a*l,p=c*i-s*l;let f=n*d+r*h+o*p;f&&(f=1/f,e[0]=d*f,e[1]=(-u*r+o*c)*f,e[2]=(a*r-o*s)*f,e[3]=h*f,e[4]=(u*n-o*l)*f,e[5]=(-a*n+o*i)*f,e[6]=p*f,e[7]=(-c*n+r*l)*f,e[8]=(s*n-r*i)*f)}(this,this),this.check()}multiplyLeft(e){return sU(this,e,this),this.check()}multiplyRight(e){return sU(this,this,e),this.check()}rotate(e){return function(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(n),p=Math.cos(n);e[0]=p*r+h*s,e[1]=p*o+h*a,e[2]=p*i+h*l,e[3]=p*s-h*r,e[4]=p*a-h*o,e[5]=p*l-h*i,e[6]=c,e[7]=u,e[8]=d}(this,this,e),this.check()}scale(e){return Array.isArray(e)?aU(this,this,e):aU(this,this,[e,e]),this.check()}translate(e){return function(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1];e[0]=r,e[1]=o,e[2]=i,e[3]=s,e[4]=a,e[5]=l,e[6]=h*r+p*s+c,e[7]=h*o+p*a+u,e[8]=h*i+p*l+d}(this,this,e),this.check()}transform(e,t){let n;switch(e.length){case 2:n=function(e,t,n){const r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}(t||[-0,-0],e,this);break;case 3:n=XM(t||[-0,-0,-0],e,this);break;case 4:n=$M(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return BM(n,e.length),n}transformVector(e,t){return this.transform(e,t)}transformVector2(e,t){return this.transform(e,t)}transformVector3(e,t){return this.transform(e,t)}}let dU,hU,pU=null;class fU extends jM{static get ZERO(){return hU||(hU=new fU(0,0,0,0),Object.freeze(hU)),hU}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(-0,-0,-0,-0),kM(e)&&1===arguments.length?this.copy(e):(TM.debug&&(DM(e),DM(t),DM(n),DM(r)),this[0]=e,this[1]=t,this[2]=n,this[3]=r)}set(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return TM.debug&&(DM(e.x),DM(e.y),DM(e.z),DM(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=DM(e)}get w(){return this[3]}set w(e){this[3]=DM(e)}transform(e){return WM(this,this,e),this.check()}transformByMatrix3(e){return $M(this,this,e),this.check()}transformByMatrix2(e){return function(e,t,n){const r=t[0],o=t[1];e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e[2]=t[2],e[3]=t[3]}(this,this,e),this.check()}transformByQuaternion(e){return qM(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function gU(){const e=new $E(4);return $E!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function mU(e,t,n){n*=.5;const r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function vU(e,t,n){const r=t[0],o=t[1],i=t[2],s=t[3],a=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+s*a+o*c-i*l,e[1]=o*u+s*l+i*a-r*c,e[2]=i*u+s*c+r*l-o*a,e[3]=s*u-r*a-o*l-i*c,e}function yU(e,t,n,r){const o=t[0],i=t[1],s=t[2],a=t[3];let l,c,u,d,h,p=n[0],f=n[1],g=n[2],m=n[3];return l=o*p+i*f+s*g+a*m,l<0&&(l=-l,p=-p,f=-f,g=-g,m=-m),1-l>QE?(c=Math.acos(l),h=Math.sin(c),u=Math.sin((1-r)*c)/h,d=Math.sin(r*c)/h):(u=1-r,d=r),e[0]=u*o+d*p,e[1]=u*i+d*f,e[2]=u*s+d*g,e[3]=u*a+d*m,e}function bU(e,t){const n=t[0]+t[4]+t[8];let r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);const o=(n+1)%3,i=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*o+o]-t[3*i+i]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*o+i]-t[3*i+o])*r,e[o]=(t[3*o+n]+t[3*n+o])*r,e[i]=(t[3*i+n]+t[3*n+i])*r}return e}const _U=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},wU=JE,xU=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},AU=function(e,t,n,r){const o=t[0],i=t[1],s=t[2],a=t[3];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=s+r*(n[2]-s),e[3]=a+r*(n[3]-a),e},EU=eS,SU=tS,CU=function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3];let s=n*n+r*r+o*o+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=o*s,e[3]=i*s,e};const MU=function(){const e=UM(),t=GM(1,0,0),n=GM(0,1,0);return function(r,o,i){const s=HM(o,i);return s<-.999999?(VM(e,t,o),YM(e)<1e-6&&VM(e,n,o),function(e,t){const n=t[0],r=t[1],o=t[2];let i=n*n+r*r+o*o;i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i}(e,e),mU(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(VM(e,o,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,CU(r,r))}}(),RU=(function(){const e=gU(),t=gU()}(),function(){const e=function(){const e=new $E(9);return $E!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}()}(),[0,0,0,1]);class TU extends FM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,n,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return bU(this,e),this.check()}fromAxisRotation(e,t){return mU(this,e,t),this.check()}identity(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=DM(e)}get y(){return this[1]}set y(e){this[1]=DM(e)}get z(){return this[2]}set z(e){this[2]=DM(e)}get w(){return this[3]}set w(e){this[3]=DM(e)}len(){return EU(this)}lengthSquared(){return SU(this)}dot(e){return xU(this,e)}rotationTo(e,t){return MU(this,e,t),this.check()}add(e){return _U(this,this,e),this.check()}calculateW(){return function(e,t){const n=t[0],r=t[1],o=t[2];e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o))}(this,this),this.check()}conjugate(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}invert(){return function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],s=n*n+r*r+o*o+i*i,a=s?1/s:0;e[0]=-n*a,e[1]=-r*a,e[2]=-o*a,e[3]=i*a}(this,this),this.check()}lerp(e,t,n){return void 0===n?this.lerp(this,e,t):(AU(this,e,t,n),this.check())}multiplyRight(e){return vU(this,this,e),this.check()}multiplyLeft(e){return vU(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l+s*a,e[1]=o*l+i*a,e[2]=i*l-o*a,e[3]=s*l-r*a}(this,this,e),this.check()}rotateY(e){return function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l-i*a,e[1]=o*l+s*a,e[2]=i*l+r*a,e[3]=s*l-o*a}(this,this,e),this.check()}rotateZ(e){return function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),l=Math.cos(n);e[0]=r*l+o*a,e[1]=o*l-r*a,e[2]=i*l+s*a,e[3]=s*l-i*a}(this,this,e),this.check()}scale(e){return wU(this,this,e),this.check()}slerp(e,t,n){let r,o,i;switch(arguments.length){case 1:({start:r=RU,target:o,ratio:i}=e);break;case 2:r=this,o=e,i=t;break;default:r=e,o=t,i=n}return yU(this,r,o,i),this.check()}transformVector4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fU;return function(e,t,n){const r=t[0],o=t[1],i=t[2],s=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*i-l*o,d=c*o+l*r-s*i,h=c*i+s*o-a*r,p=-s*r-a*o-l*i;e[0]=u*c+p*-s+d*-l-h*-a,e[1]=d*c+p*-a+h*-s-u*-l,e[2]=h*c+p*-l+u*-a-d*-s,e[3]=t[3]}(t,e,this),BM(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}}const PU=new tR,kU=new tR,IU=new tR,OU=new tR,LU=new tR,NU=new tR,FU=new tR,DU=0,BU=1,zU=2,jU=3,UU=4,GU=5,HU=6,VU=7,WU=8;class XU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];this.center=(new tR).from(e),this.halfAxes=new uU(t)}get halfSize(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new tR(e).len(),new tR(t).len(),new tR(n).len()]}get quaternion(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new tR(e).normalize(),o=new tR(t).normalize(),i=new tR(n).normalize();return(new TU).fromMatrix3(new uU([...r,...o,...i]))}fromCenterHalfSizeQuaternion(e,t,n){const r=new TU(n),o=(new uU).fromQuaternion(r);return o[0]=o[0]*t[0],o[1]=o[1]*t[0],o[2]=o[2]*t[0],o[3]=o[3]*t[1],o[4]=o[4]*t[1],o[5]=o[5]*t[1],o[6]=o[6]*t[2],o[7]=o[7]*t[2],o[8]=o[8]*t[2],this.center=(new tR).from(e),this.halfAxes=o,this}clone(){return new XU(this.center,this.halfAxes)}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}getBoundingSphere(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iU;const t=this.halfAxes,n=t.getColumn(0,IU),r=t.getColumn(1,OU),o=t.getColumn(2,LU),i=PU.copy(n).add(r).add(o);return e.center.copy(this.center),e.radius=i.magnitude(),e}intersectPlane(e){const t=this.center,n=e.normal,r=this.halfAxes,o=n.x,i=n.y,s=n.z,a=Math.abs(o*r[DU]+i*r[BU]+s*r[zU])+Math.abs(o*r[jU]+i*r[UU]+s*r[GU])+Math.abs(o*r[HU]+i*r[VU]+s*r[WU]),l=n.dot(t)+e.distance;return l<=-a?Qj:l>=a?Jj:$j}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=kU.from(e).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,IU),o=n.getColumn(1,OU),i=n.getColumn(2,LU),s=r.magnitude(),a=o.magnitude(),l=i.magnitude();r.normalize(),o.normalize(),i.normalize();let c,u=0;return c=Math.abs(t.dot(r))-s,c>0&&(u+=c*c),c=Math.abs(t.dot(o))-a,c>0&&(u+=c*c),c=Math.abs(t.dot(i))-l,c>0&&(u+=c*c),u}computePlaneDistances(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const i=this.center,s=this.halfAxes,a=s.getColumn(0,IU),l=s.getColumn(1,OU),c=s.getColumn(2,LU),u=NU.copy(a).add(l).add(c).add(i),d=FU.copy(u).subtract(e);let h=t.dot(d);return r=Math.min(h,r),o=Math.max(h,o),u.copy(i).add(a).add(l).subtract(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),u.copy(i).add(a).subtract(l).add(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),u.copy(i).add(a).subtract(l).subtract(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(u).subtract(a).add(l).add(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(u).subtract(a).add(l).subtract(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(u).subtract(a).subtract(l).add(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),i.copy(u).subtract(a).subtract(l).subtract(c),d.copy(u).subtract(e),h=t.dot(d),r=Math.min(h,r),o=Math.max(h,o),n[0]=r,n[1]=o,n}transform(e){this.center.transformAsPoint(e);const t=this.halfAxes.getColumn(0,IU);t.transformAsPoint(e);const n=this.halfAxes.getColumn(1,OU);n.transformAsPoint(e);const r=this.halfAxes.getColumn(2,LU);return r.transformAsPoint(e),this.halfAxes=new uU([...t,...n,...r]),this}getTransform(){throw new Error("not implemented")}}const qU=new tR,KU=new tR;class YU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.normal=new tR,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return zM(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=qU.from(e),this.normal.from(t).normalize();const n=-this.normal.dot(e);return this.distance=n,this}fromCoefficients(e,t,n,r){return this.normal.set(e,t,n),zM(LM(this.normal.len(),1)),this.distance=r,this}clone(){return new YU(this.normal,this.distance)}equals(e){return LM(this.distance,e.distance)&&LM(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=KU.copy(this.normal).transformAsVector(e).normalize(),n=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(n,t)}projectPointOntoPlane(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const n=qU.from(e),r=this.getPointDistance(n),o=KU.copy(this.normal).scale(r);return n.subtract(o).to(t)}}const ZU=[new tR([1,0,0]),new tR([0,1,0]),new tR([0,0,1])],QU=new tR,$U=new tR;class JU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.planes=e}fromBoundingSphere(e){this.planes.length=2*ZU.length;const t=e.center,n=e.radius;let r=0;for(const o of ZU){let e=this.planes[r],i=this.planes[r+1];e||(e=this.planes[r]=new YU),i||(i=this.planes[r+1]=new YU);const s=QU.copy(o).scale(-n).add(t);e.fromPointNormal(s,o);const a=QU.copy(o).scale(n).add(t),l=$U.copy(o).negate();i.fromPointNormal(a,l),r+=2}return this}computeVisibility(e){let t=Jj;for(const n of this.planes){switch(e.intersectPlane(n)){case Qj:return Qj;case $j:t=$j}}return t}computeVisibilityWithPlaneMask(e,t){if(zM(Number.isFinite(t),"parentPlaneMask is required."),t===JU.MASK_OUTSIDE||t===JU.MASK_INSIDE)return t;let n=JU.MASK_INSIDE;const r=this.planes;for(let o=0;o<this.planes.length;++o){const i=o<31?1<<o:0;if(o<31&&0===(t&i))continue;const s=r[o],a=e.intersectPlane(s);if(a===Qj)return JU.MASK_OUTSIDE;a===$j&&(n|=i)}return n}}JU.MASK_OUTSIDE=4294967295,JU.MASK_INSIDE=0,JU.MASK_INDETERMINATE=2147483647;new tR,new tR,new tR,new tR,new tR;new tR,new tR,new tR,new tR,new tR,new tR,new tR,new tR,new tR,new tR,new tR,new tR;const eG=1e-15,tG=1e-20,nG=(Math.PI,Math.PI,Math.PI,Math.PI,new uU),rG=new uU,oG=new uU,iG=new uU,sG=new uU;function aG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=tG;let r=0,o=0;const i=rG,s=oG;i.identity(),s.copy(e);const a=n*function(e){let t=0;for(let n=0;n<9;++n){const r=e[n];t+=r*r}return Math.sqrt(t)}(s);for(;o<10&&uG(s)>a;)dG(s,iG),sG.copy(iG).transpose(),s.multiplyRight(iG),s.multiplyLeft(sG),i.multiplyRight(iG),++r>2&&(++o,r=0);return t.unitary=i.toTarget(t.unitary),t.diagonal=s.toTarget(t.diagonal),t}const lG=[1,0,0],cG=[2,2,1];function uG(e){let t=0;for(let n=0;n<3;++n){const r=e[nG.getElementIndex(cG[n],lG[n])];t+=2*r*r}return Math.sqrt(t)}function dG(e,t){const n=eG;let r=0,o=1;for(let c=0;c<3;++c){const t=Math.abs(e[nG.getElementIndex(cG[c],lG[c])]);t>r&&(o=c,r=t)}const i=lG[o],s=cG[o];let a=1,l=0;if(Math.abs(e[nG.getElementIndex(s,i)])>n){const t=(e[nG.getElementIndex(s,s)]-e[nG.getElementIndex(i,i)])/2/e[nG.getElementIndex(s,i)];let n;n=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),a=1/Math.sqrt(1+n*n),l=n*a}return uU.IDENTITY.to(t),t[nG.getElementIndex(i,i)]=t[nG.getElementIndex(s,s)]=a,t[nG.getElementIndex(s,i)]=l,t[nG.getElementIndex(i,s)]=-l,t}const hG=new tR,pG=new tR,fG=new tR,gG=new tR,mG=new tR,vG=new uU,yG={diagonal:new uU,unitary:new uU};const bG=512,_G=3,wG=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],xG=wG.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),AG=xG.concat([[.25,.5],[.75,.5]]);class EG{constructor(e,t,n){this.x=e,this.y=t,this.z=n}get children(){if(!this._children){const e=2*this.x,t=2*this.y,n=this.z+1;this._children=[new EG(e,t,n),new EG(e,t+1,n),new EG(e+1,t,n),new EG(e+1,t+1,n)]}return this._children}update(e){const{viewport:t,cullingVolume:n,elevationBounds:r,minZ:o,maxZ:i,bounds:s,offset:a,project:l}=e,c=this.getBoundingVolume(r,a,l);if(s&&!this.insideBounds(s))return!1;if(n.computeVisibility(c)<0)return!1;if(!this.childVisible){let{z:e}=this;if(e<i&&e>=o){const n=c.distanceTo(t.cameraPosition)*t.scale/t.height;e+=Math.floor(Math.log2(n))}if(e>=i)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;for(const u of this.children)u.update(e);return!0}getSelected(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&e.push(this),this._children)for(const t of this._children)t.getSelected(e);return e}insideBounds(e){let[t,n,r,o]=e;const i=Math.pow(2,this.z),s=bG/i;return this.x*s<r&&this.y*s<o&&(this.x+1)*s>t&&(this.y+1)*s>n}getBoundingVolume(e,t,n){if(n){const t=this.z<1?AG:this.z<2?xG:wG,r=[];for(const o of t){const t=OG(this.x+o[0],this.y+o[1],this.z);t[2]=e[0],r.push(n(t)),e[0]!==e[1]&&(t[2]=e[1],r.push(n(t)))}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new XU;if(!e||0===e.length)return t.halfAxes=new uU([0,0,0,0,0,0,0,0,0]),t.center=new tR,t;const n=e.length,r=new tR(0,0,0);for(const S of e)r.add(S);const o=1/n;r.multiplyByScalar(o);let i=0,s=0,a=0,l=0,c=0,u=0;for(const S of e){const e=hG.copy(S).subtract(r);i+=e.x*e.x,s+=e.x*e.y,a+=e.x*e.z,l+=e.y*e.y,c+=e.y*e.z,u+=e.z*e.z}i*=o,s*=o,a*=o,l*=o,c*=o,u*=o;const d=vG;d[0]=i,d[1]=s,d[2]=a,d[3]=s,d[4]=l,d[5]=c,d[6]=a,d[7]=c,d[8]=u;const{unitary:h}=aG(d,yG),p=t.halfAxes.copy(h);let f=p.getColumn(0,fG),g=p.getColumn(1,gG),m=p.getColumn(2,mG),v=-Number.MAX_VALUE,y=-Number.MAX_VALUE,b=-Number.MAX_VALUE,_=Number.MAX_VALUE,w=Number.MAX_VALUE,x=Number.MAX_VALUE;for(const S of e)hG.copy(S),v=Math.max(hG.dot(f),v),y=Math.max(hG.dot(g),y),b=Math.max(hG.dot(m),b),_=Math.min(hG.dot(f),_),w=Math.min(hG.dot(g),w),x=Math.min(hG.dot(m),x);f=f.multiplyByScalar(.5*(_+v)),g=g.multiplyByScalar(.5*(w+y)),m=m.multiplyByScalar(.5*(x+b)),t.center.copy(f).add(g).add(m);const A=pG.set(v-_,y-w,b-x).multiplyByScalar(.5),E=new uU([A[0],0,0,0,A[1],0,0,0,A[2]]);return t.halfAxes.multiplyRight(E),t}(r)}const r=Math.pow(2,this.z),o=bG/r,i=this.x*o+t*bG,s=bG-(this.y+1)*o;return new nU([i,s,e[0]],[i+o,s+o,e[1]])}}const SG=512,CG=[-1/0,-1/0,1/0,1/0],MG={type:"object",value:null,validate:(e,t)=>t.optional&&null===e||"string"===typeof e||Array.isArray(e)&&e.every((e=>"string"===typeof e)),equal:(e,t)=>{if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}};function RG(e,t){const n=[t.transformAsPoint([e[0],e[1]]),t.transformAsPoint([e[2],e[1]]),t.transformAsPoint([e[0],e[3]]),t.transformAsPoint([e[2],e[3]])];return[Math.min(...n.map((e=>e[0]))),Math.min(...n.map((e=>e[1]))),Math.max(...n.map((e=>e[0]))),Math.max(...n.map((e=>e[1])))]}function TG(e,t){if(!e||!e.length)return null;const{index:n,id:r}=t;if(Array.isArray(e)){e=e[(o=r,Math.abs(o.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0))%e.length)]}var o;let i=e;for(const s of Object.keys(n)){const e=new RegExp("{".concat(s,"}"),"g");i=i.replace(e,String(n[s]))}return Number.isInteger(n.y)&&Number.isInteger(n.z)&&(i=i.replace(/\{-y\}/g,String(Math.pow(2,n.z)-n.y-1))),i}function PG(e){let{viewport:t,z:n,cullRect:r}=e;return(t.subViewports||[t]).map((e=>kG(e,n||0,r)))}function kG(e,t,n){if(!Array.isArray(t)){const r=n.x-e.x,o=n.y-e.y,{width:i,height:s}=n,a={targetZ:t},l=e.unproject([r,o],a),c=e.unproject([r+i,o],a),u=e.unproject([r,o+s],a),d=e.unproject([r+i,o+s],a);return[Math.min(l[0],c[0],u[0],d[0]),Math.min(l[1],c[1],u[1],d[1]),Math.max(l[0],c[0],u[0],d[0]),Math.max(l[1],c[1],u[1],d[1])]}const r=kG(e,t[0],n),o=kG(e,t[1],n);return[Math.min(r[0],o[0]),Math.min(r[1],o[1]),Math.max(r[2],o[2]),Math.max(r[3],o[3])]}function IG(e,t){return Math.pow(2,e)*SG/t}function OG(e,t,n){const r=IG(n,SG),o=e/r*360-180,i=Math.PI-2*Math.PI*t/r;return[o,180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)))]}function LG(e,t,n,r){const o=IG(n,r);return[e/o*SG,t/o*SG]}function NG(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SG;if(e.isGeospatial){const[e,o]=OG(t,n,r),[i,s]=OG(t+1,n+1,r);return{west:e,north:o,east:i,south:s}}const[i,s]=LG(t,n,r,o),[a,l]=LG(t+1,n+1,r,o);return{left:i,top:s,right:a,bottom:l}}function FG(e,t,n,r,o){const i=function(e,t,n){let r;if(t&&2===t.length){const[n,o]=t,i=e.getBounds({z:n}),s=e.getBounds({z:o});r=[Math.min(i[0],s[0]),Math.min(i[1],s[1]),Math.max(i[2],s[2]),Math.max(i[3],s[3])]}else r=e.getBounds();return e.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}(e,null,r),s=IG(t,n),[a,l,c,u]=function(e,t,n){if(n)return RG(e,n).map((e=>e*t/SG));return e.map((e=>e*t/SG))}(i,s,o),d=[];for(let h=Math.floor(a);h<c;h++)for(let e=Math.floor(l);e<u;e++)d.push({x:h,y:e,z:t});return d}function DG(e){let{viewport:t,maxZoom:n,minZoom:r,zRange:o,extent:i,tileSize:s=SG,modelMatrix:a,modelMatrixInverse:l,zoomOffset:c=0}=e,u=t.isGeospatial?Math.round(t.zoom+Math.log2(SG/s))+c:Math.ceil(t.zoom)+c;if("number"===typeof r&&Number.isFinite(r)&&u<r){if(!i)return[];u=r}"number"===typeof n&&Number.isFinite(n)&&u>n&&(u=n);let d=i;return a&&l&&i&&!t.isGeospatial&&(d=RG(i,a)),t.isGeospatial?function(e,t,n,r){const o=e instanceof Yj&&e.resolution?e.projectPosition:null,i=Object.values(e.getFrustumPlanes()).map((e=>{let{normal:t,distance:n}=e;return new YU(t.clone().negate(),n)})),s=new JU(i),a=e.distanceScales.unitsPerMeter[2],l=n&&n[0]*a||0,c=n&&n[1]*a||0,u=e instanceof iT&&e.pitch<=60?t:0;if(r){const[e,t,n,o]=r,i=OR([e,o]),s=OR([n,t]);r=[i[0],bG-i[1],s[0],bG-s[1]]}const d=new EG(0,0,0),h={viewport:e,project:o,cullingVolume:s,elevationBounds:[l,c],minZ:u,maxZ:t,bounds:r,offset:0};if(d.update(h),e instanceof iT&&e.subViewports&&e.subViewports.length>1){for(h.offset=-1;d.update(h)&&!(--h.offset<-_G););for(h.offset=1;d.update(h)&&!(++h.offset>_G););}return d.getSelected()}(t,u,o,i):FG(t,u,s,d||CG,l)}function BG(e,t){if(e===t)return!0;if(Array.isArray(e)){const n=e.length;if(!t||t.length!==n)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}const zG=2,jG="never",UG="no-overlap",GG="best-available",HG={[GG]:function(e){for(const t of e)t.state=0;for(const t of e)t.isSelected&&!WG(t)&&XG(t);for(const t of e)t.isVisible=Boolean(t.state&zG)},[UG]:function(e){for(const n of e)n.state=0;for(const n of e)n.isSelected&&WG(n);const t=Array.from(e).sort(((e,t)=>e.zoom-t.zoom));for(const n of t)if(n.isVisible=Boolean(n.state&zG),n.children&&(n.isVisible||1&n.state))for(const e of n.children)e.state=1;else n.isSelected&&XG(n)},[jG]:()=>{}},VG={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,debounceTime:0,zoomOffset:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{}};function WG(e){let t=e;for(;t;){if(t.isLoaded||t.content)return t.state|=zG,!0;t=t.parent}return!1}function XG(e){for(const t of e.children)t.isLoaded||t.content?t.state|=zG:XG(t)}var qG;const KG={TilesetClass:class{constructor(e){this._getCullBounds=function(e){let t,n={};return r=>{for(const o in r)if(!BG(r[o],n[o])){t=e(r),n=r;break}return t}}(PG),this.opts={...VG,...e},this.setOptions(this.opts),this.onTileLoad=e=>{var t,n;null===(t=(n=this.opts).onTileLoad)||void 0===t||t.call(n,e),this.opts.maxCacheByteSize&&(this._cacheByteSize+=e.byteLength,this._resizeCache())},this._requestScheduler=new Gj({throttleRequests:this.opts.maxRequests>0||this.opts.debounceTime>0,maxRequests:this.opts.maxRequests,debounceTime:this.opts.debounceTime}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._zRange=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new mR,this._modelMatrixInverse=new mR}get tiles(){return this._tiles}get selectedTiles(){return this._selectedTiles}get isLoaded(){return null!==this._selectedTiles&&this._selectedTiles.every((e=>e.isLoaded))}get needsReload(){return null!==this._selectedTiles&&this._selectedTiles.some((e=>e.needsReload))}setOptions(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}finalize(){for(const e of this._cache.values())e.isLoading&&e.abort();this._cache.clear(),this._tiles=[],this._selectedTiles=null}reloadAll(){for(const e of this._cache.keys()){const t=this._cache.get(e);this._selectedTiles&&this._selectedTiles.includes(t)?t.setNeedsReload():this._cache.delete(e)}}update(e){let{zRange:t,modelMatrix:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{zRange:null,modelMatrix:null};const r=n?new mR(n):new mR,o=!r.equals(this._modelMatrix);if(this._viewport&&e.equals(this._viewport)&&LM(this._zRange,t)&&!o)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((e=>this._getTile(e.index,!0))));else{o&&(this._modelMatrixInverse=r.clone().invert(),this._modelMatrix=r),this._viewport=e,this._zRange=t;const n=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:t,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=n.map((e=>this._getTile(e,!0))),this._dirty&&this._rebuildTree()}const i=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),i&&this._frameNumber++,this._frameNumber}isTileVisible(e,t){if(!e.isVisible)return!1;if(t&&this._viewport){const n=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:t}),{bbox:r}=e;for(const[e,t,o,i]of n){let n;if("west"in r)n=r.west<o&&r.east>e&&r.south<i&&r.north>t;else{const s=Math.min(r.top,r.bottom),a=Math.max(r.top,r.bottom);n=r.left<o&&r.right>e&&s<i&&a>t}if(n)return!0}return!1}return!0}getTileIndices(e){let{viewport:t,maxZoom:n,minZoom:r,zRange:o,modelMatrix:i,modelMatrixInverse:s}=e;const{tileSize:a,extent:l,zoomOffset:c}=this.opts;return DG({viewport:t,maxZoom:n,minZoom:r,zRange:o,tileSize:a,extent:l,modelMatrix:i,modelMatrixInverse:s,zoomOffset:c})}getTileId(e){return"".concat(e.x,"-").concat(e.y,"-").concat(e.z)}getTileZoom(e){return e.z}getTileMetadata(e){const{tileSize:t}=this.opts;return{bbox:NG(this._viewport,e.x,e.y,e.z,t)}}getParentIndex(e){return{x:Math.floor(e.x/2),y:Math.floor(e.y/2),z:e.z-1}}updateTileStates(){const e=this.opts.refinementStrategy||GG,t=new Array(this._cache.size);let n=0;for(const r of this._cache.values())t[n++]=r.isVisible,r.isSelected=!1,r.isVisible=!1;for(const r of this._selectedTiles)r.isSelected=!0,r.isVisible=!0;("function"===typeof e?e:HG[e])(Array.from(this._cache.values())),n=0;for(const r of this._cache.values())if(t[n++]!==r.isVisible)return!0;return!1}_pruneRequests(){const{maxRequests:e=0}=this.opts,t=[];let n=0;for(const r of this._cache.values())r.isLoading&&(n++,r.isSelected||r.isVisible||t.push(r));for(;e>0&&n>e&&t.length>0;){t.shift().abort(),n--}}_rebuildTree(){const{_cache:e}=this;for(const t of e.values())t.parent=null,t.children&&(t.children.length=0);for(const t of e.values()){const e=this._getNearestAncestor(t);t.parent=e,null!==e&&void 0!==e&&e.children&&e.children.push(t)}}_resizeCache(){const{_cache:e,opts:t}=this,n=t.maxCacheSize||(t.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=t.maxCacheByteSize||1/0;if(e.size>n||this._cacheByteSize>r){for(const[s,a]of e){var o,i;if(!a.isVisible&&!a.isSelected)this._cacheByteSize-=t.maxCacheByteSize?a.byteLength:0,e.delete(s),null===(o=(i=this.opts).onTileUnload)||void 0===o||o.call(i,a);if(e.size<=n&&this._cacheByteSize<=r)break}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort(((e,t)=>e.zoom-t.zoom)),this._dirty=!1)}_getTile(e,t){const n=this.getTileId(e);let r=this._cache.get(n),o=!1;return!r&&t?(r=new Hj(e),Object.assign(r,this.getTileMetadata(r.index)),Object.assign(r,{id:n,zoom:this.getTileZoom(r.index)}),o=!0,this._cache.set(n,r),this._dirty=!0):r&&r.needsReload&&(o=!0),r&&o&&r.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),r}_getNearestAncestor(e){const{_minZoom:t=0}=this;let n=e.index;for(;this.getTileZoom(n)>t;){n=this.getParentIndex(n);const e=this._getTile(n);if(e)return e}return null}},data:{type:"data",value:[]},dataComparator:MG.equal,renderSubLayers:{type:"function",value:e=>new jj(e)},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:e=>{}},onTileUnload:{type:"function",value:e=>{}},onTileError:{type:"function",value:e=>console.error(e)},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:GG,zRange:null,maxRequests:6,debounceTime:0,zoomOffset:0};class YG extends AB{initializeState(){this.state={tileset:null,isLoaded:!1}}finalizeState(){var e;null===(e=this.state)||void 0===e||null===(e=e.tileset)||void 0===e||e.finalize()}get isLoaded(){var e;return Boolean(null===(e=this.state)||void 0===e||null===(e=e.tileset)||void 0===e||null===(e=e.selectedTiles)||void 0===e?void 0:e.every((e=>e.isLoaded&&e.layers&&e.layers.every((e=>e.isLoaded)))))}shouldUpdateState(e){let{changeFlags:t}=e;return t.somethingChanged}updateState(e){let{changeFlags:t}=e,{tileset:n}=this.state;const r=t.propsOrDataChanged||t.updateTriggersChanged,o=t.dataChanged||t.updateTriggersChanged&&(t.updateTriggersChanged.all||t.updateTriggersChanged.getTileData);n?r&&(n.setOptions(this._getTilesetOptions()),o?n.reloadAll():n.tiles.forEach((e=>{e.layers=null}))):(n=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:n})),this._updateTileset()}_getTilesetOptions(){const{tileSize:e,maxCacheSize:t,maxCacheByteSize:n,refinementStrategy:r,extent:o,maxZoom:i,minZoom:s,maxRequests:a,debounceTime:l,zoomOffset:c}=this.props;return{maxCacheSize:t,maxCacheByteSize:n,maxZoom:i,minZoom:s,tileSize:e,refinementStrategy:r,extent:o,maxRequests:a,debounceTime:l,zoomOffset:c,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}_updateTileset(){const e=this.state.tileset,{zRange:t,modelMatrix:n}=this.props,r=e.update(this.context.viewport,{zRange:t,modelMatrix:n}),{isLoaded:o}=e,i=this.state.isLoaded!==o,s=this.state.frameNumber!==r;o&&(i||s)&&this._onViewportLoad(),s&&this.setState({frameNumber:r}),this.state.isLoaded=o}_onViewportLoad(){const{tileset:e}=this.state,{onViewportLoad:t}=this.props;t&&t(e.selectedTiles)}_onTileLoad(e){this.props.onTileLoad(e),e.layers=null,this.setNeedsUpdate()}_onTileError(e,t){this.props.onTileError(e),t.layers=null,this.setNeedsUpdate()}_onTileUnload(e){this.props.onTileUnload(e)}getTileData(e){const{data:t,getTileData:n,fetch:r}=this.props,{signal:o}=e;return e.url="string"===typeof t||Array.isArray(t)?TG(t,e):null,n?n(e):r&&e.url?r(e.url,{propName:"data",layer:this,signal:o}):null}renderSubLayers(e){return this.props.renderSubLayers(e)}getSubLayerPropsByTile(e){return null}getPickingInfo(e){const t=e.sourceLayer,n=t.props.tile,r=e.info;return r.picked&&(r.tile=n),r.sourceTile=n,r.sourceTileSubLayer=t,r}_updateAutoHighlight(e){e.sourceTileSubLayer.updateAutoHighlight(e)}renderLayers(){return this.state.tileset.tiles.map((e=>{const t=this.getSubLayerPropsByTile(e);if(e.isLoaded||e.content)if(e.layers)t&&e.layers[0]&&Object.keys(t).some((n=>e.layers[0].props[n]!==t[n]))&&(e.layers=e.layers.map((e=>e.clone(t))));else{const n=this.renderSubLayers({...this.props,...this.getSubLayerProps({id:e.id,updateTriggers:this.props.updateTriggers}),data:e.content,_offset:0,tile:e});e.layers=US(n,Boolean).map((n=>n.clone({tile:e,...t})))}else;return e.layers}))}filterSubLayer(e){let{layer:t,cullRect:n}=e;const{tile:r}=t.props;return this.state.tileset.isTileVisible(r,n)}}function ZG(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(qG=YG).defaultProps=KG,qG.layerName="TileLayer";const QG=e=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e),$G=new Uint32Array([0,2,1,0,3,2]),JG=new Float32Array([0,1,0,0,1,0,1,1]);function eH(e,t){if(!t)return function(e){const t=new Float64Array(12);for(let n=0;n<e.length;n++)t[3*n+0]=e[n][0],t[3*n+1]=e[n][1],t[3*n+2]=e[n][2]||0;return{vertexCount:6,positions:t,indices:$G,texCoords:JG}}(e);const n=Math.max(Math.abs(e[0][0]-e[3][0]),Math.abs(e[1][0]-e[2][0])),r=Math.max(Math.abs(e[1][1]-e[0][1]),Math.abs(e[2][1]-e[3][1])),o=Math.ceil(n/t)+1,i=Math.ceil(r/t)+1,s=(o-1)*(i-1)*6,a=new Uint32Array(s),l=new Float32Array(o*i*2),c=new Float64Array(o*i*3);let u=0,d=0;for(let h=0;h<o;h++){const t=h/(o-1);for(let n=0;n<i;n++){const r=n/(i-1),o=tH(e,t,r);c[3*u+0]=o[0],c[3*u+1]=o[1],c[3*u+2]=o[2]||0,l[2*u+0]=t,l[2*u+1]=1-r,h>0&&n>0&&(a[d++]=u-i,a[d++]=u-i-1,a[d++]=u-1,a[d++]=u-i,a[d++]=u-1,a[d++]=u),u++}}return{vertexCount:s,positions:c,indices:a,texCoords:l}}function tH(e,t,n){return OM(OM(e[0],e[1],n),OM(e[3],e[2],n),t)}const nH="#version 300 es\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nin vec2 vTexCoord;\nin vec2 vTexPos;\n\nout vec4 fragColor;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  if (transparentColor.a == 0.0) {\n    return vec4(color, alpha);\n  }\n  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);\n  float highLightRatio = alpha / blendedAlpha;\n  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);\n  return vec4(blendedRGB, blendedAlpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture(bitmapTexture, uv);\n\n  fragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n\n  if (bool(picking.isActive) && !bool(picking.isAttribute)) {\n    // Since instance information is not used, we can use picking color for pixel index\n    fragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n");var rH;const oH={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:HE.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0,value:null}};class iH extends fB{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nin vec2 texCoords;\nin vec3 positions;\nin vec3 positions64Low;\n\nout vec2 vTexCoord;\nout vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:nH,modules:[SB,RB]})}initializeState(){const e=this.getAttributeManager();e.remove(["instancePickingColors"]);const t=!0;e.add({indices:{size:1,isIndexed:!0,update:e=>e.value=this.state.mesh.indices,noAlloc:t},positions:{size:3,type:"float64",fp64:this.use64bitPositions(),update:e=>e.value=this.state.mesh.positions,noAlloc:t},texCoords:{size:2,update:e=>e.value=this.state.mesh.texCoords,noAlloc:t}})}updateState(e){let{props:t,oldProps:n,changeFlags:r}=e;const o=this.getAttributeManager();var i;r.extensionsChanged&&(null===(i=this.state.model)||void 0===i||i.destroy(),this.state.model=this._getModel(),o.invalidateAll());if(t.bounds!==n.bounds){const e=this.state.mesh,t=this._createMesh();this.state.model.setVertexCount(t.vertexCount);for(const n in t)e&&e[n]!==t[n]&&o.invalidate(n);this.setState({mesh:t,...this._getCoordinateUniforms()})}else t._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(e){const{image:t}=this.props,n=e.info;if(!n.color||!t)return n.bitmap=null,n;const{width:r,height:o}=t;n.index=0;const i=function(e){const[t,n,r]=e;return[(t+(15&r)/16)/256,(n+(240&r)/256)/256]}(n.color);return n.bitmap={size:{width:r,height:o},uv:i,pixel:[Math.floor(i[0]*r),Math.floor(i[1]*o)]},n}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(e){super._updateAutoHighlight({...e,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:e}=this.props;let t=e;return sH(e)&&(t=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),eH(t,this.context.viewport.resolution)}_getModel(){return new cD(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-list",isInstanced:!1})}draw(e){const{uniforms:t,moduleParameters:n}=e,{model:r,coordinateConversion:o,bounds:i,disablePicking:s}=this.state,{image:a,desaturate:l,transparentColor:c,tintColor:u}=this.props;n.picking.isActive&&s||a&&r&&(r.setUniforms(t),r.setBindings({bitmapTexture:a}),r.setUniforms({desaturate:l,transparentColor:c.map((e=>e/255)),tintColor:u.slice(0,3).map((e=>e/255)),coordinateConversion:o,bounds:i}),r.draw(this.context.renderPass))}_getCoordinateUniforms(){const{LNGLAT:e,CARTESIAN:t,DEFAULT:n}=HE;let{_imageCoordinateSystem:r}=this.props;if(r!==n){const{bounds:n}=this.props;if(!sH(n))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const o=this.context.viewport.resolution?e:t;if(r=r===e?e:t,r===e&&o===t)return{coordinateConversion:-1,bounds:n};if(r===t&&o===e){const e=OR([n[0],n[1]]),t=OR([n[2],n[3]]);return{coordinateConversion:1,bounds:[e[0],e[1],t[0],t[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}function sH(e){return Number.isFinite(e[0])}function aH(e){const n=e.createdGrid,r=e.gridProps,o=e.selectedType,[i,a]=(0,t.useState)(n);(0,t.useEffect)((()=>{a(n)}),[n]);const l=(0,t.useRef)(null),[c,u]=(0,t.useState)(),[d,h]=(0,t.useState)(),[p,f]=(0,t.useState)(),[g,m]=(0,t.useState)(!1),[v,y]=(0,t.useState)({latitude:r.latitude,longitude:r.longitude,zoom:15,pitch:0,bearing:0,orthographic:!0});(0,t.useEffect)((()=>{r.latitude=parseFloat(r.latitude),r.longitude=parseFloat(r.longitude),y((e=>({...e,latitude:r.latitude,longitude:r.longitude})))}),[r.latitude,r.longitude]),(0,t.useEffect)((()=>{const e=document.getElementById("deckgl-wrapper");e&&e.addEventListener("contextmenu",(e=>e.preventDefault()))}),[]);const b=e=>{if(!o||!o.color)return;const{height:t,name:n,color:r,interactive:s}=o,c=(e=>{const t=e.x-20,n=e.y-20;return l.current.pickObjects({x:t,y:n,width:40,height:40})})(e);c.forEach(((e,o)=>{const l={...e.object.properties};l.color=QG(r)?ZG(r):r,l.height=t,l.name=n,l.interactive=s,i.features[e.index].properties=l,a({...i})}))};return(0,s.jsxs)("div",{onKeyDown:e=>{u(e.nativeEvent.key)},onKeyUp:()=>{u(null)},onMouseMove:e=>h(e.nativeEvent),onMouseUp:()=>{f(!1)},onMouseDown:()=>f(!0),children:[o&&o.color&&(0,s.jsx)(LA,{mousePos:d,selectedType:o,divSize:40,mouseDown:p}),(0,s.jsx)(xB,{ref:l,viewState:v,onViewStateChange:e=>{let{viewState:t}=e;y(t)},layers:(()=>{const e=[new YG({data:"https://api.mapbox.com/styles/v1/relnox/cjlu6w5sc1dy12rmn4kl2zljn/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmVsbm94IiwiYSI6ImNqd2VwOTNtYjExaHkzeXBzYm1xc3E3dzQifQ.X8r8nj4-baZXSsFgctQMsg&attribution=false&logo=false&fresh=true",minZoom:0,maxZoom:21,tileSize:256,renderSubLayers:e=>{const{bbox:{west:t,south:n,east:r,north:o}}=e.tile;return new iH(e,{data:null,image:e.data,bounds:[t,n,r,o]})}}),new jj({id:"GRID",opacity:.6,stroked:!1,filled:!0,wireframe:!0,visible:!0,pickable:!0,data:i,extruded:!0,lineWidthScale:5,lineWidthMinPixels:1,getElevation:e=>e.properties.height[1],getFillColor:e=>e.properties.color,onClick:(e,t)=>{t.rightButton||"Shift"===c||b(e)},onDrag:(e,t)=>{t.rightButton||"Shift"===c||b(e)},onDragStart:(e,t)=>{t.rightButton||"Shift"===c||m(!0)},onDragEnd:()=>{m(!1)},updateTriggers:{getFillColor:i,getElevation:i},transitions:{getFillColor:100,getElevation:100}})];return e})(),controller:{dragPan:!g,dragRotate:!g,keyboard:!1}})]})}(rH=iH).layerName="BitmapLayer",rH.defaultProps=oH;var lH=1,cH=2,uH=3,dH=5,hH=6378137,pH=6356752.314,fH=.0066943799901413165,gH=484813681109536e-20,mH=Math.PI/2,vH=.16666666666666666,yH=.04722222222222222,bH=.022156084656084655,_H=1e-10,wH=.017453292519943295,xH=57.29577951308232,AH=Math.PI/4,EH=2*Math.PI,SH=3.14159265359,CH={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const MH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var RH=/[\s_\-\/\(\)]/g;function TH(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),o=t.toLowerCase().replace(RH,""),i=-1;++i<r.length;)if((n=r[i]).toLowerCase().replace(RH,"")===o)return e[n]}function PH(e){var t,n,r,o={},i=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),s={proj:"projName",datum:"datumCode",rf:function(e){o.rf=parseFloat(e)},lat_0:function(e){o.lat0=e*wH},lat_1:function(e){o.lat1=e*wH},lat_2:function(e){o.lat2=e*wH},lat_ts:function(e){o.lat_ts=e*wH},lon_0:function(e){o.long0=e*wH},lon_1:function(e){o.long1=e*wH},lon_2:function(e){o.long2=e*wH},alpha:function(e){o.alpha=parseFloat(e)*wH},gamma:function(e){o.rectified_grid_angle=parseFloat(e)},lonc:function(e){o.longc=e*wH},x_0:function(e){o.x0=parseFloat(e)},y_0:function(e){o.y0=parseFloat(e)},k_0:function(e){o.k0=parseFloat(e)},k:function(e){o.k0=parseFloat(e)},a:function(e){o.a=parseFloat(e)},b:function(e){o.b=parseFloat(e)},r:function(e){o.a=o.b=parseFloat(e)},r_a:function(){o.R_A=!0},zone:function(e){o.zone=parseInt(e,10)},south:function(){o.utmSouth=!0},towgs84:function(e){o.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){o.to_meter=parseFloat(e)},units:function(e){o.units=e;var t=TH(MH,e);t&&(o.to_meter=t.to_meter)},from_greenwich:function(e){o.from_greenwich=e*wH},pm:function(e){var t=TH(CH,e);o.from_greenwich=(t||parseFloat(e))*wH},nadgrids:function(e){"@null"===e?o.datumCode="none":o.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(o.axis=e)},approx:function(){o.approx=!0}};for(t in i)n=i[t],t in s?"function"===typeof(r=s[t])?r(n):o[r]=n:o[t]=n;return"string"===typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}const kH=function(e){var t=new BH(e);return t.output()};var IH=1,OH=/\s/,LH=/[A-Za-z]/,NH=/[A-Za-z84_]/,FH=/[,\]]/,DH=/[\d\.E\-\+]/;function BH(e){if("string"!==typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=IH}function zH(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,o=n.reduce((function(e,t){return jH(t,e),e}),r);t&&(e[t]=o)}function jH(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void jH(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&jH(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&jH(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void zH(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return jH(e,t[n]);return zH(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}BH.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;OH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case IH:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},BH.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(FH.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},BH.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=IH)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=IH,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},BH.prototype.number=function(e){if(!DH.test(e)){if(FH.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},BH.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},BH.prototype.keyword=function(e){if(NH.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=IH)}if(!FH.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},BH.prototype.neutral=function(e){if(LH.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(DH.test(e))return this.word=e,void(this.state=3);if(!FH.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},BH.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var UH=.017453292519943295;function GH(e){return e*UH}function HH(e){var t=kH(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var o={};return jH(t,o),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var o=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?t+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?t+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?t+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var i=e.GEOGCS;function s(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(i=e),i&&(i.DATUM?e.datumCode=i.DATUM.name.toLowerCase():e.datumCode=i.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(e.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=i.DATUM.SPHEROID.a,e.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(e.datum_params=i.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",GH],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",GH],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",GH],["lat0","latitude_of_origin",GH],["lat0","standard_parallel_1",GH],["lat1","standard_parallel_1",GH],["lat2","standard_parallel_2",GH],["azimuth","Azimuth"],["alpha","azimuth",GH],["srsCode","name"]].forEach((function(t){return function(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=GH(e.lat0>0?90:-90)):(e.lat0=GH(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(o),o}function VH(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?VH[e]=PH(arguments[1]):VH[e]=HH(arguments[1]):VH[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?VH.apply(t,e):VH(e)}));if("string"===typeof e){if(e in VH)return VH[e]}else"EPSG"in e?VH["EPSG:"+e.EPSG]=e:"ESRI"in e?VH["ESRI:"+e.ESRI]=e:"IAU2000"in e?VH["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(VH);const WH=VH;var XH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var qH=["3857","900913","3785","102113"];const KH=function(e){if(!function(e){return"string"===typeof e}(e))return e;if(function(e){return e in WH}(e))return WH[e];if(function(e){return XH.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=HH(e);if(function(e){var t=TH(e,"authority");if(t){var n=TH(t,"epsg");return n&&qH.indexOf(n)>-1}}(t))return WH["EPSG:3857"];var n=function(e){var t=TH(e,"extension");if(t)return TH(t,"proj4")}(t);return n?PH(n):t}return function(e){return"+"===e[0]}(e)?PH(e):void 0};function YH(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e}function ZH(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function QH(e){return e<0?-1:1}function $H(e){return Math.abs(e)<=SH?e:e-QH(e)*EH}function JH(e,t,n){var r=e*n,o=.5*e;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(mH-t))/r}function eV(e,t){for(var n,r,o=.5*e,i=mH-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(i),i+=r=mH-2*Math.atan(t*Math.pow((1-n)/(1+n),o))-i,Math.abs(r)<=1e-10)return i;return-9999}function tV(e){return e}var nV=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=ZH(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,o=e.y;if(o*xH>90&&o*xH<-90&&r*xH>180&&r*xH<-180)return null;if(Math.abs(Math.abs(o)-mH)<=_H)return null;if(this.sphere)t=this.x0+this.a*this.k0*$H(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(AH+.5*o));else{var i=Math.sin(o),s=JH(this.e,o,i);t=this.x0+this.a*this.k0*$H(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,o=e.y-this.y0;if(this.sphere)n=mH-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var i=Math.exp(-o/(this.a*this.k0));if(-9999===(n=eV(this.e,i)))return null}return t=$H(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:tV,inverse:tV,names:["longlat","identity"]}],rV={},oV=[];function iV(e,t){var n=oV.length;return e.names?(oV[n]=e,e.names.forEach((function(e){rV[e.toLowerCase()]=n})),this):(console.log(t),!0)}const sV={start:function(){nV.forEach(iV)},add:iV,get:function(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!==typeof rV[t]&&oV[rV[t]]?oV[rV[t]]:void 0}};var aV={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},lV=aV.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};aV.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var cV={};cV.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},cV.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},cV.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},cV.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},cV.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},cV.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},cV.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},cV.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},cV.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},cV.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},cV.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},cV.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},cV.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},cV.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},cV.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},cV.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},cV.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},cV.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};const uV=function(e,t,n,r,o,i,s){var a={};return a.datum_type=void 0===e||"none"===e?dH:4,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=lH),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=cH,a.datum_params[3]*=gH,a.datum_params[4]*=gH,a.datum_params[5]*=gH,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=uH,a.grids=s),a.a=n,a.b=r,a.es=o,a.ep2=i,a};var dV={};function hV(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:dV[e]||null,isNull:!1}}function pV(e){return e/3600*Math.PI/180}function fV(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function gV(e){return e.map((function(e){return[pV(e.longitudeShift),pV(e.latitudeShift)]}))}function mV(e,t,n){return{name:fV(e,t+8,t+16).trim(),parent:fV(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function vV(e,t,n,r){for(var o=t+176,i=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:e.getFloat32(o+16*s,r),longitudeShift:e.getFloat32(o+16*s+4,r),latitudeAccuracy:e.getFloat32(o+16*s+8,r),longitudeAccuracy:e.getFloat32(o+16*s+12,r)};i.push(a)}return i}function yV(e,t){if(!(this instanceof yV))return new yV(e);t=t||function(e){if(e)throw e};var n=KH(e);if("object"===typeof n){var r=yV.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var o=TH(cV,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var i=function(e,t,n,r,o){if(!e){var i=TH(aV,r);i||(i=lV),e=i.a,t=i.b,n=i.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<_H)&&(o=!0,t=e),{a:e,b:t,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(e,t,n,r){var o=e*e,i=t*t,s=(o-i)/o,a=0;return r?(o=(e*=1-s*(vH+s*(yH+s*bH)))*e,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(o-i)/i}}(i.a,i.b,i.rf,n.R_A),a=function(e){return void 0===e?null:e.split(",").map(hV)}(n.nadgrids),l=n.datum||uV(n.datumCode,n.datum_params,i.a,i.b,s.es,s.ep2,a);YH(this,n),YH(this,r),this.a=i.a,this.b=i.b,this.rf=i.rf,this.sphere=i.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),t(null,this)}else t(e)}else t(e)}yV.projections=sV,yV.projections.start();const bV=yV;function _V(e,t,n){var r,o,i,s,a=e.x,l=e.y,c=e.z?e.z:0;if(l<-mH&&l>-1.001*mH)l=-mH;else if(l>mH&&l<1.001*mH)l=mH;else{if(l<-mH)return{x:-1/0,y:-1/0,z:e.z};if(l>mH)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),o=Math.sin(l),s=Math.cos(l),i=o*o,{x:((r=n/Math.sqrt(1-t*i))+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-t)+c)*o}}function wV(e,t,n,r){var o,i,s,a,l,c,u,d,h,p,f,g,m,v,y,b=1e-12,_=e.x,w=e.y,x=e.z?e.z:0;if(o=Math.sqrt(_*_+w*w),i=Math.sqrt(_*_+w*w+x*x),o/n<b){if(v=0,i/n<b)return mH,y=-r,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(w,_);s=x/i,d=(a=o/i)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*a*a)),h=s*l,m=0;do{m++,c=t*(u=n/Math.sqrt(1-t*h*h))/(u+(y=o*d+x*h-u*(1-t*h*h))),g=(f=s*(l=1/Math.sqrt(1-c*(2-c)*a*a)))*d-(p=a*(1-c)*l)*h,d=p,h=f}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(f/Math.abs(p)),z:y}}function xV(e){return e===lH||e===cH}function AV(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===lH?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==cH||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(e.datum_type===dH||t.datum_type===dH)return n;var r=e.a,o=e.es;if(e.datum_type===uH){if(0!==EV(e,!1,n))return;r=hH,o=fH}var i=t.a,s=t.b,a=t.es;if(t.datum_type===uH&&(i=hH,s=pH,a=fH),o===a&&r===i&&!xV(e.datum_type)&&!xV(t.datum_type))return n;if((n=_V(n,o,r),xV(e.datum_type)&&(n=function(e,t,n){if(t===lH)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===cH){var r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-s*e.z)+o,z:c*(-a*e.x+s*e.y+e.z)+i}}}(n,e.datum_type,e.datum_params)),xV(t.datum_type)&&(n=function(e,t,n){if(t===lH)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===cH){var r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(e.x-r)/c,d=(e.y-o)/c,h=(e.z-i)/c;return{x:u+l*d-a*h,y:-l*u+d+s*h,z:a*u-s*d+h}}}(n,t.datum_type,t.datum_params)),n=wV(n,a,i,s),t.datum_type===uH)&&0!==EV(t,!0,n))return;return n}function EV(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},o={x:Number.NaN,y:Number.NaN},i=[];e:for(var s=0;s<e.grids.length;s++){var a=e.grids[s];if(i.push(a.name),a.isNull){o=r;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var d=l[c],h=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,p=d.ll[0]-h,f=d.ll[1]-h,g=d.ll[0]+(d.lim[0]-1)*d.del[0]+h,m=d.ll[1]+(d.lim[1]-1)*d.del[1]+h;if(!(f>r.y||p>r.x||m<r.y||g<r.x)&&(o=SV(r,t,d),!isNaN(o.x)))break e}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*xH+" "+r.y*xH+" tried: '"+i+"'"),-1):(n.x=-o.x,n.y=o.y,0)}function SV(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var o={x:e.x,y:e.y};o.x-=n.ll[0],o.y-=n.ll[1],o.x=$H(o.x-Math.PI)+Math.PI;var i=CV(o,n);if(t){if(isNaN(i.x))return r;i.x=o.x-i.x,i.y=o.y-i.y;var s,a,l=9;do{if(a=CV(i,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:o.x-(a.x+i.x),y:o.y-(a.y+i.y)},i.x+=s.x,i.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=$H(i.x+n.ll[0]),r.y=i.y+n.ll[1]}else isNaN(i.x)||(r.x=e.x+i.x,r.y=e.y+i.y);return r}function CV(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},o=Math.floor(r.x),i=Math.floor(r.y),s=r.x-1*o,a=r.y-1*i,l={x:Number.NaN,y:Number.NaN};if(o<0||o>=t.lim[0])return l;if(i<0||i>=t.lim[1])return l;n=i*t.lim[0]+o;var c=t.cvs[n][0],u=t.cvs[n][1];n++;var d=t.cvs[n][0],h=t.cvs[n][1];n+=t.lim[0];var p=t.cvs[n][0],f=t.cvs[n][1];n--;var g=t.cvs[n][0],m=t.cvs[n][1],v=s*a,y=s*(1-a),b=(1-s)*(1-a),_=(1-s)*a;return l.x=b*c+y*d+_*g+v*p,l.y=b*u+y*h+_*m+v*f,l}function MV(e,t,n){var r,o,i,s=n.x,a=n.y,l=n.z||0,c={};for(i=0;i<3;i++)if(!t||2!==i||void 0!==n.z)switch(0===i?(r=s,o=-1!=="ew".indexOf(e.axis[i])?"x":"y"):1===i?(r=a,o=-1!=="ns".indexOf(e.axis[i])?"y":"x"):(r=l,o="z"),e.axis[i]){case"e":case"n":c[o]=r;break;case"w":case"s":c[o]=-r;break;case"u":void 0!==n[o]&&(c.z=r);break;case"d":void 0!==n[o]&&(c.z=-r);break;default:return null}return c}function RV(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function TV(e){if("function"===typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function PV(e,t,n,r){var o,i=void 0!==(n=Array.isArray(n)?RV(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(e){TV(e.x),TV(e.y)}(n),e.datum&&t.datum&&function(e,t){return(e.datum.datum_type===lH||e.datum.datum_type===cH||e.datum.datum_type===uH)&&"WGS84"!==t.datumCode||(t.datum.datum_type===lH||t.datum.datum_type===cH||t.datum.datum_type===uH)&&"WGS84"!==e.datumCode}(e,t)&&(n=PV(e,o=new bV("WGS84"),n,r),e=o),r&&"enu"!==e.axis&&(n=MV(e,!1,n)),"longlat"===e.projName)n={x:n.x*wH,y:n.y*wH,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=AV(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*xH,y:n.y*xH,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&"enu"!==t.axis?MV(t,!0,n):(n&&!i&&delete n.z,n)}var kV=bV("WGS84");function IV(e,t,n,r){var o,i,s;return Array.isArray(n)?(o=PV(e,t,n,r)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name?"number"===typeof o.z?[o.x,o.y,o.z].concat(n.splice(3)):[o.x,o.y,n[2]].concat(n.splice(3)):[o.x,o.y].concat(n.splice(2)):[o.x,o.y]):(i=PV(e,t,n,r),2===(s=Object.keys(n)).length||s.forEach((function(r){if("undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function OV(e){return e instanceof bV?e:e.oProj?e.oProj:bV(e)}const LV=function(e,t,n){e=OV(e);var r,o=!1;return"undefined"===typeof t?(t=e,e=kV,o=!0):("undefined"!==typeof t.x||Array.isArray(t))&&(n=t,t=e,e=kV,o=!0),t=OV(t),n?IV(e,t,n):(r={forward:function(n,r){return IV(e,t,n,r)},inverse:function(n,r){return IV(t,e,n,r)}},o&&(r.oProj=t),r)};var NV=6,FV="AJSAJS",DV="AFAFAF",BV=65,zV=73,jV=79,UV=86,GV=90;const HV={forward:VV,inverse:function(e){var t=KV(QV(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:WV};function VV(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+function(e,t,n){var r=ZV(n),o=Math.floor(e/1e5),i=Math.floor(t/1e5)%20;return function(e,t,n){var r=n-1,o=FV.charCodeAt(r),i=DV.charCodeAt(r),s=o+e-1,a=i+t,l=!1;s>GV&&(s=s-GV+BV-1,l=!0);(s===zV||o<zV&&s>zV||(s>zV||o<zV)&&l)&&s++;(s===jV||o<jV&&s>jV||(s>jV||o<jV)&&l)&&++s===zV&&s++;s>GV&&(s=s-GV+BV-1);a>UV?(a=a-UV+BV-1,l=!0):l=!1;(a===zV||i<zV&&a>zV||(a>zV||i<zV)&&l)&&a++;(a===jV||i<jV&&a>jV||(a>jV||i<jV)&&l)&&++a===zV&&a++;a>UV&&(a=a-UV+BV-1);return String.fromCharCode(s)+String.fromCharCode(a)}(o,i,r)}(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}(function(e){var t,n,r,o,i,s,a,l,c=e.lat,u=e.lon,d=6378137,h=.00669438,p=.9996,f=XV(c),g=XV(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));a=XV(6*(l-1)-180+3),t=h/(1-h),n=d/Math.sqrt(1-h*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),o=t*Math.cos(f)*Math.cos(f),i=Math.cos(f)*(g-a),s=d*((1-h/4-3*h*h/64-5*h*h*h/256)*f-(3*h/8+3*h*h/32+45*h*h*h/1024)*Math.sin(2*f)+(15*h*h/256+45*h*h*h/1024)*Math.sin(4*f)-35*h*h*h/3072*Math.sin(6*f));var m=p*n*(i+(1-r+o)*i*i*i/6+(5-18*r+r*r+72*o-58*t)*i*i*i*i*i/120)+5e5,v=p*(s+n*Math.tan(f)*(i*i/2+(5-r+9*o+4*o*o)*i*i*i*i/24+(61-58*r+r*r+600*o-330*t)*i*i*i*i*i*i/720));c<0&&(v+=1e7);return{northing:Math.round(v),easting:Math.round(m),zoneNumber:l,zoneLetter:YV(c)}}({lat:e[1],lon:e[0]}),t)}function WV(e){var t=KV(QV(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function XV(e){return e*(Math.PI/180)}function qV(e){return e/Math.PI*180}function KV(e){var t=e.northing,n=e.easting,r=e.zoneLetter,o=e.zoneNumber;if(o<0||o>60)return null;var i,s,a,l,c,u,d,h,p,f=.9996,g=6378137,m=.00669438,v=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=n-5e5,b=t;r<"N"&&(b-=1e7),d=6*(o-1)-180+3,i=.006739496752268451,p=(h=b/f/6367449.145945056)+(3*v/2-27*v*v*v/32)*Math.sin(2*h)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*h)+151*v*v*v/96*Math.sin(6*h),s=g/Math.sqrt(1-m*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),l=i*Math.cos(p)*Math.cos(p),c=.99330562*g/Math.pow(1-m*Math.sin(p)*Math.sin(p),1.5),u=y/(s*f);var _=p-s*Math.tan(p)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*i)*u*u*u*u/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);_=qV(_);var w,x=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*i+24*a*a)*u*u*u*u*u/120)/Math.cos(p);if(x=d+qV(x),e.accuracy){var A=KV({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});w={top:A.lat,right:A.lon,bottom:_,left:x}}else w={lat:_,lon:x};return w}function YV(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function ZV(e){var t=e%NV;return 0===t&&(t=NV),t}function QV(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,o="",i=0;!/[A-Z]/.test(t=e.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,i++}var s=parseInt(o,10);if(0===i||i+3>n)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(i++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(i,i+=2);for(var l=ZV(s),c=function(e,t){var n=FV.charCodeAt(t-1),r=1e5,o=!1;for(;n!==e.charCodeAt(0);){if(++n===zV&&n++,n===jV&&n++,n>GV){if(o)throw"Bad character: "+e;n=BV,o=!0}r+=1e5}return r}(r.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=DV.charCodeAt(t-1),r=0,o=!1;for(;n!==e.charCodeAt(0);){if(++n===zV&&n++,n===jV&&n++,n>UV){if(o)throw"Bad character: "+e;n=BV,o=!0}r+=1e5}return r}(r.charAt(1),l);u<$V(a);)u+=2e6;var d=n-i;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,f,g=d/2,m=0,v=0;return g>0&&(h=1e5/Math.pow(10,g),p=e.substring(i,i+g),m=parseFloat(p)*h,f=e.substring(i+g),v=parseFloat(f)*h),{easting:m+c,northing:v+u,zoneLetter:a,zoneNumber:s,accuracy:h}}function $V(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function JV(e,t,n){if(!(this instanceof JV))return new JV(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"===typeof e&&"undefined"===typeof t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}JV.fromMGRS=function(e){return new JV(WV(e))},JV.prototype.toMGRS=function(e){return VV([this.x,this.y],e)};const eW=JV;var tW=1,nW=.25,rW=.046875,oW=.01953125,iW=.01068115234375,sW=.75,aW=.46875,lW=.013020833333333334,cW=.007120768229166667,uW=.3645833333333333,dW=.005696614583333333,hW=.3076171875;function pW(e){var t=[];t[0]=tW-e*(nW+e*(rW+e*(oW+e*iW))),t[1]=e*(sW-e*(rW+e*(oW+e*iW)));var n=e*e;return t[2]=n*(aW-e*(lW+e*cW)),n*=e,t[3]=n*(uW-e*dW),t[4]=n*e*hW,t}function fW(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var gW=20;function mW(e,t,n){for(var r=1/(1-t),o=e,i=gW;i;--i){var s=Math.sin(o),a=1-t*s*s;if(o-=a=(fW(o,s,Math.cos(o),n)-e)*(a*Math.sqrt(a))*r,Math.abs(a)<_H)return o}return o}const vW={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pW(this.es),this.ml0=fW(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,o=e.x,i=e.y,s=$H(o-this.long0),a=Math.sin(i),l=Math.cos(i);if(this.es){var c=l*s,u=Math.pow(c,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),p=Math.abs(l)>_H?Math.tan(i):0,f=Math.pow(p,2),g=Math.pow(f,2);t=1-this.es*Math.pow(a,2),c/=Math.sqrt(t);var m=fW(i,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-f+d+u/20*(5-18*f+g+14*d-58*f*d+u/42*(61+179*g-g*f-479*f)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+a*s*c/2*(1+u/12*(5-f+9*d+4*h+u/30*(61+g-58*f+270*d-330*f*d+u/56*(1385+543*g-g*f-3111*f))))))+this.y0}else{var v=l*Math.sin(s);if(Math.abs(Math.abs(v)-1)<_H)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(r))>=1){if(v-1>_H)return 93;r=0}else r=Math.acos(r);i<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,o,i=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(n=mW(t=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<mH){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>_H?Math.tan(n):0,u=this.ep2*Math.pow(l,2),d=Math.pow(u,2),h=Math.pow(c,2),p=Math.pow(h,2);t=1-this.es*Math.pow(a,2);var f=i*Math.sqrt(t)/this.k0,g=Math.pow(f,2);r=n-(t*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*h-9*u*h+u-4*d-g/30*(61+90*h-252*u*h+45*p+46*u-g/56*(1385+3633*h+4095*p+1574*p*h)))),o=$H(this.long0+f*(1-g/6*(1+2*h+u-g/20*(5+28*h+24*p+8*u*h+6*u-g/42*(61+662*h+1320*p+720*p*h))))/l)}else r=mH*QH(s),o=0;else{var m=Math.exp(i/this.k0),v=.5*(m-1/m),y=this.lat0+s/this.k0,b=Math.cos(y);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),r=Math.asin(t),s<0&&(r=-r),o=0===v&&0===b?0:$H(Math.atan2(v,b)+this.long0)}return e.x=o,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function yW(e){var t=Math.exp(e);return t=(t-1/t)/2}function bW(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function _W(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(bW(1,t)+1))),e<0?-t:t}function wW(e,t){for(var n,r=2*Math.cos(2*t),o=e.length-1,i=e[o],s=0;--o>=0;)n=r*i-s+e[o],s=i,i=n;return t+n*Math.sin(2*t)}function xW(e,t,n){for(var r,o,i=Math.sin(t),s=Math.cos(t),a=yW(n),l=function(e){var t=Math.exp(e);return(t+1/t)/2}(n),c=2*s*l,u=-2*i*a,d=e.length-1,h=e[d],p=0,f=0,g=0;--d>=0;)r=f,o=p,h=c*(f=h)-r-u*(p=g)+e[d],g=u*f-o+c*p;return[(c=i*l)*h-(u=s*a)*g,c*g+u*h]}const AW={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(vW.init.apply(this),this.forward=vW.forward,this.inverse=vW.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=wW(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(e,t){for(var n,r=2*Math.cos(t),o=e.length-1,i=e[o],s=0;--o>=0;)n=r*i-s+e[o],s=i,i=n;return Math.sin(t)*n}(this.gtu,2*r))},forward:function(e){var t=$H(e.x-this.long0),n=e.y;n=wW(this.cbg,n);var r=Math.sin(n),o=Math.cos(n),i=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*o),t=Math.atan2(i*o,bW(r,o*s)),t=_W(Math.tan(t));var a,l,c=xW(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(a=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),e.x=a,e.y=l,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var i=xW(this.utg,2*o,2*r);o+=i[0],r+=i[1],r=Math.atan(yW(r));var s=Math.sin(o),a=Math.cos(o),l=Math.sin(r),c=Math.cos(r);o=Math.atan2(s*c,bW(l,c*a)),t=$H((r=Math.atan2(l,c*a))+this.long0),n=wW(this.cgb,o)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const EW={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*($H(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*wH,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,AW.init.apply(this),this.forward=AW.forward,this.inverse=AW.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function SW(e,t){return Math.pow((1-e)/(1+e),t)}const CW={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+AH)/(Math.pow(Math.tan(.5*this.lat0+AH),this.C)*SW(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+AH),this.C)*SW(this.e*Math.sin(n),this.ratexp))-mH,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+AH)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(r*SW(this.e*Math.sin(e.y),-.5*this.e))-mH,!(Math.abs(n-e.y)<1e-14));--o)e.y=n;return o?(e.x=t,e.y=n,e):null},names:["gauss"]};const MW={init:function(){CW.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,o;return e.x=$H(e.x-this.long0),CW.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),o=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=o*n*Math.sin(e.x),e.y=o*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,o,i;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,i=bW(e.x,e.y)){var s=2*Math.atan2(i,this.R2);t=Math.sin(s),n=Math.cos(s),o=Math.asin(n*this.sinc0+e.y*t*this.cosc0/i),r=Math.atan2(e.x*t,i*this.cosc0*n-e.y*this.sinc0*t)}else o=this.phic0,r=0;return e.x=r,e.y=o,CW.inverse.apply(this,[e]),e.x=$H(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const RW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_H&&(this.k0=.5*(1+QH(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_H&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_H&&Math.abs(Math.cos(this.lat_ts))>_H&&(this.k0=.5*this.cons*ZH(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/JH(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ZH(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-mH,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,o,i,s,a=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),d=$H(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=_H&&Math.abs(l+this.lat0)<=_H?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(d)),e.x=this.a*t*u*Math.sin(d)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(d))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,c,this.e))-mH,o=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=_H?(i=JH(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*i/this.cons,e.x=this.x0+s*Math.sin(a-this.long0),e.y=this.y0-this.con*s*Math.cos(a-this.long0),e):(Math.abs(this.sinlat0)<_H?(t=2*this.a*this.k0/(1+o*Math.cos(d)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(d))),e.y=t*(this.cosX0*r-this.sinX0*o*Math.cos(d))+this.y0),e.x=t*o*Math.sin(d)+this.x0,e))},inverse:function(e){var t,n,r,o,i;e.x-=this.x0,e.y-=this.y0;var s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=_H?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/s),t=Math.abs(this.coslat0)<_H?this.lat0>0?$H(this.long0+Math.atan2(e.x,-1*e.y)):$H(this.long0+Math.atan2(e.x,e.y)):$H(this.long0+Math.atan2(e.x*Math.sin(a),s*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=_H){if(s<=_H)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*eV(this.e,r),t=this.con*$H(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=_H?i=this.X0:(i=Math.asin(Math.cos(o)*this.sinX0+e.y*Math.sin(o)*this.cosX0/s),t=$H(this.long0+Math.atan2(e.x*Math.sin(o),s*this.cosX0*Math.cos(o)-e.y*this.sinX0*Math.sin(o)))),n=-1*eV(this.e,Math.tan(.5*(mH+i)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(mH+e))*Math.pow((1-t)/(1+t),.5*n)}};const TW={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,o=2*r-Math.pow(r,2),i=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+i*t)/(1-i*t));this.K=s-this.alpha*a+this.alpha*i/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,o=2*(Math.atan(Math.exp(r))-Math.PI/4),i=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(i))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(i));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,l=0,c=i,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e},names:["somerc"]};var PW=1e-7;const kW={init:function(){var e,t,n,r,o,i,s,a,l,c,u,d=0,h=0,p=0,f=0,g=0,m=0,v=0;this.no_off=function(e){var t="object"===typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)}(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(v=this.alpha),b&&(d=this.rectified_grid_angle*wH),y||b)h=this.longc;else if(p=this.long1,g=this.lat1,f=this.long2,m=this.lat2,Math.abs(g-m)<=PW||(e=Math.abs(g))<=PW||Math.abs(e-mH)<=PW||Math.abs(Math.abs(this.lat0)-mH)<=PW||Math.abs(Math.abs(m)-mH)<=PW)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>_H?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,(o=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=r,this.E*=Math.pow(JH(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=o=1),y||b?(y?(u=Math.asin(Math.sin(v)/r),b||(d=v)):(u=d,v=Math.asin(r*Math.sin(u))),this.lam0=h-Math.asin(.5*(o-1/o)*Math.tan(u))/this.B):(i=Math.pow(JH(this.e,g,Math.sin(g)),this.B),s=Math.pow(JH(this.e,m,Math.sin(m)),this.B),o=this.E/i,l=(s-i)/(s+i),c=((c=this.E*this.E)-s*i)/(c+s*i),(e=p-f)<-Math.pi?f-=EH:e>Math.pi&&(f+=EH),this.lam0=$H(.5*(p+f)-Math.atan(c*Math.tan(.5*this.B*(p-f))/l)/this.B),u=Math.atan(2*Math.sin(this.B*$H(p-this.lam0))/(o-1/o)),d=v=Math.asin(r*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(AH-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(AH+o))},forward:function(e){var t,n,r,o,i,s,a,l,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-mH)>_H){if(t=.5*((i=this.E/Math.pow(JH(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/i)),n=.5*(i+s),o=Math.sin(this.B*e.x),r=(t*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(r)-1)<_H)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*e.x),a=Math.abs(s)<PW?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+o*this.singam,s)}else l=e.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*e.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,n,r,o,i,s,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),o=.5*((r=Math.exp(-this.BrA*n))-1/r),i=.5*(r+1/r),a=((s=Math.sin(this.BrA*t))*this.cosgam+o*this.singam)/i,Math.abs(Math.abs(a)-1)<_H)l.x=0,l.y=a<0?-mH:mH;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=eV(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(o*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const IW={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_H)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=ZH(this.e,t,n),o=JH(this.e,this.lat1,t),i=Math.sin(this.lat2),s=Math.cos(this.lat2),a=ZH(this.e,i,s),l=JH(this.e,this.lat2,i),c=JH(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_H?this.ns=Math.log(r/a)/Math.log(o/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=_H&&(n=QH(n)*(mH-2*_H));var r,o,i=Math.abs(Math.abs(n)-mH);if(i>_H)r=JH(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(r,this.ns);else{if((i=n*this.ns)<=0)return null;o=0}var s=this.ns*$H(t-this.long0);return e.x=this.k0*(o*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,e},inverse:function(e){var t,n,r,o,i,s=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+a*a),n=1):(t=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*s,n*a)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(o=eV(this.e,r)))return null}else o=-mH;return i=$H(l/this.ns+this.long0),e.x=i,e.y=o,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const OW={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,o,i,s,a,l=e.x,c=e.y,u=$H(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),s=this.n*i,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),e.y=a*Math.cos(s)/1,e.x=a*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,o,i,s,a,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),i=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),n=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,a=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(a=1),s=e.y,c+=1}while(0===a&&c<15);return c>=15?null:e},names:["Krovak","krovak"]};function LW(e,t,n,r,o){return e*o-t*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)}function NW(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function FW(e){return.375*e*(1+.25*e*(1+.46875*e))}function DW(e){return.05859375*e*e*(1+.75*e)}function BW(e){return e*e*e*(35/3072)}function zW(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function jW(e){return Math.abs(e)<mH?e:e-QH(e)*Math.PI}function UW(e,t,n,r,o){var i,s;i=e/t;for(var a=0;a<15;a++)if(i+=s=(e-(t*i-n*Math.sin(2*i)+r*Math.sin(4*i)-o*Math.sin(6*i)))/(t-2*n*Math.cos(2*i)+4*r*Math.cos(4*i)-6*o*Math.cos(6*i)),Math.abs(s)<=1e-10)return i;return NaN}const GW={init:function(){this.sphere||(this.e0=NW(this.es),this.e1=FW(this.es),this.e2=DW(this.es),this.e3=BW(this.es),this.ml0=this.a*LW(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,o=e.y;if(r=$H(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var i=Math.sin(o),s=Math.cos(o),a=zW(this.a,this.e,i),l=Math.tan(o)*Math.tan(o),c=r*Math.cos(o),u=c*c,d=this.es*s*s/(1-this.es);t=a*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),n=this.a*LW(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*i/s*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,o=e.y/this.a;if(this.sphere){var i=o+this.lat0;t=Math.asin(Math.sin(i)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(i))}else{var s=UW(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-mH)<=_H)return e.x=this.long0,e.y=mH,o<0&&(e.y*=-1),e;var a=zW(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),u=r*this.a/a,d=u*u;t=s-a*Math.tan(s)/l*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(s)}return e.x=$H(n+this.long0),e.y=jW(t),e},names:["Cassini","Cassini_Soldner","cass"]};function HW(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var VW=.3333333333333333,WW=.17222222222222222,XW=.10257936507936508,qW=.06388888888888888,KW=.0664021164021164,YW=.016415012942191543;const ZW={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-mH)<_H?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<_H?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=HW(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*VW,t=e*e,n[0]+=t*WW,n[1]=t*qW,t*=e,n[0]+=t*XW,n[1]+=t*KW,n[2]=t*YW,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=HW(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,o,i,s,a,l,c,u,d=e.x,h=e.y;if(d=$H(d-this.long0),this.sphere){if(i=Math.sin(h),u=Math.cos(h),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*i+this.cosph0*u*r)<=_H)return null;t=(n=Math.sqrt(2/n))*u*Math.sin(d),n*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<_H)return null;n=AH-.5*h,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),o=Math.sin(d),i=Math.sin(h),s=HW(this.e,i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=mH+h,s=this.qp-s;break;case this.S_POLE:c=h-mH,s=this.qp+s}if(Math.abs(c)<_H)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*r):(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*o;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*o,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,o,i,s,a,l=e.x/this.a,c=e.y/this.a;if(this.sphere){var u,d=0,h=0;if((n=.5*(u=Math.sqrt(l*l+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=_H?0:Math.asin(c*h/u),l*=h,c=d*u;break;case this.OBLIQ:n=Math.abs(u)<=_H?this.lat0:Math.asin(d*this.sinph0+c*h*this.cosph0/u),l*=h*this.cosph0,c=(d-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=mH-n;break;case this.S_POLE:n-=mH}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,(s=Math.sqrt(l*l+c*c))<_H)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*s/this.rq),r=Math.cos(o),l*=o=Math.sin(o),this.mode===this.OBLIQ?(a=r*this.sinb1+c*o*this.cosb1/s,i=this.qp*a,c=s*this.cosb1*r-c*this.sinb1*o):(a=c*o/s,i=this.qp*a,c=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(i=l*l+c*c))return e.x=this.long0,e.y=this.lat0,e;a=1-i/this.qp,this.mode===this.S_POLE&&(a=-a)}t=Math.atan2(l,c),n=function(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}(Math.asin(a),this.apa)}return e.x=$H(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function QW(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}const $W={init:function(){Math.abs(this.lat1+this.lat2)<_H||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ZH(this.e3,this.sin_po,this.cos_po),this.qs1=HW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ZH(this.e3,this.sin_po,this.cos_po),this.qs2=HW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=HW(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_H?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=HW(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,i=this.ns0*$H(t-this.long0),s=o*Math.sin(i)+this.x0,a=this.rh-o*Math.cos(i)+this.y0;return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,o,i,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),o=0,0!==t&&(o=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),i=$H(o/this.ns0+this.long0),e.x=i,e.y=s,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,o,i,s=QW(.5*t);if(e<_H)return s;for(var a=e*e,l=1;l<=25;l++)if(s+=i=.5*(o=1-(r=e*(n=Math.sin(s)))*r)*o/Math.cos(s)*(t/(1-a)-n/o+.5/e*Math.log((1-r)/(1+r))),Math.abs(i)<=1e-7)return s;return null}};const JW={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,o,i,s,a,l=e.x,c=e.y;return r=$H(l-this.long0),t=Math.sin(c),n=Math.cos(c),o=Math.cos(r),1,(i=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(i)<=_H?(s=this.x0+1*this.a*n*Math.sin(r)/i,a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)/i):(s=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*o)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,o,i,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(o=Math.atan2(t,this.rc),n=Math.sin(o),s=QW((r=Math.cos(o))*this.sin_p14+e.y*n*this.cos_p14/t),i=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),i=$H(this.long0+i)):(s=this.phic0,i=0),e.x=i,e.y=s,e},names:["gnom"]};const eX={init:function(){this.sphere||(this.k0=ZH(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,o=e.y,i=$H(r-this.long0);if(this.sphere)t=this.x0+this.a*i*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var s=HW(this.e,Math.sin(o));t=this.x0+this.a*this.k0*i,n=this.y0+this.a*s*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=$H(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*mH:mH;for(var r,o,i,s,a=Math.asin(.5*t),l=0;l<30;l++)if(o=Math.sin(a),i=Math.cos(a),s=e*o,a+=r=Math.pow(1-s*s,2)/(2*i)*(t/(1-e*e)-o/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return a;return NaN}(this.e,2*e.y*this.k0/this.a),t=$H(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]};const tX={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=$H(t-this.long0),o=jW(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*o,e},inverse:function(e){var t=e.x,n=e.y;return e.x=$H(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=jW(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const nX={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=NW(this.es),this.e1=FW(this.es),this.e2=DW(this.es),this.e3=BW(this.es),this.ml0=this.a*LW(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,o=e.x,i=e.y,s=$H(o-this.long0);if(r=s*Math.sin(i),this.sphere)Math.abs(i)<=_H?(t=this.a*s,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(i),n=this.a*(jW(i-this.lat0)+(1-Math.cos(r))/Math.tan(i)));else if(Math.abs(i)<=_H)t=this.a*s,n=-1*this.ml0;else{var a=zW(this.a,this.e,Math.sin(i))/Math.tan(i);t=a*Math.sin(r),n=this.a*LW(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,o,i,s,a,l,c;if(r=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=_H)t=$H(r/this.a+this.long0),n=0;else{var u;for(s=this.lat0+o/this.a,a=r*r/this.a/this.a+s*s,l=s,i=20;i;--i)if(l+=c=-1*(s*(l*(u=Math.tan(l))+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),Math.abs(c)<=_H){n=l;break}t=$H(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=_H)n=0,t=$H(this.long0+r/this.a);else{var d,h,p,f,g;for(s=(this.ml0+o)/this.a,a=r*r/this.a/this.a+s*s,l=s,i=20;i;--i)if(g=this.e*Math.sin(l),d=Math.sqrt(1-g*g)*Math.tan(l),h=this.a*LW(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(s*(d*(f=h/this.a)+1)-f-.5*d*(f*f+a))/(this.es*Math.sin(2*l)*(f*f+a-2*s*f)/(4*d)+(s-f)*(d*p-2/Math.sin(2*l))-p),Math.abs(c)<=_H){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=$H(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]};const rX={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,o=n-this.long0,i=r/gH*1e-5,s=o,a=1,l=0;for(t=1;t<=10;t++)a*=i,l+=this.A[t]*a;var c,u=l,d=s,h=1,p=0,f=0,g=0;for(t=1;t<=6;t++)c=p*u+h*d,h=h*u-p*d,p=c,f=f+this.B_re[t]*h-this.B_im[t]*p,g=g+this.B_im[t]*h+this.B_re[t]*p;return e.x=g*this.a+this.x0,e.y=f*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,o=e.y,i=r-this.x0,s=(o-this.y0)/this.a,a=i/this.a,l=1,c=0,u=0,d=0;for(t=1;t<=6;t++)n=c*s+l*a,l=l*s-c*a,c=n,u=u+this.C_re[t]*l-this.C_im[t]*c,d=d+this.C_im[t]*l+this.C_re[t]*c;for(var h=0;h<this.iterations;h++){var p,f=u,g=d,m=s,v=a;for(t=2;t<=6;t++)p=g*u+f*d,f=f*u-g*d,g=p,m+=(t-1)*(this.B_re[t]*f-this.B_im[t]*g),v+=(t-1)*(this.B_im[t]*f+this.B_re[t]*g);f=1,g=0;var y=this.B_re[1],b=this.B_im[1];for(t=2;t<=6;t++)p=g*u+f*d,f=f*u-g*d,g=p,y+=t*(this.B_re[t]*f-this.B_im[t]*g),b+=t*(this.B_im[t]*f+this.B_re[t]*g);var _=y*y+b*b;u=(m*y+v*b)/_,d=(v*y-m*b)/_}var w=u,x=d,A=1,E=0;for(t=1;t<=9;t++)A*=w,E+=this.D[t]*A;var S=this.lat0+E*gH*1e5,C=this.long0+x;return e.x=C,e.y=S,e},names:["New_Zealand_Map_Grid","nzmg"]};const oX={init:function(){},forward:function(e){var t=e.x,n=e.y,r=$H(t-this.long0),o=this.x0+this.a*r,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=o,e.y=i,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=$H(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]};const iX={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pW(this.es)},forward:function(e){var t,n,r=e.x,o=e.y;if(r=$H(r-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(o),s=20;s;--s){var a=(this.m*o+Math.sin(o)-i)/(this.m+Math.cos(o));if(o-=a,Math.abs(a)<_H)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;t=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var l=Math.sin(o),c=Math.cos(o);n=this.a*fW(o,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=QW((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=QW(Math.sin(t)/this.n)),n=$H(n+this.long0),t=jW(t)):(t=mW(e.y/this.a,this.es,this.en),(r=Math.abs(t))<mH?(r=Math.sin(t),n=$H(this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)))):r-_H<mH&&(n=this.long0)),e.x=n,e.y=t,e},names:["Sinusoidal","sinu"]};const sX={init:function(){},forward:function(e){for(var t=e.x,n=e.y,r=$H(t-this.long0),o=n,i=Math.PI*Math.sin(n);;){var s=-(o+Math.sin(o)-i)/(1+Math.cos(o));if(o+=s,Math.abs(s)<_H)break}o/=2,Math.PI/2-Math.abs(n)<_H&&(r=0);var a=.900316316158*this.a*r*Math.cos(o)+this.x0,l=1.4142135623731*this.a*Math.sin(o)+this.y0;return e.x=a,e.y=l,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=$H(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return e.x=r,e.y=o,e},names:["Mollweide","moll"]};const aX={init:function(){Math.abs(this.lat1+this.lat2)<_H||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=NW(this.es),this.e1=FW(this.es),this.e2=DW(this.es),this.e3=BW(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ZH(this.e,this.sinphi,this.cosphi),this.ml1=LW(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_H?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ZH(this.e,this.sinphi,this.cosphi),this.ml2=LW(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=LW(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var o=LW(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-o)}var i=this.ns*$H(n-this.long0),s=this.x0+t*Math.sin(i),a=this.y0+this.rh-t*Math.cos(i);return e.x=s,e.y=a,e},inverse:function(e){var t,n,r,o;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var i=0;return 0!==n&&(i=Math.atan2(t*e.x,t*e.y)),this.sphere?(o=$H(this.long0+i/this.ns),r=jW(this.g-n/this.a),e.x=o,e.y=r,e):(r=UW(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),o=$H(this.long0+i/this.ns),e.x=o,e.y=r,e)},names:["Equidistant_Conic","eqdc"]};const lX={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,o=e.y,i=$H(r-this.long0);Math.abs(o)<=_H&&(t=this.x0+this.R*i,n=this.y0);var s=QW(2*Math.abs(o/Math.PI));(Math.abs(i)<=_H||Math.abs(Math.abs(o)-mH)<=_H)&&(t=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),d=u/(c+u-1),h=d*d,p=d*(2/c-1),f=p*p,g=Math.PI*this.R*(a*(d-f)+Math.sqrt(l*(d-f)*(d-f)-(f+l)*(h-f)))/(f+l);i<0&&(g=-g),t=this.x0+g;var m=l+d;return g=Math.PI*this.R*(p*m-a*Math.sqrt((f+l)*(l+1)-m*m))/(f+l),n=o>=0?this.y0+g:this.y0-g,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,o,i,s,a,l,c,u,d,h;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=(r=e.x/d)*r+(o=e.y/d)*o,d=3*(o*o/(l=-2*(s=-Math.abs(o)*(1+i))+1+2*o*o+i*i)+(2*(a=s-2*o*o+r*r)*a*a/l/l/l-9*s*a/l/l)/27)/(c=(s-a*a/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(d)>1&&(d=d>=0?1:-1),h=Math.acos(d)/3,n=e.y>=0?(-u*Math.cos(h+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(h+Math.PI/3)-a/3/l)*Math.PI,t=Math.abs(r)<_H?this.long0:$H(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(r*r-o*o)+i*i))/2/r),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const cX={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,r,o,i,s,a,l,c,u,d,h,p,f,g,m,v,y,b,_,w,x,A=e.x,E=e.y,S=Math.sin(e.y),C=Math.cos(e.y),M=$H(A-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=_H?(e.x=this.x0+this.a*(mH-E)*Math.sin(M),e.y=this.y0-this.a*(mH-E)*Math.cos(M),e):Math.abs(this.sin_p12+1)<=_H?(e.x=this.x0+this.a*(mH+E)*Math.sin(M),e.y=this.y0+this.a*(mH+E)*Math.cos(M),e):(y=this.sin_p12*S+this.cos_p12*C*Math.cos(M),v=(m=Math.acos(y))?m/Math.sin(m):1,e.x=this.x0+this.a*v*C*Math.sin(M),e.y=this.y0+this.a*v*(this.cos_p12*S-this.sin_p12*C*Math.cos(M)),e):(t=NW(this.es),n=FW(this.es),r=DW(this.es),o=BW(this.es),Math.abs(this.sin_p12-1)<=_H?(i=this.a*LW(t,n,r,o,mH),s=this.a*LW(t,n,r,o,E),e.x=this.x0+(i-s)*Math.sin(M),e.y=this.y0-(i-s)*Math.cos(M),e):Math.abs(this.sin_p12+1)<=_H?(i=this.a*LW(t,n,r,o,mH),s=this.a*LW(t,n,r,o,E),e.x=this.x0+(i+s)*Math.sin(M),e.y=this.y0+(i+s)*Math.cos(M),e):(a=S/C,l=zW(this.a,this.e,this.sin_p12),c=zW(this.a,this.e,S),u=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*C)),b=0===(d=Math.atan2(Math.sin(M),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(M)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(d)-Math.PI)<=_H?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(M)*Math.cos(u)/Math.sin(d)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),m=l*b*(1-(_=b*b)*(g=(p=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*p)*(1-g)/6+(w=_*b)/8*(f=h*p)*(1-2*g)+(x=w*b)/120*(g*(4-7*g)-3*h*h*(1-7*g))-x*b/48*f),e.x=this.x0+m*Math.sin(d),e.y=this.y0+m*Math.cos(d),e))},inverse:function(e){var t,n,r,o,i,s,a,l,c,u,d,h,p,f,g,m,v,y,b,_,w,x,A;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*mH*this.a)return;return n=t/this.a,r=Math.sin(n),o=Math.cos(n),i=this.long0,Math.abs(t)<=_H?s=this.lat0:(s=QW(o*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-mH,i=Math.abs(a)<=_H?this.lat0>=0?$H(this.long0+Math.atan2(e.x,-e.y)):$H(this.long0-Math.atan2(-e.x,e.y)):$H(this.long0+Math.atan2(e.x*r,t*this.cos_p12*o-e.y*this.sin_p12*r))),e.x=i,e.y=s,e}return l=NW(this.es),c=FW(this.es),u=DW(this.es),d=BW(this.es),Math.abs(this.sin_p12-1)<=_H?(s=UW(((h=this.a*LW(l,c,u,d,mH))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,l,c,u,d),i=$H(this.long0+Math.atan2(e.x,-1*e.y)),e.x=i,e.y=s,e):Math.abs(this.sin_p12+1)<=_H?(h=this.a*LW(l,c,u,d,mH),s=UW(((t=Math.sqrt(e.x*e.x+e.y*e.y))-h)/this.a,l,c,u,d),i=$H(this.long0+Math.atan2(e.x,e.y)),e.x=i,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),g=Math.atan2(e.x,e.y),p=zW(this.a,this.e,this.sin_p12),m=Math.cos(g),y=-(v=this.e*this.cos_p12*m)*v/(1-this.es),b=3*this.es*(1-y)*this.sin_p12*this.cos_p12*m/(1-this.es),x=1-y*(w=(_=t/p)-y*(1+y)*Math.pow(_,3)/6-b*(1+3*y)*Math.pow(_,4)/24)*w/2-_*w*w*w/6,f=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m),i=$H(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(f))),A=Math.sin(f),s=Math.atan2((A-this.es*x*this.sin_p12)*Math.tan(f),A*(1-this.es)),e.x=i,e.y=s,e)},names:["Azimuthal_Equidistant","aeqd"]};const uX={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,o,i,s,a,l=e.x,c=e.y;return r=$H(l-this.long0),t=Math.sin(c),n=Math.cos(c),o=Math.cos(r),1,((i=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(i)<=_H)&&(s=1*this.a*n*Math.sin(r),a=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)),e.x=s,e.y=a,e},inverse:function(e){var t,n,r,o,i,s,a;return e.x-=this.x0,e.y-=this.y0,n=QW((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),r=Math.sin(n),o=Math.cos(n),s=this.long0,Math.abs(t)<=_H?(a=this.lat0,e.x=s,e.y=a,e):(a=QW(o*this.sin_p14+e.y*r*this.cos_p14/t),i=Math.abs(this.lat0)-mH,Math.abs(i)<=_H?(s=this.lat0>=0?$H(this.long0+Math.atan2(e.x,-e.y)):$H(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=a,e):(s=$H(this.long0+Math.atan2(e.x*r,t*this.cos_p14*o-e.y*this.sin_p14*r)),e.x=s,e.y=a,e))},names:["ortho"]};var dX=1,hX=2,pX=3,fX=4,gX=5,mX=6,vX={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function yX(e,t,n,r){var o;return e<_H?(r.value=vX.AREA_0,o=0):(o=Math.atan2(t,n),Math.abs(o)<=AH?r.value=vX.AREA_0:o>AH&&o<=mH+AH?(r.value=vX.AREA_1,o-=mH):o>mH+AH||o<=-(mH+AH)?(r.value=vX.AREA_2,o=o>=0?o-SH:o+SH):(r.value=vX.AREA_3,o+=mH)),o}function bX(e,t){var n=e+t;return n<-SH?n+=EH:n>+SH&&(n-=EH),n}const _X={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=mH-AH/2?this.face=gX:this.lat0<=-(mH-AH/2)?this.face=mX:Math.abs(this.long0)<=AH?this.face=dX:Math.abs(this.long0)<=mH+AH?this.face=this.long0>0?hX:fX:this.face=pX,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,o,i,s,a={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===gX)o=mH-t,n>=AH&&n<=mH+AH?(l.value=vX.AREA_0,r=n-mH):n>mH+AH||n<=-(mH+AH)?(l.value=vX.AREA_1,r=n>0?n-SH:n+SH):n>-(mH+AH)&&n<=-AH?(l.value=vX.AREA_2,r=n+mH):(l.value=vX.AREA_3,r=n);else if(this.face===mX)o=mH+t,n>=AH&&n<=mH+AH?(l.value=vX.AREA_0,r=-n+mH):n<AH&&n>=-AH?(l.value=vX.AREA_1,r=-n):n<-AH&&n>=-(mH+AH)?(l.value=vX.AREA_2,r=-n-mH):(l.value=vX.AREA_3,r=n>0?-n+SH:-n-SH);else{var c,u,d,h,p,f;this.face===hX?n=bX(n,+mH):this.face===pX?n=bX(n,+SH):this.face===fX&&(n=bX(n,-mH)),h=Math.sin(t),p=Math.cos(t),f=Math.sin(n),c=p*Math.cos(n),u=p*f,d=h,this.face===dX?r=yX(o=Math.acos(c),d,u,l):this.face===hX?r=yX(o=Math.acos(u),d,-c,l):this.face===pX?r=yX(o=Math.acos(-c),d,-u,l):this.face===fX?r=yX(o=Math.acos(-u),d,c,l):(o=r=0,l.value=vX.AREA_0)}return s=Math.atan(12/SH*(r+Math.acos(Math.sin(r)*Math.cos(AH))-mH)),i=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===vX.AREA_1?s+=mH:l.value===vX.AREA_2?s+=SH:l.value===vX.AREA_3&&(s+=1.5*SH),a.x=i*Math.cos(s),a.y=i*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,e.x=a.x,e.y=a.y,e},inverse:function(e){var t,n,r,o,i,s,a,l,c,u,d,h,p={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=vX.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=vX.AREA_1,t-=mH):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=vX.AREA_2,t=t<0?t+SH:t-SH):(f.value=vX.AREA_3,t+=mH),c=SH/12*Math.tan(t),i=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(i),(a=1-(r=Math.cos(t))*r*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===gX)l=Math.acos(a),p.phi=mH-l,f.value===vX.AREA_0?p.lam=s+mH:f.value===vX.AREA_1?p.lam=s<0?s+SH:s-SH:f.value===vX.AREA_2?p.lam=s-mH:p.lam=s;else if(this.face===mX)l=Math.acos(a),p.phi=l-mH,f.value===vX.AREA_0?p.lam=-s+mH:f.value===vX.AREA_1?p.lam=-s:f.value===vX.AREA_2?p.lam=-s-mH:p.lam=s<0?-s-SH:-s+SH;else{var g,m,v;c=(g=a)*g,m=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*v)>=1?0:Math.sqrt(1-c),f.value===vX.AREA_1?(c=m,m=-v,v=c):f.value===vX.AREA_2?(m=-m,v=-v):f.value===vX.AREA_3&&(c=m,m=v,v=-c),this.face===hX?(c=g,g=-m,m=c):this.face===pX?(g=-g,m=-m):this.face===fX&&(c=g,g=m,m=-c),p.phi=Math.acos(-v)-mH,p.lam=Math.atan2(m,g),this.face===hX?p.lam=bX(p.lam,-mH):this.face===pX?p.lam=bX(p.lam,-SH):this.face===fX&&(p.lam=bX(p.lam,+mH))}return 0!==this.es&&(u=p.phi<0?1:0,d=Math.tan(p.phi),h=this.b/Math.sqrt(d*d+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-h*h)/(this.one_minus_f*h)),u&&(p.phi=-p.phi)),p.lam+=this.long0,e.x=p.lam,e.y=p.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var wX=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],xX=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],AX=.8487,EX=1.3523,SX=xH/5,CX=1/SX,MX=18,RX=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};const TX={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=$H(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*SX);r<0?r=0:r>=MX&&(r=17);var o={x:RX(wX[r],n=xH*(n-CX*r))*t,y:RX(xX[r],n)};return e.y<0&&(o.y=-o.y),o.x=o.x*this.a*AX+this.x0,o.y=o.y*this.a*EX+this.y0,o},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*AX),y:Math.abs(e.y-this.y0)/(this.a*EX)};if(t.y>=1)t.x/=wX[18][0],t.y=e.y<0?-mH:mH;else{var n=Math.floor(t.y*MX);for(n<0?n=0:n>=MX&&(n=17);;)if(xX[n][0]>t.y)--n;else{if(!(xX[n+1][0]<=t.y))break;++n}var r=xX[n],o=5*(t.y-r[0])/(xX[n+1][0]-r[0]);o=function(e,t,n,r){for(var o=t;r;--r){var i=e(o);if(o-=i,Math.abs(i)<n)break}return o}((function(e){return(RX(r,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(r,e)}),o,_H,100),t.x/=RX(wX[n],o),t.y=(5*n+o)*wH,e.y<0&&(t.y=-t.y)}return t.x=$H(t.x+this.long0),t},names:["Robinson","robin"]};const PX={init:function(){this.name="geocent"},forward:function(e){return _V(e,this.es,this.a)},inverse:function(e){return wV(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var kX=0,IX=1,OX=2,LX=3,NX={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const FX={init:function(){if(Object.keys(NX).forEach(function(e){if("undefined"===typeof this[e])this[e]=NX[e].def;else{if(NX[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);NX[e].num&&(this[e]=parseFloat(this[e]))}NX[e].degrees&&(this[e]=this[e]*wH)}.bind(this)),Math.abs(Math.abs(this.lat0)-mH)<_H?this.mode=this.lat0<0?IX:kX:Math.abs(this.lat0)<_H?this.mode=OX:(this.mode=LX,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,r,o,i=Math.sin(e.y),s=Math.cos(e.y),a=Math.cos(e.x);switch(this.mode){case LX:n=this.sinph0*i+this.cosph0*s*a;break;case OX:n=s*a;break;case IX:n=-i;break;case kX:n=i}switch(t=(n=this.pn1/(this.p-n))*s*Math.sin(e.x),this.mode){case LX:n*=this.cosph0*i-this.sinph0*s*a;break;case OX:n*=i;break;case kX:n*=-s*a;break;case IX:n*=s*a}return o=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*o,n=r*o,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,r,o={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var i=bW(e.x,e.y);if(Math.abs(i)<_H)o.x=0,o.y=e.y;else{var s,a;switch(a=1-i*i*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/i+i/this.pn1),s=Math.sqrt(1-a*a),this.mode){case LX:o.y=Math.asin(s*this.sinph0+e.y*a*this.cosph0/i),e.y=(s-this.sinph0*Math.sin(o.y))*i,e.x*=a*this.cosph0;break;case OX:o.y=Math.asin(e.y*a/i),e.y=s*i,e.x*=a;break;case kX:o.y=Math.asin(s),e.y=-e.y;break;case IX:o.y=-Math.asin(s)}o.x=Math.atan2(e.x,e.y)}return e.x=o.x+this.long0,e.y=o.y,e},names:["Tilted_Perspective","tpers"]};const DX={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,r,o,i=e.x,s=e.y;if(i-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/bW(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(i)*Math.cos(s),r=a*Math.sin(i)*Math.cos(s),o=a*Math.sin(s),(this.radius_g-n)*n-r*r-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/bW(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/bW(r,t)))}else"sphere"===this.shape&&(t=Math.cos(s),n=Math.cos(i)*t,r=Math.sin(i)*t,o=Math.sin(s),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/bW(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/bW(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,r,o,i=-1,s=0,a=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*bW(1,a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*bW(1,s));var l=a/this.radius_p;if(t=s*s+l*l+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+o*i,s*=o,a*=o,e.x=Math.atan2(s,i),e.y=Math.atan(a*Math.cos(e.x)/i),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+s*s)),t=s*s+a*a+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+o*i,s*=o,a*=o,e.x=Math.atan2(s,i),e.y=Math.atan(a*Math.cos(e.x)/i)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var BX=1.340264,zX=-.081106,jX=893e-6,UX=.003796,GX=Math.sqrt(3)/2;const HX={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(e){var t=$H(e.x-this.long0),n=e.y,r=Math.asin(GX*Math.sin(n)),o=r*r,i=o*o*o;return e.x=t*Math.cos(r)/(GX*(BX+3*zX*o+i*(7*jX+9*UX*o))),e.y=r*(BX+zX*o+i*(jX+UX*o)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,r,o,i=e.y;for(o=0;o<12&&(i-=r=(i*(BX+zX*(t=i*i)+(n=t*t*t)*(jX+UX*t))-e.y)/(BX+3*zX*t+n*(7*jX+9*UX*t)),!(Math.abs(r)<1e-9));++o);return n=(t=i*i)*t*t,e.x=GX*e.x*(BX+3*zX*t+n*(7*jX+9*UX*t))/Math.cos(i),e.y=Math.asin(Math.sin(i)/GX),e.x=$H(e.x+this.long0),e},names:["eqearth","Equal Earth","Equal_Earth"]};LV.defaultDatum="WGS84",LV.Proj=bV,LV.WGS84=new LV.Proj("WGS84"),LV.Point=eW,LV.toPoint=RV,LV.defs=WH,LV.nadgrid=function(e,t){var n=new DataView(t),r=function(e){var t=e.getInt32(8,!1);if(11===t)return!1;t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),o=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:fV(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(n,r),i=function(e,t,n){for(var r=176,o=[],i=0;i<t.nSubgrids;i++){var s=mV(e,r,n),a=vV(e,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);o.push({ll:[pV(s.lowerLongitude),pV(s.lowerLatitude)],del:[pV(s.longitudeInterval),pV(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:gV(a)}),r+=176+16*s.gridNodeCount}return o}(n,o,r),s={header:o,subgrids:i};return dV[e]=s,s},LV.transform=PV,LV.mgrs=HV,LV.version="__VERSION__",function(e){e.Proj.projections.add(vW),e.Proj.projections.add(AW),e.Proj.projections.add(EW),e.Proj.projections.add(MW),e.Proj.projections.add(RW),e.Proj.projections.add(TW),e.Proj.projections.add(kW),e.Proj.projections.add(IW),e.Proj.projections.add(OW),e.Proj.projections.add(GW),e.Proj.projections.add(ZW),e.Proj.projections.add($W),e.Proj.projections.add(JW),e.Proj.projections.add(eX),e.Proj.projections.add(tX),e.Proj.projections.add(nX),e.Proj.projections.add(rX),e.Proj.projections.add(oX),e.Proj.projections.add(iX),e.Proj.projections.add(sX),e.Proj.projections.add(aX),e.Proj.projections.add(lX),e.Proj.projections.add(cX),e.Proj.projections.add(uX),e.Proj.projections.add(_X),e.Proj.projections.add(TX),e.Proj.projections.add(PX),e.Proj.projections.add(FX),e.Proj.projections.add(DX),e.Proj.projections.add(HX)}(LV);const VX=LV;function WX(e){return e*Math.PI/180}function XX(e){return 180*e/Math.PI}const qX=e=>{var t=Object.keys(e);return e[t[t.length*Math.random()|0]]};function KX(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)({}),[i,a]=(0,t.useState)({}),[l,c]=(0,t.useState)({});return(0,t.useEffect)((()=>{if(Object.keys(i).length>0&&e.length>0){let t=function(e,t){let n=parseFloat(e.longitude),r=parseFloat(e.latitude),o=parseFloat(e.rotation),i=e.projection,s=parseFloat(e.cellSize),a=parseFloat(e.nrows),l=parseFloat(e.ncols);const c=VX.defs("EPSG:4326");let u={lon:n,lat:r},d=(90-o+360)%360,h=s*l/6371e3,p=WX(u.lat),f=WX(u.lon),g=WX(d),m=Math.asin(Math.sin(p)*Math.cos(h)+Math.cos(p)*Math.sin(h)*Math.cos(g)),v={lon:XX(f+Math.atan2(Math.sin(g)*Math.sin(h)*Math.cos(p),Math.cos(h)-Math.sin(p)*Math.sin(m))),lat:XX(m)},y=VX(c,i,[u.lon,u.lat]),b=VX(c,i,[v.lon,v.lat]),_=(b[1]-y[1])/(b[0]-y[0]),w=Math.atan(_),x=Math.cos(w),A=Math.sin(w),E=[],S=[];for(let j=0;j<a;j++)for(let e=0;e<l;e++)E.push(e*s),S.push(-j*s);let C=[],M=[];for(let j=0;j<E.length;j++)C.push(E[j]*x-S[j]*A),M.push(E[j]*A+S[j]*x);let R=[],T=[];for(let j=0;j<C.length;j++)R.push(y[0]+C[j]),T.push(y[1]+M[j]);var P=R[1]-R[0],k=T[1]-T[0],I=R[l]-R[0],O=T[l]-T[0];let L=[],N={type:"FeatureCollection",features:[]},F=t;for(let j=0;j<R.length;j++){let e=qX(F),t={type:"Feature",geometry:{type:"Polygon",coordinates:null},properties:{color:ZG(e.color),height:e.height,name:e.name,interactive:e.interactive,id:j}};for(var D=[[R[j],T[j]],[R[j]+I,T[j]+O],[R[j]+I+P,T[j]+O+k],[R[j]+P,T[j]+k],[R[j],T[j]]],B=[],z=0;z<5;z++){let e=VX(i,c,D[z]);B.push(e)}t.geometry.coordinates=[B],L.push(t)}return N.features=L,N}(i,e);c(t)}}),[i,e]),(0,s.jsxs)(s.Fragment,{children:[Object.keys(l).length>0&&(0,s.jsx)(aH,{createdGrid:l,gridProps:i,selectedType:r}),(0,s.jsx)(Vt,{direction:"left",children:(0,s.jsx)(Y,{variant:"outlined",sx:{width:"100%"},children:(0,s.jsxs)(ee,{children:[(0,s.jsx)(ce,{sx:{marginBottom:2,marginTop:5},variant:"h2",children:"CityScope Grid Maker"}),(0,s.jsx)(ce,{sx:{marginBottom:3,marginTop:3},children:"This editor can create and `commit` spatial layouts (`grids`) as a baseline for CityScope projects. Use the menus and map to edit girds, types, and props, and commit them to cityIO."}),(0,s.jsx)(Os,{setGridProps:a}),(0,s.jsx)(hA,{setTypesTable:n,setSelectedType:o}),(0,s.jsx)(OA,{gridProps:i,typesList:e,generatedGrid:l})]})})})]})}const YX=()=>(0,s.jsxs)(T,{theme:I,children:[(0,s.jsx)(p,{}),(0,s.jsx)(KX,{})]});var ZX=n(1352);const QX=document.getElementById("root");(0,ZX.H)(QX).render((0,s.jsx)(YX,{}))})()})();